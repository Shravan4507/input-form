(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function i6(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var v1={exports:{}},vh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rT;function r6(){if(rT)return vh;rT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,s){var o=null;if(s!==void 0&&(o=""+s),r.key!==void 0&&(o=""+r.key),"key"in r){s={};for(var c in r)c!=="key"&&(s[c]=r[c])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:o,ref:r!==void 0?r:null,props:s}}return vh.Fragment=e,vh.jsx=t,vh.jsxs=t,vh}var sT;function s6(){return sT||(sT=1,v1.exports=r6()),v1.exports}var q=s6(),y1={exports:{}},st={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aT;function a6(){if(aT)return st;aT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),v=Symbol.iterator;function x(ee){return ee===null||typeof ee!="object"?null:(ee=v&&ee[v]||ee["@@iterator"],typeof ee=="function"?ee:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function C(ee,V,Z){this.props=ee,this.context=V,this.refs=S,this.updater=Z||T}C.prototype.isReactComponent={},C.prototype.setState=function(ee,V){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ee,V,"setState")},C.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")};function O(){}O.prototype=C.prototype;function N(ee,V,Z){this.props=ee,this.context=V,this.refs=S,this.updater=Z||T}var H=N.prototype=new O;H.constructor=N,E(H,C.prototype),H.isPureReactComponent=!0;var Y=Array.isArray;function te(){}var A={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function I(ee,V,Z){var K=Z.ref;return{$$typeof:n,type:ee,key:V,ref:K!==void 0?K:null,props:Z}}function P(ee,V){return I(ee.type,V,ee.props)}function M(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===n}function B(ee){var V={"=":"=0",":":"=2"};return"$"+ee.replace(/[=:]/g,function(Z){return V[Z]})}var F=/\/+/g;function Te(ee,V){return typeof ee=="object"&&ee!==null&&ee.key!=null?B(""+ee.key):V.toString(36)}function Oe(ee){switch(ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason;default:switch(typeof ee.status=="string"?ee.then(te,te):(ee.status="pending",ee.then(function(V){ee.status==="pending"&&(ee.status="fulfilled",ee.value=V)},function(V){ee.status==="pending"&&(ee.status="rejected",ee.reason=V)})),ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason}}throw ee}function se(ee,V,Z,K,Q){var fe=typeof ee;(fe==="undefined"||fe==="boolean")&&(ee=null);var Ne=!1;if(ee===null)Ne=!0;else switch(fe){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(ee.$$typeof){case n:case e:Ne=!0;break;case m:return Ne=ee._init,se(Ne(ee._payload),V,Z,K,Q)}}if(Ne)return Q=Q(ee),Ne=K===""?"."+Te(ee,0):K,Y(Q)?(Z="",Ne!=null&&(Z=Ne.replace(F,"$&/")+"/"),se(Q,V,Z,"",function(Le){return Le})):Q!=null&&(M(Q)&&(Q=P(Q,Z+(Q.key==null||ee&&ee.key===Q.key?"":(""+Q.key).replace(F,"$&/")+"/")+Ne)),V.push(Q)),1;Ne=0;var je=K===""?".":K+":";if(Y(ee))for(var ke=0;ke<ee.length;ke++)K=ee[ke],fe=je+Te(K,ke),Ne+=se(K,V,Z,fe,Q);else if(ke=x(ee),typeof ke=="function")for(ee=ke.call(ee),ke=0;!(K=ee.next()).done;)K=K.value,fe=je+Te(K,ke++),Ne+=se(K,V,Z,fe,Q);else if(fe==="object"){if(typeof ee.then=="function")return se(Oe(ee),V,Z,K,Q);throw V=String(ee),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function Ee(ee,V,Z){if(ee==null)return ee;var K=[],Q=0;return se(ee,K,"","",function(fe){return V.call(Z,fe,Q++)}),K}function Ue(ee){if(ee._status===-1){var V=ee._result;V=V(),V.then(function(Z){(ee._status===0||ee._status===-1)&&(ee._status=1,ee._result=Z)},function(Z){(ee._status===0||ee._status===-1)&&(ee._status=2,ee._result=Z)}),ee._status===-1&&(ee._status=0,ee._result=V)}if(ee._status===1)return ee._result.default;throw ee._result}var He=typeof reportError=="function"?reportError:function(ee){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ee=="object"&&ee!==null&&typeof ee.message=="string"?String(ee.message):String(ee),error:ee});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ee);return}console.error(ee)},Je={map:Ee,forEach:function(ee,V,Z){Ee(ee,function(){V.apply(this,arguments)},Z)},count:function(ee){var V=0;return Ee(ee,function(){V++}),V},toArray:function(ee){return Ee(ee,function(V){return V})||[]},only:function(ee){if(!M(ee))throw Error("React.Children.only expected to receive a single React element child.");return ee}};return st.Activity=p,st.Children=Je,st.Component=C,st.Fragment=t,st.Profiler=r,st.PureComponent=N,st.StrictMode=i,st.Suspense=h,st.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,st.__COMPILER_RUNTIME={__proto__:null,c:function(ee){return A.H.useMemoCache(ee)}},st.cache=function(ee){return function(){return ee.apply(null,arguments)}},st.cacheSignal=function(){return null},st.cloneElement=function(ee,V,Z){if(ee==null)throw Error("The argument must be a React element, but you passed "+ee+".");var K=E({},ee.props),Q=ee.key;if(V!=null)for(fe in V.key!==void 0&&(Q=""+V.key),V)!D.call(V,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&V.ref===void 0||(K[fe]=V[fe]);var fe=arguments.length-2;if(fe===1)K.children=Z;else if(1<fe){for(var Ne=Array(fe),je=0;je<fe;je++)Ne[je]=arguments[je+2];K.children=Ne}return I(ee.type,Q,K)},st.createContext=function(ee){return ee={$$typeof:o,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null},ee.Provider=ee,ee.Consumer={$$typeof:s,_context:ee},ee},st.createElement=function(ee,V,Z){var K,Q={},fe=null;if(V!=null)for(K in V.key!==void 0&&(fe=""+V.key),V)D.call(V,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(Q[K]=V[K]);var Ne=arguments.length-2;if(Ne===1)Q.children=Z;else if(1<Ne){for(var je=Array(Ne),ke=0;ke<Ne;ke++)je[ke]=arguments[ke+2];Q.children=je}if(ee&&ee.defaultProps)for(K in Ne=ee.defaultProps,Ne)Q[K]===void 0&&(Q[K]=Ne[K]);return I(ee,fe,Q)},st.createRef=function(){return{current:null}},st.forwardRef=function(ee){return{$$typeof:c,render:ee}},st.isValidElement=M,st.lazy=function(ee){return{$$typeof:m,_payload:{_status:-1,_result:ee},_init:Ue}},st.memo=function(ee,V){return{$$typeof:f,type:ee,compare:V===void 0?null:V}},st.startTransition=function(ee){var V=A.T,Z={};A.T=Z;try{var K=ee(),Q=A.S;Q!==null&&Q(Z,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(te,He)}catch(fe){He(fe)}finally{V!==null&&Z.types!==null&&(V.types=Z.types),A.T=V}},st.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},st.use=function(ee){return A.H.use(ee)},st.useActionState=function(ee,V,Z){return A.H.useActionState(ee,V,Z)},st.useCallback=function(ee,V){return A.H.useCallback(ee,V)},st.useContext=function(ee){return A.H.useContext(ee)},st.useDebugValue=function(){},st.useDeferredValue=function(ee,V){return A.H.useDeferredValue(ee,V)},st.useEffect=function(ee,V){return A.H.useEffect(ee,V)},st.useEffectEvent=function(ee){return A.H.useEffectEvent(ee)},st.useId=function(){return A.H.useId()},st.useImperativeHandle=function(ee,V,Z){return A.H.useImperativeHandle(ee,V,Z)},st.useInsertionEffect=function(ee,V){return A.H.useInsertionEffect(ee,V)},st.useLayoutEffect=function(ee,V){return A.H.useLayoutEffect(ee,V)},st.useMemo=function(ee,V){return A.H.useMemo(ee,V)},st.useOptimistic=function(ee,V){return A.H.useOptimistic(ee,V)},st.useReducer=function(ee,V,Z){return A.H.useReducer(ee,V,Z)},st.useRef=function(ee){return A.H.useRef(ee)},st.useState=function(ee){return A.H.useState(ee)},st.useSyncExternalStore=function(ee,V,Z){return A.H.useSyncExternalStore(ee,V,Z)},st.useTransition=function(){return A.H.useTransition()},st.version="19.2.0",st}var oT;function Z_(){return oT||(oT=1,y1.exports=a6()),y1.exports}var oe=Z_();const mA=i6(oe);var x1={exports:{}},yh={},E1={exports:{}},T1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lT;function o6(){return lT||(lT=1,(function(n){function e(se,Ee){var Ue=se.length;se.push(Ee);e:for(;0<Ue;){var He=Ue-1>>>1,Je=se[He];if(0<r(Je,Ee))se[He]=Ee,se[Ue]=Je,Ue=He;else break e}}function t(se){return se.length===0?null:se[0]}function i(se){if(se.length===0)return null;var Ee=se[0],Ue=se.pop();if(Ue!==Ee){se[0]=Ue;e:for(var He=0,Je=se.length,ee=Je>>>1;He<ee;){var V=2*(He+1)-1,Z=se[V],K=V+1,Q=se[K];if(0>r(Z,Ue))K<Je&&0>r(Q,Z)?(se[He]=Q,se[K]=Ue,He=K):(se[He]=Z,se[V]=Ue,He=V);else if(K<Je&&0>r(Q,Ue))se[He]=Q,se[K]=Ue,He=K;else break e}}return Ee}function r(se,Ee){var Ue=se.sortIndex-Ee.sortIndex;return Ue!==0?Ue:se.id-Ee.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();n.unstable_now=function(){return o.now()-c}}var h=[],f=[],m=1,p=null,v=3,x=!1,T=!1,E=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function H(se){for(var Ee=t(f);Ee!==null;){if(Ee.callback===null)i(f);else if(Ee.startTime<=se)i(f),Ee.sortIndex=Ee.expirationTime,e(h,Ee);else break;Ee=t(f)}}function Y(se){if(E=!1,H(se),!T)if(t(h)!==null)T=!0,te||(te=!0,B());else{var Ee=t(f);Ee!==null&&Oe(Y,Ee.startTime-se)}}var te=!1,A=-1,D=5,I=-1;function P(){return S?!0:!(n.unstable_now()-I<D)}function M(){if(S=!1,te){var se=n.unstable_now();I=se;var Ee=!0;try{e:{T=!1,E&&(E=!1,O(A),A=-1),x=!0;var Ue=v;try{t:{for(H(se),p=t(h);p!==null&&!(p.expirationTime>se&&P());){var He=p.callback;if(typeof He=="function"){p.callback=null,v=p.priorityLevel;var Je=He(p.expirationTime<=se);if(se=n.unstable_now(),typeof Je=="function"){p.callback=Je,H(se),Ee=!0;break t}p===t(h)&&i(h),H(se)}else i(h);p=t(h)}if(p!==null)Ee=!0;else{var ee=t(f);ee!==null&&Oe(Y,ee.startTime-se),Ee=!1}}break e}finally{p=null,v=Ue,x=!1}Ee=void 0}}finally{Ee?B():te=!1}}}var B;if(typeof N=="function")B=function(){N(M)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,Te=F.port2;F.port1.onmessage=M,B=function(){Te.postMessage(null)}}else B=function(){C(M,0)};function Oe(se,Ee){A=C(function(){se(n.unstable_now())},Ee)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(se){switch(v){case 1:case 2:case 3:var Ee=3;break;default:Ee=v}var Ue=v;v=Ee;try{return se()}finally{v=Ue}},n.unstable_requestPaint=function(){S=!0},n.unstable_runWithPriority=function(se,Ee){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var Ue=v;v=se;try{return Ee()}finally{v=Ue}},n.unstable_scheduleCallback=function(se,Ee,Ue){var He=n.unstable_now();switch(typeof Ue=="object"&&Ue!==null?(Ue=Ue.delay,Ue=typeof Ue=="number"&&0<Ue?He+Ue:He):Ue=He,se){case 1:var Je=-1;break;case 2:Je=250;break;case 5:Je=1073741823;break;case 4:Je=1e4;break;default:Je=5e3}return Je=Ue+Je,se={id:m++,callback:Ee,priorityLevel:se,startTime:Ue,expirationTime:Je,sortIndex:-1},Ue>He?(se.sortIndex=Ue,e(f,se),t(h)===null&&se===t(f)&&(E?(O(A),A=-1):E=!0,Oe(Y,Ue-He))):(se.sortIndex=Je,e(h,se),T||x||(T=!0,te||(te=!0,B()))),se},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(se){var Ee=v;return function(){var Ue=v;v=Ee;try{return se.apply(this,arguments)}finally{v=Ue}}}})(T1)),T1}var cT;function l6(){return cT||(cT=1,E1.exports=o6()),E1.exports}var S1={exports:{}},yi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uT;function c6(){if(uT)return yi;uT=1;var n=Z_();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(h,f,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:p==null?null:""+p,children:h,containerInfo:f,implementation:m}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return yi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,yi.createPortal=function(h,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(h,f,null,m)},yi.flushSync=function(h){var f=o.T,m=i.p;try{if(o.T=null,i.p=2,h)return h()}finally{o.T=f,i.p=m,i.d.f()}},yi.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(h,f))},yi.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},yi.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?i.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:x}):m==="script"&&i.d.X(h,{crossOrigin:p,integrity:v,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},yi.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=c(f.as,f.crossOrigin);i.d.M(h,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(h)},yi.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin);i.d.L(h,m,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},yi.preloadModule=function(h,f){if(typeof h=="string")if(f){var m=c(f.as,f.crossOrigin);i.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(h)},yi.requestFormReset=function(h){i.d.r(h)},yi.unstable_batchedUpdates=function(h,f){return h(f)},yi.useFormState=function(h,f,m){return o.H.useFormState(h,f,m)},yi.useFormStatus=function(){return o.H.useHostTransitionStatus()},yi.version="19.2.0",yi}var hT;function u6(){if(hT)return S1.exports;hT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),S1.exports=c6(),S1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fT;function h6(){if(fT)return yh;fT=1;var n=l6(),e=Z_(),t=u6();function i(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var l=a,u=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(u=l.return),a=l.return;while(a)}return l.tag===3?u:null}function o(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function c(a){if(a.tag===31){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function h(a){if(s(a)!==a)throw Error(i(188))}function f(a){var l=a.alternate;if(!l){if(l=s(a),l===null)throw Error(i(188));return l!==a?null:a}for(var u=a,d=l;;){var _=u.return;if(_===null)break;var y=_.alternate;if(y===null){if(d=_.return,d!==null){u=d;continue}break}if(_.child===y.child){for(y=_.child;y;){if(y===u)return h(_),a;if(y===d)return h(_),l;y=y.sibling}throw Error(i(188))}if(u.return!==d.return)u=_,d=y;else{for(var b=!1,L=_.child;L;){if(L===u){b=!0,u=_,d=y;break}if(L===d){b=!0,d=_,u=y;break}L=L.sibling}if(!b){for(L=y.child;L;){if(L===u){b=!0,u=y,d=_;break}if(L===d){b=!0,d=y,u=_;break}L=L.sibling}if(!b)throw Error(i(189))}}if(u.alternate!==d)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?a:l}function m(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=m(a),l!==null)return l;a=a.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),N=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function B(a){return a===null||typeof a!="object"?null:(a=M&&a[M]||a["@@iterator"],typeof a=="function"?a:null)}var F=Symbol.for("react.client.reference");function Te(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===F?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case C:return"Profiler";case S:return"StrictMode";case Y:return"Suspense";case te:return"SuspenseList";case I:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case T:return"Portal";case N:return a.displayName||"Context";case O:return(a._context.displayName||"Context")+".Consumer";case H:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case A:return l=a.displayName||null,l!==null?l:Te(a.type)||"Memo";case D:l=a._payload,a=a._init;try{return Te(a(l))}catch{}}return null}var Oe=Array.isArray,se=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ue={pending:!1,data:null,method:null,action:null},He=[],Je=-1;function ee(a){return{current:a}}function V(a){0>Je||(a.current=He[Je],He[Je]=null,Je--)}function Z(a,l){Je++,He[Je]=a.current,a.current=l}var K=ee(null),Q=ee(null),fe=ee(null),Ne=ee(null);function je(a,l){switch(Z(fe,l),Z(Q,a),Z(K,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?CE(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=CE(l),a=RE(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}V(K),Z(K,a)}function ke(){V(K),V(Q),V(fe)}function Le(a){a.memoizedState!==null&&Z(Ne,a);var l=K.current,u=RE(l,a.type);l!==u&&(Z(Q,a),Z(K,u))}function pt(a){Q.current===a&&(V(K),V(Q)),Ne.current===a&&(V(Ne),mh._currentValue=Ue)}var ot,At;function rt(a){if(ot===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);ot=l&&l[1]||"",At=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ot+a+At}var Gn=!1;function Ct(a,l){if(!a||Gn)return"";Gn=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(l){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(_e){var ge=_e}Reflect.construct(a,[],we)}else{try{we.call()}catch(_e){ge=_e}a.call(we.prototype)}}else{try{throw Error()}catch(_e){ge=_e}(we=a())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(_e){if(_e&&ge&&typeof _e.stack=="string")return[_e.stack,ge.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=d.DetermineComponentFrameRoot(),b=y[0],L=y[1];if(b&&L){var J=b.split(`
`),he=L.split(`
`);for(_=d=0;d<J.length&&!J[d].includes("DetermineComponentFrameRoot");)d++;for(;_<he.length&&!he[_].includes("DetermineComponentFrameRoot");)_++;if(d===J.length||_===he.length)for(d=J.length-1,_=he.length-1;1<=d&&0<=_&&J[d]!==he[_];)_--;for(;1<=d&&0<=_;d--,_--)if(J[d]!==he[_]){if(d!==1||_!==1)do if(d--,_--,0>_||J[d]!==he[_]){var xe=`
`+J[d].replace(" at new "," at ");return a.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",a.displayName)),xe}while(1<=d&&0<=_);break}}}finally{Gn=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?rt(u):""}function qe(a,l){switch(a.tag){case 26:case 27:case 5:return rt(a.type);case 16:return rt("Lazy");case 13:return a.child!==l&&l!==null?rt("Suspense Fallback"):rt("Suspense");case 19:return rt("SuspenseList");case 0:case 15:return Ct(a.type,!1);case 11:return Ct(a.type.render,!1);case 1:return Ct(a.type,!0);case 31:return rt("Activity");default:return""}}function sn(a){try{var l="",u=null;do l+=qe(a,u),u=a,a=a.return;while(a);return l}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var dt=Object.prototype.hasOwnProperty,kt=n.unstable_scheduleCallback,Jn=n.unstable_cancelCallback,ba=n.unstable_shouldYield,is=n.unstable_requestPaint,ie=n.unstable_now,Ce=n.unstable_getCurrentPriorityLevel,$e=n.unstable_ImmediatePriority,Pt=n.unstable_UserBlockingPriority,wt=n.unstable_NormalPriority,pi=n.unstable_LowPriority,en=n.unstable_IdlePriority,Wn=n.log,ei=n.unstable_setDisableYieldValue,ti=null,Cn=null;function Ii(a){if(typeof Wn=="function"&&ei(a),Cn&&typeof Cn.setStrictMode=="function")try{Cn.setStrictMode(ti,a)}catch{}}var dn=Math.clz32?Math.clz32:Lo,Hl=Math.log,Ns=Math.LN2;function Lo(a){return a>>>=0,a===0?32:31-(Hl(a)/Ns|0)|0}var Qi=256,Ms=262144,pn=4194304;function Di(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function mr(a,l,u){var d=a.pendingLanes;if(d===0)return 0;var _=0,y=a.suspendedLanes,b=a.pingedLanes;a=a.warmLanes;var L=d&134217727;return L!==0?(d=L&~y,d!==0?_=Di(d):(b&=L,b!==0?_=Di(b):u||(u=L&~a,u!==0&&(_=Di(u))))):(L=d&~y,L!==0?_=Di(L):b!==0?_=Di(b):u||(u=d&~a,u!==0&&(_=Di(u)))),_===0?0:l!==0&&l!==_&&(l&y)===0&&(y=_&-_,u=l&-l,y>=u||y===32&&(u&4194048)!==0)?l:_}function Zi(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function wu(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ql(){var a=pn;return pn<<=1,(pn&62914560)===0&&(pn=4194304),a}function gr(a){for(var l=[],u=0;31>u;u++)l.push(a);return l}function ks(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function bu(a,l,u,d,_,y){var b=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var L=a.entanglements,J=a.expirationTimes,he=a.hiddenUpdates;for(u=b&~u;0<u;){var xe=31-dn(u),we=1<<xe;L[xe]=0,J[xe]=-1;var ge=he[xe];if(ge!==null)for(he[xe]=null,xe=0;xe<ge.length;xe++){var _e=ge[xe];_e!==null&&(_e.lane&=-536870913)}u&=~we}d!==0&&Ps(a,d,0),y!==0&&_===0&&a.tag!==0&&(a.suspendedLanes|=y&~(b&~l))}function Ps(a,l,u){a.pendingLanes|=l,a.suspendedLanes&=~l;var d=31-dn(l);a.entangledLanes|=l,a.entanglements[d]=a.entanglements[d]|1073741824|u&261930}function Fs(a,l){var u=a.entangledLanes|=l;for(a=a.entanglements;u;){var d=31-dn(u),_=1<<d;_&l|a[d]&l&&(a[d]|=l),u&=~_}}function Bo(a,l){var u=l&-l;return u=(u&42)!==0?1:Ls(u),(u&(a.suspendedLanes|l))!==0?0:u}function Ls(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Pr(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function k(){var a=Ee.p;return a!==0?a:(a=window.event,a===void 0?32:QE(a.type))}function W(a,l){var u=Ee.p;try{return Ee.p=a,l()}finally{Ee.p=u}}var U=Math.random().toString(36).slice(2),j="__reactFiber$"+U,G="__reactProps$"+U,X="__reactContainer$"+U,ce="__reactEvents$"+U,ye="__reactListeners$"+U,ue="__reactHandles$"+U,me="__reactResources$"+U,de="__reactMarker$"+U;function De(a){delete a[j],delete a[G],delete a[ce],delete a[ye],delete a[ue]}function Me(a){var l=a[j];if(l)return l;for(var u=a.parentNode;u;){if(l=u[X]||u[j]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(a=PE(a);a!==null;){if(u=a[j])return u;a=PE(a)}return l}a=u,u=a.parentNode}return null}function ze(a){if(a=a[j]||a[X]){var l=a.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return a}return null}function Ie(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(i(33))}function Ve(a){var l=a[me];return l||(l=a[me]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Xe(a){a[de]=!0}var Bt=new Set,Vt={};function tn(a,l){_i(a,l),_i(a+"Capture",l)}function _i(a,l){for(Vt[a]=l,a=0;a<l.length;a++)Bt.add(l[a])}var Fr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lr={},Ji={};function Aa(a){return dt.call(Ji,a)?!0:dt.call(Lr,a)?!1:Fr.test(a)?Ji[a]=!0:(Lr[a]=!0,!1)}function vi(a,l,u){if(Aa(l))if(u===null)a.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var d=l.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+u)}}function er(a,l,u){if(u===null)a.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+u)}}function Rn(a,l,u,d){if(d===null)a.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(l,u,""+d)}}function Yn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ca(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Au(a,l,u){var d=Object.getOwnPropertyDescriptor(a.constructor.prototype,l);if(!a.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var _=d.get,y=d.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return _.call(this)},set:function(b){u=""+b,y.call(this,b)}}),Object.defineProperty(a,l,{enumerable:d.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Ut(a){if(!a._valueTracker){var l=Ca(a)?"checked":"value";a._valueTracker=Au(a,l,""+a[l])}}function Vo(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var u=l.getValue(),d="";return a&&(d=Ca(a)?a.checked?"true":"false":a.value),a=d,a!==u?(l.setValue(a),!0):!1}function rs(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Uo=/[\n"\\]/g;function Li(a){return a.replace(Uo,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Gl(a,l,u,d,_,y,b,L){a.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?a.type=b:a.removeAttribute("type"),l!=null?b==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+Yn(l)):a.value!==""+Yn(l)&&(a.value=""+Yn(l)):b!=="submit"&&b!=="reset"||a.removeAttribute("value"),l!=null?Cu(a,b,Yn(l)):u!=null?Cu(a,b,Yn(u)):d!=null&&a.removeAttribute("value"),_==null&&y!=null&&(a.defaultChecked=!!y),_!=null&&(a.checked=_&&typeof _!="function"&&typeof _!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?a.name=""+Yn(L):a.removeAttribute("name")}function Wf(a,l,u,d,_,y,b,L){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(a.type=y),l!=null||u!=null){if(!(y!=="submit"&&y!=="reset"||l!=null)){Ut(a);return}u=u!=null?""+Yn(u):"",l=l!=null?""+Yn(l):u,L||l===a.value||(a.value=l),a.defaultValue=l}d=d??_,d=typeof d!="function"&&typeof d!="symbol"&&!!d,a.checked=L?a.checked:!!d,a.defaultChecked=!!d,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.name=b),Ut(a)}function Cu(a,l,u){l==="number"&&rs(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function Ra(a,l,u,d){if(a=a.options,l){l={};for(var _=0;_<u.length;_++)l["$"+u[_]]=!0;for(u=0;u<a.length;u++)_=l.hasOwnProperty("$"+a[u].value),a[u].selected!==_&&(a[u].selected=_),_&&d&&(a[u].defaultSelected=!0)}else{for(u=""+Yn(u),l=null,_=0;_<a.length;_++){if(a[_].value===u){a[_].selected=!0,d&&(a[_].defaultSelected=!0);return}l!==null||a[_].disabled||(l=a[_])}l!==null&&(l.selected=!0)}}function Yf(a,l,u){if(l!=null&&(l=""+Yn(l),l!==a.value&&(a.value=l),u==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=u!=null?""+Yn(u):""}function Ia(a,l,u,d){if(l==null){if(d!=null){if(u!=null)throw Error(i(92));if(Oe(d)){if(1<d.length)throw Error(i(93));d=d[0]}u=d}u==null&&(u=""),l=u}u=Yn(l),a.defaultValue=u,d=a.textContent,d===u&&d!==""&&d!==null&&(a.value=d),Ut(a)}function Bi(a,l){if(l){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=l;return}}a.textContent=l}var Xf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ru(a,l,u){var d=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":d?a.setProperty(l,u):typeof u!="number"||u===0||Xf.has(l)?l==="float"?a.cssFloat=u:a[l]=(""+u).trim():a[l]=u+"px"}function Iu(a,l,u){if(l!=null&&typeof l!="object")throw Error(i(62));if(a=a.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||l!=null&&l.hasOwnProperty(d)||(d.indexOf("--")===0?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="");for(var _ in l)d=l[_],l.hasOwnProperty(_)&&u[_]!==d&&Ru(a,_,d)}else for(var y in l)l.hasOwnProperty(y)&&Ru(a,y,l[y])}function Wl(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $f=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Da=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yl(a){return Da.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Br(){}var Du=null;function pr(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Oa=null,ss=null;function zo(a){var l=ze(a);if(l&&(a=l.stateNode)){var u=a[G]||null;e:switch(a=l.stateNode,l.type){case"input":if(Gl(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Li(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var d=u[l];if(d!==a&&d.form===a.form){var _=d[G]||null;if(!_)throw Error(i(90));Gl(d,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(l=0;l<u.length;l++)d=u[l],d.form===a.form&&Vo(d)}break e;case"textarea":Yf(a,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&Ra(a,!!u.multiple,l,!1)}}}var Xl=!1;function Na(a,l,u){if(Xl)return a(l,u);Xl=!0;try{var d=a(l);return d}finally{if(Xl=!1,(Oa!==null||ss!==null)&&(jd(),Oa&&(l=Oa,a=ss,ss=Oa=null,zo(l),a)))for(l=0;l<a.length;l++)zo(a[l])}}function Vr(a,l){var u=a.stateNode;if(u===null)return null;var d=u[G]||null;if(d===null)return null;u=d[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!d;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(i(231,l,typeof u));return u}var _r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jo=!1;if(_r)try{var $t={};Object.defineProperty($t,"passive",{get:function(){jo=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{jo=!1}var as=null,Ou=null,Ho=null;function Nu(){if(Ho)return Ho;var a,l=Ou,u=l.length,d,_="value"in as?as.value:as.textContent,y=_.length;for(a=0;a<u&&l[a]===_[a];a++);var b=u-a;for(d=1;d<=b&&l[u-d]===_[y-d];d++);return Ho=_.slice(a,1<d?1-d:void 0)}function qo(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Bs(){return!0}function Ur(){return!1}function ni(a){function l(u,d,_,y,b){this._reactName=u,this._targetInst=_,this.type=d,this.nativeEvent=y,this.target=b,this.currentTarget=null;for(var L in a)a.hasOwnProperty(L)&&(u=a[L],this[L]=u?u(y):y[L]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Bs:Ur,this.isPropagationStopped=Ur,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Bs)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Bs)},persist:function(){},isPersistent:Bs}),l}var Vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},os=ni(Vs),Ma=p({},Vs,{view:0,detail:0}),Mu=ni(Ma),ka,$l,ls,Kl=p({},Ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pa,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ls&&(ls&&a.type==="mousemove"?(ka=a.screenX-ls.screenX,$l=a.screenY-ls.screenY):$l=ka=0,ls=a),ka)},movementY:function(a){return"movementY"in a?a.movementY:$l}}),ku=ni(Kl),Go=p({},Kl,{dataTransfer:0}),Kf=ni(Go),Qf=p({},Ma,{relatedTarget:0}),Wo=ni(Qf),Pu=p({},Vs,{animationName:0,elapsedTime:0,pseudoElement:0}),Zf=ni(Pu),Ql=p({},Vs,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Jf=ni(Ql),ed=p({},Vs,{data:0}),cs=ni(ed),td={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},id={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rd(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=id[a])?!!l[a]:!1}function Pa(){return rd}var Oi=p({},Ma,{key:function(a){if(a.key){var l=td[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=qo(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?nd[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pa,charCode:function(a){return a.type==="keypress"?qo(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?qo(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),sd=ni(Oi),ad=p({},Kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Us=ni(ad),g=p({},Ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pa}),w=ni(g),R=p({},Vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),z=ni(R),ae=p({},Kl,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),pe=ni(ae),Be=p({},Vs,{newState:0,oldState:0}),lt=ni(Be),Tn=[9,13,27,32],Ot=_r&&"CompositionEvent"in window,hn=null;_r&&"documentMode"in document&&(hn=document.documentMode);var vr=_r&&"TextEvent"in window&&!hn,us=_r&&(!Ot||hn&&8<hn&&11>=hn),zr=" ",jr=!1;function Yo(a,l){switch(a){case"keyup":return Tn.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zl(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Jl=!1;function CI(a,l){switch(a){case"compositionend":return Zl(l);case"keypress":return l.which!==32?null:(jr=!0,zr);case"textInput":return a=l.data,a===zr&&jr?null:a;default:return null}}function RI(a,l){if(Jl)return a==="compositionend"||!Ot&&Yo(a,l)?(a=Nu(),Ho=Ou=as=null,Jl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return us&&l.locale!=="ko"?null:l.data;default:return null}}var II={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function By(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!II[a.type]:l==="textarea"}function Vy(a,l,u,d){Oa?ss?ss.push(d):ss=[d]:Oa=d,l=$d(l,"onChange"),0<l.length&&(u=new os("onChange","change",null,u,d),a.push({event:u,listeners:l}))}var Fu=null,Lu=null;function DI(a){EE(a,0)}function od(a){var l=Ie(a);if(Vo(l))return a}function Uy(a,l){if(a==="change")return l}var zy=!1;if(_r){var bg;if(_r){var Ag="oninput"in document;if(!Ag){var jy=document.createElement("div");jy.setAttribute("oninput","return;"),Ag=typeof jy.oninput=="function"}bg=Ag}else bg=!1;zy=bg&&(!document.documentMode||9<document.documentMode)}function Hy(){Fu&&(Fu.detachEvent("onpropertychange",qy),Lu=Fu=null)}function qy(a){if(a.propertyName==="value"&&od(Lu)){var l=[];Vy(l,Lu,a,pr(a)),Na(DI,l)}}function OI(a,l,u){a==="focusin"?(Hy(),Fu=l,Lu=u,Fu.attachEvent("onpropertychange",qy)):a==="focusout"&&Hy()}function NI(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return od(Lu)}function MI(a,l){if(a==="click")return od(l)}function kI(a,l){if(a==="input"||a==="change")return od(l)}function PI(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var tr=typeof Object.is=="function"?Object.is:PI;function Bu(a,l){if(tr(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var u=Object.keys(a),d=Object.keys(l);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var _=u[d];if(!dt.call(l,_)||!tr(a[_],l[_]))return!1}return!0}function Gy(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Wy(a,l){var u=Gy(a);a=0;for(var d;u;){if(u.nodeType===3){if(d=a+u.textContent.length,a<=l&&d>=l)return{node:u,offset:l-a};a=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Gy(u)}}function Yy(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?Yy(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function Xy(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=rs(a.document);l instanceof a.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)a=l.contentWindow;else break;l=rs(a.document)}return l}function Cg(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var FI=_r&&"documentMode"in document&&11>=document.documentMode,ec=null,Rg=null,Vu=null,Ig=!1;function $y(a,l,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Ig||ec==null||ec!==rs(d)||(d=ec,"selectionStart"in d&&Cg(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Vu&&Bu(Vu,d)||(Vu=d,d=$d(Rg,"onSelect"),0<d.length&&(l=new os("onSelect","select",null,l,u),a.push({event:l,listeners:d}),l.target=ec)))}function Xo(a,l){var u={};return u[a.toLowerCase()]=l.toLowerCase(),u["Webkit"+a]="webkit"+l,u["Moz"+a]="moz"+l,u}var tc={animationend:Xo("Animation","AnimationEnd"),animationiteration:Xo("Animation","AnimationIteration"),animationstart:Xo("Animation","AnimationStart"),transitionrun:Xo("Transition","TransitionRun"),transitionstart:Xo("Transition","TransitionStart"),transitioncancel:Xo("Transition","TransitionCancel"),transitionend:Xo("Transition","TransitionEnd")},Dg={},Ky={};_r&&(Ky=document.createElement("div").style,"AnimationEvent"in window||(delete tc.animationend.animation,delete tc.animationiteration.animation,delete tc.animationstart.animation),"TransitionEvent"in window||delete tc.transitionend.transition);function $o(a){if(Dg[a])return Dg[a];if(!tc[a])return a;var l=tc[a],u;for(u in l)if(l.hasOwnProperty(u)&&u in Ky)return Dg[a]=l[u];return a}var Qy=$o("animationend"),Zy=$o("animationiteration"),Jy=$o("animationstart"),LI=$o("transitionrun"),BI=$o("transitionstart"),VI=$o("transitioncancel"),ex=$o("transitionend"),tx=new Map,Og="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Og.push("scrollEnd");function Hr(a,l){tx.set(a,l),tn(l,[a])}var ld=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},yr=[],nc=0,Ng=0;function cd(){for(var a=nc,l=Ng=nc=0;l<a;){var u=yr[l];yr[l++]=null;var d=yr[l];yr[l++]=null;var _=yr[l];yr[l++]=null;var y=yr[l];if(yr[l++]=null,d!==null&&_!==null){var b=d.pending;b===null?_.next=_:(_.next=b.next,b.next=_),d.pending=_}y!==0&&nx(u,_,y)}}function ud(a,l,u,d){yr[nc++]=a,yr[nc++]=l,yr[nc++]=u,yr[nc++]=d,Ng|=d,a.lanes|=d,a=a.alternate,a!==null&&(a.lanes|=d)}function Mg(a,l,u,d){return ud(a,l,u,d),hd(a)}function Ko(a,l){return ud(a,null,null,l),hd(a)}function nx(a,l,u){a.lanes|=u;var d=a.alternate;d!==null&&(d.lanes|=u);for(var _=!1,y=a.return;y!==null;)y.childLanes|=u,d=y.alternate,d!==null&&(d.childLanes|=u),y.tag===22&&(a=y.stateNode,a===null||a._visibility&1||(_=!0)),a=y,y=y.return;return a.tag===3?(y=a.stateNode,_&&l!==null&&(_=31-dn(u),a=y.hiddenUpdates,d=a[_],d===null?a[_]=[l]:d.push(l),l.lane=u|536870912),y):null}function hd(a){if(50<oh)throw oh=0,jp=null,Error(i(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var ic={};function UI(a,l,u,d){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(a,l,u,d){return new UI(a,l,u,d)}function kg(a){return a=a.prototype,!(!a||!a.isReactComponent)}function zs(a,l){var u=a.alternate;return u===null?(u=nr(a.tag,l,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=l,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,l=a.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function ix(a,l){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,l=u.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function fd(a,l,u,d,_,y){var b=0;if(d=a,typeof a=="function")kg(a)&&(b=1);else if(typeof a=="string")b=GD(a,u,K.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case I:return a=nr(31,u,l,_),a.elementType=I,a.lanes=y,a;case E:return Qo(u.children,_,y,l);case S:b=8,_|=24;break;case C:return a=nr(12,u,l,_|2),a.elementType=C,a.lanes=y,a;case Y:return a=nr(13,u,l,_),a.elementType=Y,a.lanes=y,a;case te:return a=nr(19,u,l,_),a.elementType=te,a.lanes=y,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case N:b=10;break e;case O:b=9;break e;case H:b=11;break e;case A:b=14;break e;case D:b=16,d=null;break e}b=29,u=Error(i(130,a===null?"null":typeof a,"")),d=null}return l=nr(b,u,l,_),l.elementType=a,l.type=d,l.lanes=y,l}function Qo(a,l,u,d){return a=nr(7,a,d,l),a.lanes=u,a}function Pg(a,l,u){return a=nr(6,a,null,l),a.lanes=u,a}function rx(a){var l=nr(18,null,null,0);return l.stateNode=a,l}function Fg(a,l,u){return l=nr(4,a.children!==null?a.children:[],a.key,l),l.lanes=u,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var sx=new WeakMap;function xr(a,l){if(typeof a=="object"&&a!==null){var u=sx.get(a);return u!==void 0?u:(l={value:a,source:l,stack:sn(l)},sx.set(a,l),l)}return{value:a,source:l,stack:sn(l)}}var rc=[],sc=0,dd=null,Uu=0,Er=[],Tr=0,Fa=null,hs=1,fs="";function js(a,l){rc[sc++]=Uu,rc[sc++]=dd,dd=a,Uu=l}function ax(a,l,u){Er[Tr++]=hs,Er[Tr++]=fs,Er[Tr++]=Fa,Fa=a;var d=hs;a=fs;var _=32-dn(d)-1;d&=~(1<<_),u+=1;var y=32-dn(l)+_;if(30<y){var b=_-_%5;y=(d&(1<<b)-1).toString(32),d>>=b,_-=b,hs=1<<32-dn(l)+_|u<<_|d,fs=y+a}else hs=1<<y|u<<_|d,fs=a}function Lg(a){a.return!==null&&(js(a,1),ax(a,1,0))}function Bg(a){for(;a===dd;)dd=rc[--sc],rc[sc]=null,Uu=rc[--sc],rc[sc]=null;for(;a===Fa;)Fa=Er[--Tr],Er[Tr]=null,fs=Er[--Tr],Er[Tr]=null,hs=Er[--Tr],Er[Tr]=null}function ox(a,l){Er[Tr++]=hs,Er[Tr++]=fs,Er[Tr++]=Fa,hs=l.id,fs=l.overflow,Fa=a}var ii=null,an=null,Tt=!1,La=null,Sr=!1,Vg=Error(i(519));function Ba(a){var l=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zu(xr(l,a)),Vg}function lx(a){var l=a.stateNode,u=a.type,d=a.memoizedProps;switch(l[j]=a,l[G]=d,u){case"dialog":gt("cancel",l),gt("close",l);break;case"iframe":case"object":case"embed":gt("load",l);break;case"video":case"audio":for(u=0;u<ch.length;u++)gt(ch[u],l);break;case"source":gt("error",l);break;case"img":case"image":case"link":gt("error",l),gt("load",l);break;case"details":gt("toggle",l);break;case"input":gt("invalid",l),Wf(l,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":gt("invalid",l);break;case"textarea":gt("invalid",l),Ia(l,d.value,d.defaultValue,d.children)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||d.suppressHydrationWarning===!0||bE(l.textContent,u)?(d.popover!=null&&(gt("beforetoggle",l),gt("toggle",l)),d.onScroll!=null&&gt("scroll",l),d.onScrollEnd!=null&&gt("scrollend",l),d.onClick!=null&&(l.onclick=Br),l=!0):l=!1,l||Ba(a,!0)}function cx(a){for(ii=a.return;ii;)switch(ii.tag){case 5:case 31:case 13:Sr=!1;return;case 27:case 3:Sr=!0;return;default:ii=ii.return}}function ac(a){if(a!==ii)return!1;if(!Tt)return cx(a),Tt=!0,!1;var l=a.tag,u;if((u=l!==3&&l!==27)&&((u=l===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||i1(a.type,a.memoizedProps)),u=!u),u&&an&&Ba(a),cx(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));an=kE(a)}else if(l===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));an=kE(a)}else l===27?(l=an,Za(a.type)?(a=l1,l1=null,an=a):an=l):an=ii?br(a.stateNode.nextSibling):null;return!0}function Zo(){an=ii=null,Tt=!1}function Ug(){var a=La;return a!==null&&(ji===null?ji=a:ji.push.apply(ji,a),La=null),a}function zu(a){La===null?La=[a]:La.push(a)}var zg=ee(null),Jo=null,Hs=null;function Va(a,l,u){Z(zg,l._currentValue),l._currentValue=u}function qs(a){a._currentValue=zg.current,V(zg)}function jg(a,l,u){for(;a!==null;){var d=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,d!==null&&(d.childLanes|=l)):d!==null&&(d.childLanes&l)!==l&&(d.childLanes|=l),a===u)break;a=a.return}}function Hg(a,l,u,d){var _=a.child;for(_!==null&&(_.return=a);_!==null;){var y=_.dependencies;if(y!==null){var b=_.child;y=y.firstContext;e:for(;y!==null;){var L=y;y=_;for(var J=0;J<l.length;J++)if(L.context===l[J]){y.lanes|=u,L=y.alternate,L!==null&&(L.lanes|=u),jg(y.return,u,a),d||(b=null);break e}y=L.next}}else if(_.tag===18){if(b=_.return,b===null)throw Error(i(341));b.lanes|=u,y=b.alternate,y!==null&&(y.lanes|=u),jg(b,u,a),b=null}else b=_.child;if(b!==null)b.return=_;else for(b=_;b!==null;){if(b===a){b=null;break}if(_=b.sibling,_!==null){_.return=b.return,b=_;break}b=b.return}_=b}}function oc(a,l,u,d){a=null;for(var _=l,y=!1;_!==null;){if(!y){if((_.flags&524288)!==0)y=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var b=_.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var L=_.type;tr(_.pendingProps.value,b.value)||(a!==null?a.push(L):a=[L])}}else if(_===Ne.current){if(b=_.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(a!==null?a.push(mh):a=[mh])}_=_.return}a!==null&&Hg(l,a,u,d),l.flags|=262144}function md(a){for(a=a.firstContext;a!==null;){if(!tr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function el(a){Jo=a,Hs=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function ri(a){return ux(Jo,a)}function gd(a,l){return Jo===null&&el(a),ux(a,l)}function ux(a,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},Hs===null){if(a===null)throw Error(i(308));Hs=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else Hs=Hs.next=l;return u}var zI=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(u,d){a.push(d)}};this.abort=function(){l.aborted=!0,a.forEach(function(u){return u()})}},jI=n.unstable_scheduleCallback,HI=n.unstable_NormalPriority,In={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qg(){return{controller:new zI,data:new Map,refCount:0}}function ju(a){a.refCount--,a.refCount===0&&jI(HI,function(){a.controller.abort()})}var Hu=null,Gg=0,lc=0,cc=null;function qI(a,l){if(Hu===null){var u=Hu=[];Gg=0,lc=Xp(),cc={status:"pending",value:void 0,then:function(d){u.push(d)}}}return Gg++,l.then(hx,hx),l}function hx(){if(--Gg===0&&Hu!==null){cc!==null&&(cc.status="fulfilled");var a=Hu;Hu=null,lc=0,cc=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function GI(a,l){var u=[],d={status:"pending",value:null,reason:null,then:function(_){u.push(_)}};return a.then(function(){d.status="fulfilled",d.value=l;for(var _=0;_<u.length;_++)(0,u[_])(l)},function(_){for(d.status="rejected",d.reason=_,_=0;_<u.length;_++)(0,u[_])(void 0)}),d}var fx=se.S;se.S=function(a,l){$2=ie(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&qI(a,l),fx!==null&&fx(a,l)};var tl=ee(null);function Wg(){var a=tl.current;return a!==null?a:nn.pooledCache}function pd(a,l){l===null?Z(tl,tl.current):Z(tl,l.pool)}function dx(){var a=Wg();return a===null?null:{parent:In._currentValue,pool:a}}var uc=Error(i(460)),Yg=Error(i(474)),_d=Error(i(542)),vd={then:function(){}};function mx(a){return a=a.status,a==="fulfilled"||a==="rejected"}function gx(a,l,u){switch(u=a[u],u===void 0?a.push(l):u!==l&&(l.then(Br,Br),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,_x(a),a;default:if(typeof l.status=="string")l.then(Br,Br);else{if(a=nn,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=l,a.status="pending",a.then(function(d){if(l.status==="pending"){var _=l;_.status="fulfilled",_.value=d}},function(d){if(l.status==="pending"){var _=l;_.status="rejected",_.reason=d}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,_x(a),a}throw il=l,uc}}function nl(a){try{var l=a._init;return l(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(il=u,uc):u}}var il=null;function px(){if(il===null)throw Error(i(459));var a=il;return il=null,a}function _x(a){if(a===uc||a===_d)throw Error(i(483))}var hc=null,qu=0;function yd(a){var l=qu;return qu+=1,hc===null&&(hc=[]),gx(hc,a,l)}function Gu(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function xd(a,l){throw l.$$typeof===v?Error(i(525)):(a=Object.prototype.toString.call(l),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function vx(a){function l(re,ne){if(a){var le=re.deletions;le===null?(re.deletions=[ne],re.flags|=16):le.push(ne)}}function u(re,ne){if(!a)return null;for(;ne!==null;)l(re,ne),ne=ne.sibling;return null}function d(re){for(var ne=new Map;re!==null;)re.key!==null?ne.set(re.key,re):ne.set(re.index,re),re=re.sibling;return ne}function _(re,ne){return re=zs(re,ne),re.index=0,re.sibling=null,re}function y(re,ne,le){return re.index=le,a?(le=re.alternate,le!==null?(le=le.index,le<ne?(re.flags|=67108866,ne):le):(re.flags|=67108866,ne)):(re.flags|=1048576,ne)}function b(re){return a&&re.alternate===null&&(re.flags|=67108866),re}function L(re,ne,le,Se){return ne===null||ne.tag!==6?(ne=Pg(le,re.mode,Se),ne.return=re,ne):(ne=_(ne,le),ne.return=re,ne)}function J(re,ne,le,Se){var Qe=le.type;return Qe===E?xe(re,ne,le.props.children,Se,le.key):ne!==null&&(ne.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===D&&nl(Qe)===ne.type)?(ne=_(ne,le.props),Gu(ne,le),ne.return=re,ne):(ne=fd(le.type,le.key,le.props,null,re.mode,Se),Gu(ne,le),ne.return=re,ne)}function he(re,ne,le,Se){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==le.containerInfo||ne.stateNode.implementation!==le.implementation?(ne=Fg(le,re.mode,Se),ne.return=re,ne):(ne=_(ne,le.children||[]),ne.return=re,ne)}function xe(re,ne,le,Se,Qe){return ne===null||ne.tag!==7?(ne=Qo(le,re.mode,Se,Qe),ne.return=re,ne):(ne=_(ne,le),ne.return=re,ne)}function we(re,ne,le){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ne=Pg(""+ne,re.mode,le),ne.return=re,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case x:return le=fd(ne.type,ne.key,ne.props,null,re.mode,le),Gu(le,ne),le.return=re,le;case T:return ne=Fg(ne,re.mode,le),ne.return=re,ne;case D:return ne=nl(ne),we(re,ne,le)}if(Oe(ne)||B(ne))return ne=Qo(ne,re.mode,le,null),ne.return=re,ne;if(typeof ne.then=="function")return we(re,yd(ne),le);if(ne.$$typeof===N)return we(re,gd(re,ne),le);xd(re,ne)}return null}function ge(re,ne,le,Se){var Qe=ne!==null?ne.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Qe!==null?null:L(re,ne,""+le,Se);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case x:return le.key===Qe?J(re,ne,le,Se):null;case T:return le.key===Qe?he(re,ne,le,Se):null;case D:return le=nl(le),ge(re,ne,le,Se)}if(Oe(le)||B(le))return Qe!==null?null:xe(re,ne,le,Se,null);if(typeof le.then=="function")return ge(re,ne,yd(le),Se);if(le.$$typeof===N)return ge(re,ne,gd(re,le),Se);xd(re,le)}return null}function _e(re,ne,le,Se,Qe){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return re=re.get(le)||null,L(ne,re,""+Se,Qe);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case x:return re=re.get(Se.key===null?le:Se.key)||null,J(ne,re,Se,Qe);case T:return re=re.get(Se.key===null?le:Se.key)||null,he(ne,re,Se,Qe);case D:return Se=nl(Se),_e(re,ne,le,Se,Qe)}if(Oe(Se)||B(Se))return re=re.get(le)||null,xe(ne,re,Se,Qe,null);if(typeof Se.then=="function")return _e(re,ne,le,yd(Se),Qe);if(Se.$$typeof===N)return _e(re,ne,le,gd(ne,Se),Qe);xd(ne,Se)}return null}function Ye(re,ne,le,Se){for(var Qe=null,Rt=null,Ke=ne,ut=ne=0,vt=null;Ke!==null&&ut<le.length;ut++){Ke.index>ut?(vt=Ke,Ke=null):vt=Ke.sibling;var It=ge(re,Ke,le[ut],Se);if(It===null){Ke===null&&(Ke=vt);break}a&&Ke&&It.alternate===null&&l(re,Ke),ne=y(It,ne,ut),Rt===null?Qe=It:Rt.sibling=It,Rt=It,Ke=vt}if(ut===le.length)return u(re,Ke),Tt&&js(re,ut),Qe;if(Ke===null){for(;ut<le.length;ut++)Ke=we(re,le[ut],Se),Ke!==null&&(ne=y(Ke,ne,ut),Rt===null?Qe=Ke:Rt.sibling=Ke,Rt=Ke);return Tt&&js(re,ut),Qe}for(Ke=d(Ke);ut<le.length;ut++)vt=_e(Ke,re,ut,le[ut],Se),vt!==null&&(a&&vt.alternate!==null&&Ke.delete(vt.key===null?ut:vt.key),ne=y(vt,ne,ut),Rt===null?Qe=vt:Rt.sibling=vt,Rt=vt);return a&&Ke.forEach(function(io){return l(re,io)}),Tt&&js(re,ut),Qe}function et(re,ne,le,Se){if(le==null)throw Error(i(151));for(var Qe=null,Rt=null,Ke=ne,ut=ne=0,vt=null,It=le.next();Ke!==null&&!It.done;ut++,It=le.next()){Ke.index>ut?(vt=Ke,Ke=null):vt=Ke.sibling;var io=ge(re,Ke,It.value,Se);if(io===null){Ke===null&&(Ke=vt);break}a&&Ke&&io.alternate===null&&l(re,Ke),ne=y(io,ne,ut),Rt===null?Qe=io:Rt.sibling=io,Rt=io,Ke=vt}if(It.done)return u(re,Ke),Tt&&js(re,ut),Qe;if(Ke===null){for(;!It.done;ut++,It=le.next())It=we(re,It.value,Se),It!==null&&(ne=y(It,ne,ut),Rt===null?Qe=It:Rt.sibling=It,Rt=It);return Tt&&js(re,ut),Qe}for(Ke=d(Ke);!It.done;ut++,It=le.next())It=_e(Ke,re,ut,It.value,Se),It!==null&&(a&&It.alternate!==null&&Ke.delete(It.key===null?ut:It.key),ne=y(It,ne,ut),Rt===null?Qe=It:Rt.sibling=It,Rt=It);return a&&Ke.forEach(function(n6){return l(re,n6)}),Tt&&js(re,ut),Qe}function Zt(re,ne,le,Se){if(typeof le=="object"&&le!==null&&le.type===E&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case x:e:{for(var Qe=le.key;ne!==null;){if(ne.key===Qe){if(Qe=le.type,Qe===E){if(ne.tag===7){u(re,ne.sibling),Se=_(ne,le.props.children),Se.return=re,re=Se;break e}}else if(ne.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===D&&nl(Qe)===ne.type){u(re,ne.sibling),Se=_(ne,le.props),Gu(Se,le),Se.return=re,re=Se;break e}u(re,ne);break}else l(re,ne);ne=ne.sibling}le.type===E?(Se=Qo(le.props.children,re.mode,Se,le.key),Se.return=re,re=Se):(Se=fd(le.type,le.key,le.props,null,re.mode,Se),Gu(Se,le),Se.return=re,re=Se)}return b(re);case T:e:{for(Qe=le.key;ne!==null;){if(ne.key===Qe)if(ne.tag===4&&ne.stateNode.containerInfo===le.containerInfo&&ne.stateNode.implementation===le.implementation){u(re,ne.sibling),Se=_(ne,le.children||[]),Se.return=re,re=Se;break e}else{u(re,ne);break}else l(re,ne);ne=ne.sibling}Se=Fg(le,re.mode,Se),Se.return=re,re=Se}return b(re);case D:return le=nl(le),Zt(re,ne,le,Se)}if(Oe(le))return Ye(re,ne,le,Se);if(B(le)){if(Qe=B(le),typeof Qe!="function")throw Error(i(150));return le=Qe.call(le),et(re,ne,le,Se)}if(typeof le.then=="function")return Zt(re,ne,yd(le),Se);if(le.$$typeof===N)return Zt(re,ne,gd(re,le),Se);xd(re,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,ne!==null&&ne.tag===6?(u(re,ne.sibling),Se=_(ne,le),Se.return=re,re=Se):(u(re,ne),Se=Pg(le,re.mode,Se),Se.return=re,re=Se),b(re)):u(re,ne)}return function(re,ne,le,Se){try{qu=0;var Qe=Zt(re,ne,le,Se);return hc=null,Qe}catch(Ke){if(Ke===uc||Ke===_d)throw Ke;var Rt=nr(29,Ke,null,re.mode);return Rt.lanes=Se,Rt.return=re,Rt}finally{}}}var rl=vx(!0),yx=vx(!1),Ua=!1;function Xg(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $g(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function za(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ja(a,l,u){var d=a.updateQueue;if(d===null)return null;if(d=d.shared,(Nt&2)!==0){var _=d.pending;return _===null?l.next=l:(l.next=_.next,_.next=l),d.pending=l,l=hd(a),nx(a,null,u),l}return ud(a,d,l,u),hd(a)}function Wu(a,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194048)!==0)){var d=l.lanes;d&=a.pendingLanes,u|=d,l.lanes=u,Fs(a,u)}}function Kg(a,l){var u=a.updateQueue,d=a.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var _=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var b={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};y===null?_=y=b:y=y.next=b,u=u.next}while(u!==null);y===null?_=y=l:y=y.next=l}else _=y=l;u={baseState:d.baseState,firstBaseUpdate:_,lastBaseUpdate:y,shared:d.shared,callbacks:d.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=l}var Qg=!1;function Yu(){if(Qg){var a=cc;if(a!==null)throw a}}function Xu(a,l,u,d){Qg=!1;var _=a.updateQueue;Ua=!1;var y=_.firstBaseUpdate,b=_.lastBaseUpdate,L=_.shared.pending;if(L!==null){_.shared.pending=null;var J=L,he=J.next;J.next=null,b===null?y=he:b.next=he,b=J;var xe=a.alternate;xe!==null&&(xe=xe.updateQueue,L=xe.lastBaseUpdate,L!==b&&(L===null?xe.firstBaseUpdate=he:L.next=he,xe.lastBaseUpdate=J))}if(y!==null){var we=_.baseState;b=0,xe=he=J=null,L=y;do{var ge=L.lane&-536870913,_e=ge!==L.lane;if(_e?(_t&ge)===ge:(d&ge)===ge){ge!==0&&ge===lc&&(Qg=!0),xe!==null&&(xe=xe.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var Ye=a,et=L;ge=l;var Zt=u;switch(et.tag){case 1:if(Ye=et.payload,typeof Ye=="function"){we=Ye.call(Zt,we,ge);break e}we=Ye;break e;case 3:Ye.flags=Ye.flags&-65537|128;case 0:if(Ye=et.payload,ge=typeof Ye=="function"?Ye.call(Zt,we,ge):Ye,ge==null)break e;we=p({},we,ge);break e;case 2:Ua=!0}}ge=L.callback,ge!==null&&(a.flags|=64,_e&&(a.flags|=8192),_e=_.callbacks,_e===null?_.callbacks=[ge]:_e.push(ge))}else _e={lane:ge,tag:L.tag,payload:L.payload,callback:L.callback,next:null},xe===null?(he=xe=_e,J=we):xe=xe.next=_e,b|=ge;if(L=L.next,L===null){if(L=_.shared.pending,L===null)break;_e=L,L=_e.next,_e.next=null,_.lastBaseUpdate=_e,_.shared.pending=null}}while(!0);xe===null&&(J=we),_.baseState=J,_.firstBaseUpdate=he,_.lastBaseUpdate=xe,y===null&&(_.shared.lanes=0),Ya|=b,a.lanes=b,a.memoizedState=we}}function xx(a,l){if(typeof a!="function")throw Error(i(191,a));a.call(l)}function Ex(a,l){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)xx(u[a],l)}var fc=ee(null),Ed=ee(0);function Tx(a,l){a=Js,Z(Ed,a),Z(fc,l),Js=a|l.baseLanes}function Zg(){Z(Ed,Js),Z(fc,fc.current)}function Jg(){Js=Ed.current,V(fc),V(Ed)}var ir=ee(null),wr=null;function Ha(a){var l=a.alternate;Z(Sn,Sn.current&1),Z(ir,a),wr===null&&(l===null||fc.current!==null||l.memoizedState!==null)&&(wr=a)}function ep(a){Z(Sn,Sn.current),Z(ir,a),wr===null&&(wr=a)}function Sx(a){a.tag===22?(Z(Sn,Sn.current),Z(ir,a),wr===null&&(wr=a)):qa()}function qa(){Z(Sn,Sn.current),Z(ir,ir.current)}function rr(a){V(ir),wr===a&&(wr=null),V(Sn)}var Sn=ee(0);function Td(a){for(var l=a;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||a1(u)||o1(u)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Gs=0,ct=null,Kt=null,Dn=null,Sd=!1,dc=!1,sl=!1,wd=0,$u=0,mc=null,WI=0;function _n(){throw Error(i(321))}function tp(a,l){if(l===null)return!1;for(var u=0;u<l.length&&u<a.length;u++)if(!tr(a[u],l[u]))return!1;return!0}function np(a,l,u,d,_,y){return Gs=y,ct=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,se.H=a===null||a.memoizedState===null?a2:_p,sl=!1,y=u(d,_),sl=!1,dc&&(y=bx(l,u,d,_)),wx(a),y}function wx(a){se.H=Zu;var l=Kt!==null&&Kt.next!==null;if(Gs=0,Dn=Kt=ct=null,Sd=!1,$u=0,mc=null,l)throw Error(i(300));a===null||On||(a=a.dependencies,a!==null&&md(a)&&(On=!0))}function bx(a,l,u,d){ct=a;var _=0;do{if(dc&&(mc=null),$u=0,dc=!1,25<=_)throw Error(i(301));if(_+=1,Dn=Kt=null,a.updateQueue!=null){var y=a.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}se.H=o2,y=l(u,d)}while(dc);return y}function YI(){var a=se.H,l=a.useState()[0];return l=typeof l.then=="function"?Ku(l):l,a=a.useState()[0],(Kt!==null?Kt.memoizedState:null)!==a&&(ct.flags|=1024),l}function ip(){var a=wd!==0;return wd=0,a}function rp(a,l,u){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~u}function sp(a){if(Sd){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}Sd=!1}Gs=0,Dn=Kt=ct=null,dc=!1,$u=wd=0,mc=null}function Ni(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?ct.memoizedState=Dn=a:Dn=Dn.next=a,Dn}function wn(){if(Kt===null){var a=ct.alternate;a=a!==null?a.memoizedState:null}else a=Kt.next;var l=Dn===null?ct.memoizedState:Dn.next;if(l!==null)Dn=l,Kt=a;else{if(a===null)throw ct.alternate===null?Error(i(467)):Error(i(310));Kt=a,a={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Dn===null?ct.memoizedState=Dn=a:Dn=Dn.next=a}return Dn}function bd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ku(a){var l=$u;return $u+=1,mc===null&&(mc=[]),a=gx(mc,a,l),l=ct,(Dn===null?l.memoizedState:Dn.next)===null&&(l=l.alternate,se.H=l===null||l.memoizedState===null?a2:_p),a}function Ad(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Ku(a);if(a.$$typeof===N)return ri(a)}throw Error(i(438,String(a)))}function ap(a){var l=null,u=ct.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var d=ct.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(l={data:d.data.map(function(_){return _.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=bd(),ct.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(a),d=0;d<a;d++)u[d]=P;return l.index++,u}function Ws(a,l){return typeof l=="function"?l(a):l}function Cd(a){var l=wn();return op(l,Kt,a)}function op(a,l,u){var d=a.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=u;var _=a.baseQueue,y=d.pending;if(y!==null){if(_!==null){var b=_.next;_.next=y.next,y.next=b}l.baseQueue=_=y,d.pending=null}if(y=a.baseState,_===null)a.memoizedState=y;else{l=_.next;var L=b=null,J=null,he=l,xe=!1;do{var we=he.lane&-536870913;if(we!==he.lane?(_t&we)===we:(Gs&we)===we){var ge=he.revertLane;if(ge===0)J!==null&&(J=J.next={lane:0,revertLane:0,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),we===lc&&(xe=!0);else if((Gs&ge)===ge){he=he.next,ge===lc&&(xe=!0);continue}else we={lane:0,revertLane:he.revertLane,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},J===null?(L=J=we,b=y):J=J.next=we,ct.lanes|=ge,Ya|=ge;we=he.action,sl&&u(y,we),y=he.hasEagerState?he.eagerState:u(y,we)}else ge={lane:we,revertLane:he.revertLane,gesture:he.gesture,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},J===null?(L=J=ge,b=y):J=J.next=ge,ct.lanes|=we,Ya|=we;he=he.next}while(he!==null&&he!==l);if(J===null?b=y:J.next=L,!tr(y,a.memoizedState)&&(On=!0,xe&&(u=cc,u!==null)))throw u;a.memoizedState=y,a.baseState=b,a.baseQueue=J,d.lastRenderedState=y}return _===null&&(d.lanes=0),[a.memoizedState,d.dispatch]}function lp(a){var l=wn(),u=l.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=a;var d=u.dispatch,_=u.pending,y=l.memoizedState;if(_!==null){u.pending=null;var b=_=_.next;do y=a(y,b.action),b=b.next;while(b!==_);tr(y,l.memoizedState)||(On=!0),l.memoizedState=y,l.baseQueue===null&&(l.baseState=y),u.lastRenderedState=y}return[y,d]}function Ax(a,l,u){var d=ct,_=wn(),y=Tt;if(y){if(u===void 0)throw Error(i(407));u=u()}else u=l();var b=!tr((Kt||_).memoizedState,u);if(b&&(_.memoizedState=u,On=!0),_=_.queue,hp(Ix.bind(null,d,_,a),[a]),_.getSnapshot!==l||b||Dn!==null&&Dn.memoizedState.tag&1){if(d.flags|=2048,gc(9,{destroy:void 0},Rx.bind(null,d,_,u,l),null),nn===null)throw Error(i(349));y||(Gs&127)!==0||Cx(d,l,u)}return u}function Cx(a,l,u){a.flags|=16384,a={getSnapshot:l,value:u},l=ct.updateQueue,l===null?(l=bd(),ct.updateQueue=l,l.stores=[a]):(u=l.stores,u===null?l.stores=[a]:u.push(a))}function Rx(a,l,u,d){l.value=u,l.getSnapshot=d,Dx(l)&&Ox(a)}function Ix(a,l,u){return u(function(){Dx(l)&&Ox(a)})}function Dx(a){var l=a.getSnapshot;a=a.value;try{var u=l();return!tr(a,u)}catch{return!0}}function Ox(a){var l=Ko(a,2);l!==null&&Hi(l,a,2)}function cp(a){var l=Ni();if(typeof a=="function"){var u=a;if(a=u(),sl){Ii(!0);try{u()}finally{Ii(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:a},l}function Nx(a,l,u,d){return a.baseState=u,op(a,Kt,typeof d=="function"?d:Ws)}function XI(a,l,u,d,_){if(Dd(a))throw Error(i(485));if(a=l.action,a!==null){var y={payload:_,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){y.listeners.push(b)}};se.T!==null?u(!0):y.isTransition=!1,d(y),u=l.pending,u===null?(y.next=l.pending=y,Mx(l,y)):(y.next=u.next,l.pending=u.next=y)}}function Mx(a,l){var u=l.action,d=l.payload,_=a.state;if(l.isTransition){var y=se.T,b={};se.T=b;try{var L=u(_,d),J=se.S;J!==null&&J(b,L),kx(a,l,L)}catch(he){up(a,l,he)}finally{y!==null&&b.types!==null&&(y.types=b.types),se.T=y}}else try{y=u(_,d),kx(a,l,y)}catch(he){up(a,l,he)}}function kx(a,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){Px(a,l,d)},function(d){return up(a,l,d)}):Px(a,l,u)}function Px(a,l,u){l.status="fulfilled",l.value=u,Fx(l),a.state=u,l=a.pending,l!==null&&(u=l.next,u===l?a.pending=null:(u=u.next,l.next=u,Mx(a,u)))}function up(a,l,u){var d=a.pending;if(a.pending=null,d!==null){d=d.next;do l.status="rejected",l.reason=u,Fx(l),l=l.next;while(l!==d)}a.action=null}function Fx(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function Lx(a,l){return l}function Bx(a,l){if(Tt){var u=nn.formState;if(u!==null){e:{var d=ct;if(Tt){if(an){t:{for(var _=an,y=Sr;_.nodeType!==8;){if(!y){_=null;break t}if(_=br(_.nextSibling),_===null){_=null;break t}}y=_.data,_=y==="F!"||y==="F"?_:null}if(_){an=br(_.nextSibling),d=_.data==="F!";break e}}Ba(d)}d=!1}d&&(l=u[0])}}return u=Ni(),u.memoizedState=u.baseState=l,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lx,lastRenderedState:l},u.queue=d,u=i2.bind(null,ct,d),d.dispatch=u,d=cp(!1),y=pp.bind(null,ct,!1,d.queue),d=Ni(),_={state:l,dispatch:null,action:a,pending:null},d.queue=_,u=XI.bind(null,ct,_,y,u),_.dispatch=u,d.memoizedState=a,[l,u,!1]}function Vx(a){var l=wn();return Ux(l,Kt,a)}function Ux(a,l,u){if(l=op(a,l,Lx)[0],a=Cd(Ws)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var d=Ku(l)}catch(b){throw b===uc?_d:b}else d=l;l=wn();var _=l.queue,y=_.dispatch;return u!==l.memoizedState&&(ct.flags|=2048,gc(9,{destroy:void 0},$I.bind(null,_,u),null)),[d,y,a]}function $I(a,l){a.action=l}function zx(a){var l=wn(),u=Kt;if(u!==null)return Ux(l,u,a);wn(),l=l.memoizedState,u=wn();var d=u.queue.dispatch;return u.memoizedState=a,[l,d,!1]}function gc(a,l,u,d){return a={tag:a,create:u,deps:d,inst:l,next:null},l=ct.updateQueue,l===null&&(l=bd(),ct.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=a.next=a:(d=u.next,u.next=a,a.next=d,l.lastEffect=a),a}function jx(){return wn().memoizedState}function Rd(a,l,u,d){var _=Ni();ct.flags|=a,_.memoizedState=gc(1|l,{destroy:void 0},u,d===void 0?null:d)}function Id(a,l,u,d){var _=wn();d=d===void 0?null:d;var y=_.memoizedState.inst;Kt!==null&&d!==null&&tp(d,Kt.memoizedState.deps)?_.memoizedState=gc(l,y,u,d):(ct.flags|=a,_.memoizedState=gc(1|l,y,u,d))}function Hx(a,l){Rd(8390656,8,a,l)}function hp(a,l){Id(2048,8,a,l)}function KI(a){ct.flags|=4;var l=ct.updateQueue;if(l===null)l=bd(),ct.updateQueue=l,l.events=[a];else{var u=l.events;u===null?l.events=[a]:u.push(a)}}function qx(a){var l=wn().memoizedState;return KI({ref:l,nextImpl:a}),function(){if((Nt&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}function Gx(a,l){return Id(4,2,a,l)}function Wx(a,l){return Id(4,4,a,l)}function Yx(a,l){if(typeof l=="function"){a=a();var u=l(a);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function Xx(a,l,u){u=u!=null?u.concat([a]):null,Id(4,4,Yx.bind(null,l,a),u)}function fp(){}function $x(a,l){var u=wn();l=l===void 0?null:l;var d=u.memoizedState;return l!==null&&tp(l,d[1])?d[0]:(u.memoizedState=[a,l],a)}function Kx(a,l){var u=wn();l=l===void 0?null:l;var d=u.memoizedState;if(l!==null&&tp(l,d[1]))return d[0];if(d=a(),sl){Ii(!0);try{a()}finally{Ii(!1)}}return u.memoizedState=[d,l],d}function dp(a,l,u){return u===void 0||(Gs&1073741824)!==0&&(_t&261930)===0?a.memoizedState=l:(a.memoizedState=u,a=Q2(),ct.lanes|=a,Ya|=a,u)}function Qx(a,l,u,d){return tr(u,l)?u:fc.current!==null?(a=dp(a,u,d),tr(a,l)||(On=!0),a):(Gs&42)===0||(Gs&1073741824)!==0&&(_t&261930)===0?(On=!0,a.memoizedState=u):(a=Q2(),ct.lanes|=a,Ya|=a,l)}function Zx(a,l,u,d,_){var y=Ee.p;Ee.p=y!==0&&8>y?y:8;var b=se.T,L={};se.T=L,pp(a,!1,l,u);try{var J=_(),he=se.S;if(he!==null&&he(L,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var xe=GI(J,d);Qu(a,l,xe,or(a))}else Qu(a,l,d,or(a))}catch(we){Qu(a,l,{then:function(){},status:"rejected",reason:we},or())}finally{Ee.p=y,b!==null&&L.types!==null&&(b.types=L.types),se.T=b}}function QI(){}function mp(a,l,u,d){if(a.tag!==5)throw Error(i(476));var _=Jx(a).queue;Zx(a,_,l,Ue,u===null?QI:function(){return e2(a),u(d)})}function Jx(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:Ue,baseState:Ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:Ue},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:u},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function e2(a){var l=Jx(a);l.next===null&&(l=a.alternate.memoizedState),Qu(a,l.next.queue,{},or())}function gp(){return ri(mh)}function t2(){return wn().memoizedState}function n2(){return wn().memoizedState}function ZI(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var u=or();a=za(u);var d=ja(l,a,u);d!==null&&(Hi(d,l,u),Wu(d,l,u)),l={cache:qg()},a.payload=l;return}l=l.return}}function JI(a,l,u){var d=or();u={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Dd(a)?r2(l,u):(u=Mg(a,l,u,d),u!==null&&(Hi(u,a,d),s2(u,l,d)))}function i2(a,l,u){var d=or();Qu(a,l,u,d)}function Qu(a,l,u,d){var _={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Dd(a))r2(l,_);else{var y=a.alternate;if(a.lanes===0&&(y===null||y.lanes===0)&&(y=l.lastRenderedReducer,y!==null))try{var b=l.lastRenderedState,L=y(b,u);if(_.hasEagerState=!0,_.eagerState=L,tr(L,b))return ud(a,l,_,0),nn===null&&cd(),!1}catch{}finally{}if(u=Mg(a,l,_,d),u!==null)return Hi(u,a,d),s2(u,l,d),!0}return!1}function pp(a,l,u,d){if(d={lane:2,revertLane:Xp(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Dd(a)){if(l)throw Error(i(479))}else l=Mg(a,u,d,2),l!==null&&Hi(l,a,2)}function Dd(a){var l=a.alternate;return a===ct||l!==null&&l===ct}function r2(a,l){dc=Sd=!0;var u=a.pending;u===null?l.next=l:(l.next=u.next,u.next=l),a.pending=l}function s2(a,l,u){if((u&4194048)!==0){var d=l.lanes;d&=a.pendingLanes,u|=d,l.lanes=u,Fs(a,u)}}var Zu={readContext:ri,use:Ad,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useLayoutEffect:_n,useInsertionEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useSyncExternalStore:_n,useId:_n,useHostTransitionStatus:_n,useFormState:_n,useActionState:_n,useOptimistic:_n,useMemoCache:_n,useCacheRefresh:_n};Zu.useEffectEvent=_n;var a2={readContext:ri,use:Ad,useCallback:function(a,l){return Ni().memoizedState=[a,l===void 0?null:l],a},useContext:ri,useEffect:Hx,useImperativeHandle:function(a,l,u){u=u!=null?u.concat([a]):null,Rd(4194308,4,Yx.bind(null,l,a),u)},useLayoutEffect:function(a,l){return Rd(4194308,4,a,l)},useInsertionEffect:function(a,l){Rd(4,2,a,l)},useMemo:function(a,l){var u=Ni();l=l===void 0?null:l;var d=a();if(sl){Ii(!0);try{a()}finally{Ii(!1)}}return u.memoizedState=[d,l],d},useReducer:function(a,l,u){var d=Ni();if(u!==void 0){var _=u(l);if(sl){Ii(!0);try{u(l)}finally{Ii(!1)}}}else _=l;return d.memoizedState=d.baseState=_,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:_},d.queue=a,a=a.dispatch=JI.bind(null,ct,a),[d.memoizedState,a]},useRef:function(a){var l=Ni();return a={current:a},l.memoizedState=a},useState:function(a){a=cp(a);var l=a.queue,u=i2.bind(null,ct,l);return l.dispatch=u,[a.memoizedState,u]},useDebugValue:fp,useDeferredValue:function(a,l){var u=Ni();return dp(u,a,l)},useTransition:function(){var a=cp(!1);return a=Zx.bind(null,ct,a.queue,!0,!1),Ni().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,u){var d=ct,_=Ni();if(Tt){if(u===void 0)throw Error(i(407));u=u()}else{if(u=l(),nn===null)throw Error(i(349));(_t&127)!==0||Cx(d,l,u)}_.memoizedState=u;var y={value:u,getSnapshot:l};return _.queue=y,Hx(Ix.bind(null,d,y,a),[a]),d.flags|=2048,gc(9,{destroy:void 0},Rx.bind(null,d,y,u,l),null),u},useId:function(){var a=Ni(),l=nn.identifierPrefix;if(Tt){var u=fs,d=hs;u=(d&~(1<<32-dn(d)-1)).toString(32)+u,l="_"+l+"R_"+u,u=wd++,0<u&&(l+="H"+u.toString(32)),l+="_"}else u=WI++,l="_"+l+"r_"+u.toString(32)+"_";return a.memoizedState=l},useHostTransitionStatus:gp,useFormState:Bx,useActionState:Bx,useOptimistic:function(a){var l=Ni();l.memoizedState=l.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=pp.bind(null,ct,!0,u),u.dispatch=l,[a,l]},useMemoCache:ap,useCacheRefresh:function(){return Ni().memoizedState=ZI.bind(null,ct)},useEffectEvent:function(a){var l=Ni(),u={impl:a};return l.memoizedState=u,function(){if((Nt&2)!==0)throw Error(i(440));return u.impl.apply(void 0,arguments)}}},_p={readContext:ri,use:Ad,useCallback:$x,useContext:ri,useEffect:hp,useImperativeHandle:Xx,useInsertionEffect:Gx,useLayoutEffect:Wx,useMemo:Kx,useReducer:Cd,useRef:jx,useState:function(){return Cd(Ws)},useDebugValue:fp,useDeferredValue:function(a,l){var u=wn();return Qx(u,Kt.memoizedState,a,l)},useTransition:function(){var a=Cd(Ws)[0],l=wn().memoizedState;return[typeof a=="boolean"?a:Ku(a),l]},useSyncExternalStore:Ax,useId:t2,useHostTransitionStatus:gp,useFormState:Vx,useActionState:Vx,useOptimistic:function(a,l){var u=wn();return Nx(u,Kt,a,l)},useMemoCache:ap,useCacheRefresh:n2};_p.useEffectEvent=qx;var o2={readContext:ri,use:Ad,useCallback:$x,useContext:ri,useEffect:hp,useImperativeHandle:Xx,useInsertionEffect:Gx,useLayoutEffect:Wx,useMemo:Kx,useReducer:lp,useRef:jx,useState:function(){return lp(Ws)},useDebugValue:fp,useDeferredValue:function(a,l){var u=wn();return Kt===null?dp(u,a,l):Qx(u,Kt.memoizedState,a,l)},useTransition:function(){var a=lp(Ws)[0],l=wn().memoizedState;return[typeof a=="boolean"?a:Ku(a),l]},useSyncExternalStore:Ax,useId:t2,useHostTransitionStatus:gp,useFormState:zx,useActionState:zx,useOptimistic:function(a,l){var u=wn();return Kt!==null?Nx(u,Kt,a,l):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:ap,useCacheRefresh:n2};o2.useEffectEvent=qx;function vp(a,l,u,d){l=a.memoizedState,u=u(d,l),u=u==null?l:p({},l,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var yp={enqueueSetState:function(a,l,u){a=a._reactInternals;var d=or(),_=za(d);_.payload=l,u!=null&&(_.callback=u),l=ja(a,_,d),l!==null&&(Hi(l,a,d),Wu(l,a,d))},enqueueReplaceState:function(a,l,u){a=a._reactInternals;var d=or(),_=za(d);_.tag=1,_.payload=l,u!=null&&(_.callback=u),l=ja(a,_,d),l!==null&&(Hi(l,a,d),Wu(l,a,d))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var u=or(),d=za(u);d.tag=2,l!=null&&(d.callback=l),l=ja(a,d,u),l!==null&&(Hi(l,a,u),Wu(l,a,u))}};function l2(a,l,u,d,_,y,b){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(d,y,b):l.prototype&&l.prototype.isPureReactComponent?!Bu(u,d)||!Bu(_,y):!0}function c2(a,l,u,d){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,d),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,d),l.state!==a&&yp.enqueueReplaceState(l,l.state,null)}function al(a,l){var u=l;if("ref"in l){u={};for(var d in l)d!=="ref"&&(u[d]=l[d])}if(a=a.defaultProps){u===l&&(u=p({},u));for(var _ in a)u[_]===void 0&&(u[_]=a[_])}return u}function u2(a){ld(a)}function h2(a){console.error(a)}function f2(a){ld(a)}function Od(a,l){try{var u=a.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(d){setTimeout(function(){throw d})}}function d2(a,l,u){try{var d=a.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function xp(a,l,u){return u=za(u),u.tag=3,u.payload={element:null},u.callback=function(){Od(a,l)},u}function m2(a){return a=za(a),a.tag=3,a}function g2(a,l,u,d){var _=u.type.getDerivedStateFromError;if(typeof _=="function"){var y=d.value;a.payload=function(){return _(y)},a.callback=function(){d2(l,u,d)}}var b=u.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(a.callback=function(){d2(l,u,d),typeof _!="function"&&(Xa===null?Xa=new Set([this]):Xa.add(this));var L=d.stack;this.componentDidCatch(d.value,{componentStack:L!==null?L:""})})}function eD(a,l,u,d,_){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(l=u.alternate,l!==null&&oc(l,u,_,!0),u=ir.current,u!==null){switch(u.tag){case 31:case 13:return wr===null?Hd():u.alternate===null&&vn===0&&(vn=3),u.flags&=-257,u.flags|=65536,u.lanes=_,d===vd?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([d]):l.add(d),Gp(a,d,_)),!1;case 22:return u.flags|=65536,d===vd?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([d]):u.add(d)),Gp(a,d,_)),!1}throw Error(i(435,u.tag))}return Gp(a,d,_),Hd(),!1}if(Tt)return l=ir.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=_,d!==Vg&&(a=Error(i(422),{cause:d}),zu(xr(a,u)))):(d!==Vg&&(l=Error(i(423),{cause:d}),zu(xr(l,u))),a=a.current.alternate,a.flags|=65536,_&=-_,a.lanes|=_,d=xr(d,u),_=xp(a.stateNode,d,_),Kg(a,_),vn!==4&&(vn=2)),!1;var y=Error(i(520),{cause:d});if(y=xr(y,u),ah===null?ah=[y]:ah.push(y),vn!==4&&(vn=2),l===null)return!0;d=xr(d,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,a=_&-_,u.lanes|=a,a=xp(u.stateNode,d,a),Kg(u,a),!1;case 1:if(l=u.type,y=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Xa===null||!Xa.has(y))))return u.flags|=65536,_&=-_,u.lanes|=_,_=m2(_),g2(_,a,u,d),Kg(u,_),!1}u=u.return}while(u!==null);return!1}var Ep=Error(i(461)),On=!1;function si(a,l,u,d){l.child=a===null?yx(l,null,u,d):rl(l,a.child,u,d)}function p2(a,l,u,d,_){u=u.render;var y=l.ref;if("ref"in d){var b={};for(var L in d)L!=="ref"&&(b[L]=d[L])}else b=d;return el(l),d=np(a,l,u,b,y,_),L=ip(),a!==null&&!On?(rp(a,l,_),Ys(a,l,_)):(Tt&&L&&Lg(l),l.flags|=1,si(a,l,d,_),l.child)}function _2(a,l,u,d,_){if(a===null){var y=u.type;return typeof y=="function"&&!kg(y)&&y.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=y,v2(a,l,y,d,_)):(a=fd(u.type,null,d,l,l.mode,_),a.ref=l.ref,a.return=l,l.child=a)}if(y=a.child,!Ip(a,_)){var b=y.memoizedProps;if(u=u.compare,u=u!==null?u:Bu,u(b,d)&&a.ref===l.ref)return Ys(a,l,_)}return l.flags|=1,a=zs(y,d),a.ref=l.ref,a.return=l,l.child=a}function v2(a,l,u,d,_){if(a!==null){var y=a.memoizedProps;if(Bu(y,d)&&a.ref===l.ref)if(On=!1,l.pendingProps=d=y,Ip(a,_))(a.flags&131072)!==0&&(On=!0);else return l.lanes=a.lanes,Ys(a,l,_)}return Tp(a,l,u,d,_)}function y2(a,l,u,d){var _=d.children,y=a!==null?a.memoizedState:null;if(a===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((l.flags&128)!==0){if(y=y!==null?y.baseLanes|u:u,a!==null){for(d=l.child=a.child,_=0;d!==null;)_=_|d.lanes|d.childLanes,d=d.sibling;d=_&~y}else d=0,l.child=null;return x2(a,l,y,u,d)}if((u&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&pd(l,y!==null?y.cachePool:null),y!==null?Tx(l,y):Zg(),Sx(l);else return d=l.lanes=536870912,x2(a,l,y!==null?y.baseLanes|u:u,u,d)}else y!==null?(pd(l,y.cachePool),Tx(l,y),qa(),l.memoizedState=null):(a!==null&&pd(l,null),Zg(),qa());return si(a,l,_,u),l.child}function Ju(a,l){return a!==null&&a.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function x2(a,l,u,d,_){var y=Wg();return y=y===null?null:{parent:In._currentValue,pool:y},l.memoizedState={baseLanes:u,cachePool:y},a!==null&&pd(l,null),Zg(),Sx(l),a!==null&&oc(a,l,d,!0),l.childLanes=_,null}function Nd(a,l){return l=kd({mode:l.mode,children:l.children},a.mode),l.ref=a.ref,a.child=l,l.return=a,l}function E2(a,l,u){return rl(l,a.child,null,u),a=Nd(l,l.pendingProps),a.flags|=2,rr(l),l.memoizedState=null,a}function tD(a,l,u){var d=l.pendingProps,_=(l.flags&128)!==0;if(l.flags&=-129,a===null){if(Tt){if(d.mode==="hidden")return a=Nd(l,d),l.lanes=536870912,Ju(null,a);if(ep(l),(a=an)?(a=ME(a,Sr),a=a!==null&&a.data==="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:Fa!==null?{id:hs,overflow:fs}:null,retryLane:536870912,hydrationErrors:null},u=rx(a),u.return=l,l.child=u,ii=l,an=null)):a=null,a===null)throw Ba(l);return l.lanes=536870912,null}return Nd(l,d)}var y=a.memoizedState;if(y!==null){var b=y.dehydrated;if(ep(l),_)if(l.flags&256)l.flags&=-257,l=E2(a,l,u);else if(l.memoizedState!==null)l.child=a.child,l.flags|=128,l=null;else throw Error(i(558));else if(On||oc(a,l,u,!1),_=(u&a.childLanes)!==0,On||_){if(d=nn,d!==null&&(b=Bo(d,u),b!==0&&b!==y.retryLane))throw y.retryLane=b,Ko(a,b),Hi(d,a,b),Ep;Hd(),l=E2(a,l,u)}else a=y.treeContext,an=br(b.nextSibling),ii=l,Tt=!0,La=null,Sr=!1,a!==null&&ox(l,a),l=Nd(l,d),l.flags|=4096;return l}return a=zs(a.child,{mode:d.mode,children:d.children}),a.ref=l.ref,l.child=a,a.return=l,a}function Md(a,l){var u=l.ref;if(u===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(a===null||a.ref!==u)&&(l.flags|=4194816)}}function Tp(a,l,u,d,_){return el(l),u=np(a,l,u,d,void 0,_),d=ip(),a!==null&&!On?(rp(a,l,_),Ys(a,l,_)):(Tt&&d&&Lg(l),l.flags|=1,si(a,l,u,_),l.child)}function T2(a,l,u,d,_,y){return el(l),l.updateQueue=null,u=bx(l,d,u,_),wx(a),d=ip(),a!==null&&!On?(rp(a,l,y),Ys(a,l,y)):(Tt&&d&&Lg(l),l.flags|=1,si(a,l,u,y),l.child)}function S2(a,l,u,d,_){if(el(l),l.stateNode===null){var y=ic,b=u.contextType;typeof b=="object"&&b!==null&&(y=ri(b)),y=new u(d,y),l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=yp,l.stateNode=y,y._reactInternals=l,y=l.stateNode,y.props=d,y.state=l.memoizedState,y.refs={},Xg(l),b=u.contextType,y.context=typeof b=="object"&&b!==null?ri(b):ic,y.state=l.memoizedState,b=u.getDerivedStateFromProps,typeof b=="function"&&(vp(l,u,b,d),y.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(b=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),b!==y.state&&yp.enqueueReplaceState(y,y.state,null),Xu(l,d,y,_),Yu(),y.state=l.memoizedState),typeof y.componentDidMount=="function"&&(l.flags|=4194308),d=!0}else if(a===null){y=l.stateNode;var L=l.memoizedProps,J=al(u,L);y.props=J;var he=y.context,xe=u.contextType;b=ic,typeof xe=="object"&&xe!==null&&(b=ri(xe));var we=u.getDerivedStateFromProps;xe=typeof we=="function"||typeof y.getSnapshotBeforeUpdate=="function",L=l.pendingProps!==L,xe||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(L||he!==b)&&c2(l,y,d,b),Ua=!1;var ge=l.memoizedState;y.state=ge,Xu(l,d,y,_),Yu(),he=l.memoizedState,L||ge!==he||Ua?(typeof we=="function"&&(vp(l,u,we,d),he=l.memoizedState),(J=Ua||l2(l,u,J,d,ge,he,b))?(xe||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(l.flags|=4194308)):(typeof y.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=d,l.memoizedState=he),y.props=d,y.state=he,y.context=b,d=J):(typeof y.componentDidMount=="function"&&(l.flags|=4194308),d=!1)}else{y=l.stateNode,$g(a,l),b=l.memoizedProps,xe=al(u,b),y.props=xe,we=l.pendingProps,ge=y.context,he=u.contextType,J=ic,typeof he=="object"&&he!==null&&(J=ri(he)),L=u.getDerivedStateFromProps,(he=typeof L=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(b!==we||ge!==J)&&c2(l,y,d,J),Ua=!1,ge=l.memoizedState,y.state=ge,Xu(l,d,y,_),Yu();var _e=l.memoizedState;b!==we||ge!==_e||Ua||a!==null&&a.dependencies!==null&&md(a.dependencies)?(typeof L=="function"&&(vp(l,u,L,d),_e=l.memoizedState),(xe=Ua||l2(l,u,xe,d,ge,_e,J)||a!==null&&a.dependencies!==null&&md(a.dependencies))?(he||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(d,_e,J),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(d,_e,J)),typeof y.componentDidUpdate=="function"&&(l.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof y.componentDidUpdate!="function"||b===a.memoizedProps&&ge===a.memoizedState||(l.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||b===a.memoizedProps&&ge===a.memoizedState||(l.flags|=1024),l.memoizedProps=d,l.memoizedState=_e),y.props=d,y.state=_e,y.context=J,d=xe):(typeof y.componentDidUpdate!="function"||b===a.memoizedProps&&ge===a.memoizedState||(l.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||b===a.memoizedProps&&ge===a.memoizedState||(l.flags|=1024),d=!1)}return y=d,Md(a,l),d=(l.flags&128)!==0,y||d?(y=l.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:y.render(),l.flags|=1,a!==null&&d?(l.child=rl(l,a.child,null,_),l.child=rl(l,null,u,_)):si(a,l,u,_),l.memoizedState=y.state,a=l.child):a=Ys(a,l,_),a}function w2(a,l,u,d){return Zo(),l.flags|=256,si(a,l,u,d),l.child}var Sp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wp(a){return{baseLanes:a,cachePool:dx()}}function bp(a,l,u){return a=a!==null?a.childLanes&~u:0,l&&(a|=ar),a}function b2(a,l,u){var d=l.pendingProps,_=!1,y=(l.flags&128)!==0,b;if((b=y)||(b=a!==null&&a.memoizedState===null?!1:(Sn.current&2)!==0),b&&(_=!0,l.flags&=-129),b=(l.flags&32)!==0,l.flags&=-33,a===null){if(Tt){if(_?Ha(l):qa(),(a=an)?(a=ME(a,Sr),a=a!==null&&a.data!=="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:Fa!==null?{id:hs,overflow:fs}:null,retryLane:536870912,hydrationErrors:null},u=rx(a),u.return=l,l.child=u,ii=l,an=null)):a=null,a===null)throw Ba(l);return o1(a)?l.lanes=32:l.lanes=536870912,null}var L=d.children;return d=d.fallback,_?(qa(),_=l.mode,L=kd({mode:"hidden",children:L},_),d=Qo(d,_,u,null),L.return=l,d.return=l,L.sibling=d,l.child=L,d=l.child,d.memoizedState=wp(u),d.childLanes=bp(a,b,u),l.memoizedState=Sp,Ju(null,d)):(Ha(l),Ap(l,L))}var J=a.memoizedState;if(J!==null&&(L=J.dehydrated,L!==null)){if(y)l.flags&256?(Ha(l),l.flags&=-257,l=Cp(a,l,u)):l.memoizedState!==null?(qa(),l.child=a.child,l.flags|=128,l=null):(qa(),L=d.fallback,_=l.mode,d=kd({mode:"visible",children:d.children},_),L=Qo(L,_,u,null),L.flags|=2,d.return=l,L.return=l,d.sibling=L,l.child=d,rl(l,a.child,null,u),d=l.child,d.memoizedState=wp(u),d.childLanes=bp(a,b,u),l.memoizedState=Sp,l=Ju(null,d));else if(Ha(l),o1(L)){if(b=L.nextSibling&&L.nextSibling.dataset,b)var he=b.dgst;b=he,d=Error(i(419)),d.stack="",d.digest=b,zu({value:d,source:null,stack:null}),l=Cp(a,l,u)}else if(On||oc(a,l,u,!1),b=(u&a.childLanes)!==0,On||b){if(b=nn,b!==null&&(d=Bo(b,u),d!==0&&d!==J.retryLane))throw J.retryLane=d,Ko(a,d),Hi(b,a,d),Ep;a1(L)||Hd(),l=Cp(a,l,u)}else a1(L)?(l.flags|=192,l.child=a.child,l=null):(a=J.treeContext,an=br(L.nextSibling),ii=l,Tt=!0,La=null,Sr=!1,a!==null&&ox(l,a),l=Ap(l,d.children),l.flags|=4096);return l}return _?(qa(),L=d.fallback,_=l.mode,J=a.child,he=J.sibling,d=zs(J,{mode:"hidden",children:d.children}),d.subtreeFlags=J.subtreeFlags&65011712,he!==null?L=zs(he,L):(L=Qo(L,_,u,null),L.flags|=2),L.return=l,d.return=l,d.sibling=L,l.child=d,Ju(null,d),d=l.child,L=a.child.memoizedState,L===null?L=wp(u):(_=L.cachePool,_!==null?(J=In._currentValue,_=_.parent!==J?{parent:J,pool:J}:_):_=dx(),L={baseLanes:L.baseLanes|u,cachePool:_}),d.memoizedState=L,d.childLanes=bp(a,b,u),l.memoizedState=Sp,Ju(a.child,d)):(Ha(l),u=a.child,a=u.sibling,u=zs(u,{mode:"visible",children:d.children}),u.return=l,u.sibling=null,a!==null&&(b=l.deletions,b===null?(l.deletions=[a],l.flags|=16):b.push(a)),l.child=u,l.memoizedState=null,u)}function Ap(a,l){return l=kd({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function kd(a,l){return a=nr(22,a,null,l),a.lanes=0,a}function Cp(a,l,u){return rl(l,a.child,null,u),a=Ap(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function A2(a,l,u){a.lanes|=l;var d=a.alternate;d!==null&&(d.lanes|=l),jg(a.return,l,u)}function Rp(a,l,u,d,_,y){var b=a.memoizedState;b===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:_,treeForkCount:y}:(b.isBackwards=l,b.rendering=null,b.renderingStartTime=0,b.last=d,b.tail=u,b.tailMode=_,b.treeForkCount=y)}function C2(a,l,u){var d=l.pendingProps,_=d.revealOrder,y=d.tail;d=d.children;var b=Sn.current,L=(b&2)!==0;if(L?(b=b&1|2,l.flags|=128):b&=1,Z(Sn,b),si(a,l,d,u),d=Tt?Uu:0,!L&&a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&A2(a,u,l);else if(a.tag===19)A2(a,u,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(_){case"forwards":for(u=l.child,_=null;u!==null;)a=u.alternate,a!==null&&Td(a)===null&&(_=u),u=u.sibling;u=_,u===null?(_=l.child,l.child=null):(_=u.sibling,u.sibling=null),Rp(l,!1,_,u,y,d);break;case"backwards":case"unstable_legacy-backwards":for(u=null,_=l.child,l.child=null;_!==null;){if(a=_.alternate,a!==null&&Td(a)===null){l.child=_;break}a=_.sibling,_.sibling=u,u=_,_=a}Rp(l,!0,u,null,y,d);break;case"together":Rp(l,!1,null,null,void 0,d);break;default:l.memoizedState=null}return l.child}function Ys(a,l,u){if(a!==null&&(l.dependencies=a.dependencies),Ya|=l.lanes,(u&l.childLanes)===0)if(a!==null){if(oc(a,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(i(153));if(l.child!==null){for(a=l.child,u=zs(a,a.pendingProps),l.child=u,u.return=l;a.sibling!==null;)a=a.sibling,u=u.sibling=zs(a,a.pendingProps),u.return=l;u.sibling=null}return l.child}function Ip(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&md(a)))}function nD(a,l,u){switch(l.tag){case 3:je(l,l.stateNode.containerInfo),Va(l,In,a.memoizedState.cache),Zo();break;case 27:case 5:Le(l);break;case 4:je(l,l.stateNode.containerInfo);break;case 10:Va(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,ep(l),null;break;case 13:var d=l.memoizedState;if(d!==null)return d.dehydrated!==null?(Ha(l),l.flags|=128,null):(u&l.child.childLanes)!==0?b2(a,l,u):(Ha(l),a=Ys(a,l,u),a!==null?a.sibling:null);Ha(l);break;case 19:var _=(a.flags&128)!==0;if(d=(u&l.childLanes)!==0,d||(oc(a,l,u,!1),d=(u&l.childLanes)!==0),_){if(d)return C2(a,l,u);l.flags|=128}if(_=l.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Z(Sn,Sn.current),d)break;return null;case 22:return l.lanes=0,y2(a,l,u,l.pendingProps);case 24:Va(l,In,a.memoizedState.cache)}return Ys(a,l,u)}function R2(a,l,u){if(a!==null)if(a.memoizedProps!==l.pendingProps)On=!0;else{if(!Ip(a,u)&&(l.flags&128)===0)return On=!1,nD(a,l,u);On=(a.flags&131072)!==0}else On=!1,Tt&&(l.flags&1048576)!==0&&ax(l,Uu,l.index);switch(l.lanes=0,l.tag){case 16:e:{var d=l.pendingProps;if(a=nl(l.elementType),l.type=a,typeof a=="function")kg(a)?(d=al(a,d),l.tag=1,l=S2(null,l,a,d,u)):(l.tag=0,l=Tp(null,l,a,d,u));else{if(a!=null){var _=a.$$typeof;if(_===H){l.tag=11,l=p2(null,l,a,d,u);break e}else if(_===A){l.tag=14,l=_2(null,l,a,d,u);break e}}throw l=Te(a)||a,Error(i(306,l,""))}}return l;case 0:return Tp(a,l,l.type,l.pendingProps,u);case 1:return d=l.type,_=al(d,l.pendingProps),S2(a,l,d,_,u);case 3:e:{if(je(l,l.stateNode.containerInfo),a===null)throw Error(i(387));d=l.pendingProps;var y=l.memoizedState;_=y.element,$g(a,l),Xu(l,d,null,u);var b=l.memoizedState;if(d=b.cache,Va(l,In,d),d!==y.cache&&Hg(l,[In],u,!0),Yu(),d=b.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:b.cache},l.updateQueue.baseState=y,l.memoizedState=y,l.flags&256){l=w2(a,l,d,u);break e}else if(d!==_){_=xr(Error(i(424)),l),zu(_),l=w2(a,l,d,u);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(an=br(a.firstChild),ii=l,Tt=!0,La=null,Sr=!0,u=yx(l,null,d,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Zo(),d===_){l=Ys(a,l,u);break e}si(a,l,d,u)}l=l.child}return l;case 26:return Md(a,l),a===null?(u=VE(l.type,null,l.pendingProps,null))?l.memoizedState=u:Tt||(u=l.type,a=l.pendingProps,d=Kd(fe.current).createElement(u),d[j]=l,d[G]=a,ai(d,u,a),Xe(d),l.stateNode=d):l.memoizedState=VE(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return Le(l),a===null&&Tt&&(d=l.stateNode=FE(l.type,l.pendingProps,fe.current),ii=l,Sr=!0,_=an,Za(l.type)?(l1=_,an=br(d.firstChild)):an=_),si(a,l,l.pendingProps.children,u),Md(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&Tt&&((_=d=an)&&(d=ND(d,l.type,l.pendingProps,Sr),d!==null?(l.stateNode=d,ii=l,an=br(d.firstChild),Sr=!1,_=!0):_=!1),_||Ba(l)),Le(l),_=l.type,y=l.pendingProps,b=a!==null?a.memoizedProps:null,d=y.children,i1(_,y)?d=null:b!==null&&i1(_,b)&&(l.flags|=32),l.memoizedState!==null&&(_=np(a,l,YI,null,null,u),mh._currentValue=_),Md(a,l),si(a,l,d,u),l.child;case 6:return a===null&&Tt&&((a=u=an)&&(u=MD(u,l.pendingProps,Sr),u!==null?(l.stateNode=u,ii=l,an=null,a=!0):a=!1),a||Ba(l)),null;case 13:return b2(a,l,u);case 4:return je(l,l.stateNode.containerInfo),d=l.pendingProps,a===null?l.child=rl(l,null,d,u):si(a,l,d,u),l.child;case 11:return p2(a,l,l.type,l.pendingProps,u);case 7:return si(a,l,l.pendingProps,u),l.child;case 8:return si(a,l,l.pendingProps.children,u),l.child;case 12:return si(a,l,l.pendingProps.children,u),l.child;case 10:return d=l.pendingProps,Va(l,l.type,d.value),si(a,l,d.children,u),l.child;case 9:return _=l.type._context,d=l.pendingProps.children,el(l),_=ri(_),d=d(_),l.flags|=1,si(a,l,d,u),l.child;case 14:return _2(a,l,l.type,l.pendingProps,u);case 15:return v2(a,l,l.type,l.pendingProps,u);case 19:return C2(a,l,u);case 31:return tD(a,l,u);case 22:return y2(a,l,u,l.pendingProps);case 24:return el(l),d=ri(In),a===null?(_=Wg(),_===null&&(_=nn,y=qg(),_.pooledCache=y,y.refCount++,y!==null&&(_.pooledCacheLanes|=u),_=y),l.memoizedState={parent:d,cache:_},Xg(l),Va(l,In,_)):((a.lanes&u)!==0&&($g(a,l),Xu(l,null,null,u),Yu()),_=a.memoizedState,y=l.memoizedState,_.parent!==d?(_={parent:d,cache:d},l.memoizedState=_,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=_),Va(l,In,d)):(d=y.cache,Va(l,In,d),d!==_.cache&&Hg(l,[In],u,!0))),si(a,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}function Xs(a){a.flags|=4}function Dp(a,l,u,d,_){if((l=(a.mode&32)!==0)&&(l=!1),l){if(a.flags|=16777216,(_&335544128)===_)if(a.stateNode.complete)a.flags|=8192;else if(tE())a.flags|=8192;else throw il=vd,Yg}else a.flags&=-16777217}function I2(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!qE(l))if(tE())a.flags|=8192;else throw il=vd,Yg}function Pd(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?ql():536870912,a.lanes|=l,yc|=l)}function eh(a,l){if(!Tt)switch(a.tailMode){case"hidden":l=a.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:d.sibling=null}}function on(a){var l=a.alternate!==null&&a.alternate.child===a.child,u=0,d=0;if(l)for(var _=a.child;_!==null;)u|=_.lanes|_.childLanes,d|=_.subtreeFlags&65011712,d|=_.flags&65011712,_.return=a,_=_.sibling;else for(_=a.child;_!==null;)u|=_.lanes|_.childLanes,d|=_.subtreeFlags,d|=_.flags,_.return=a,_=_.sibling;return a.subtreeFlags|=d,a.childLanes=u,l}function iD(a,l,u){var d=l.pendingProps;switch(Bg(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(l),null;case 1:return on(l),null;case 3:return u=l.stateNode,d=null,a!==null&&(d=a.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),qs(In),ke(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(ac(l)?Xs(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Ug())),on(l),null;case 26:var _=l.type,y=l.memoizedState;return a===null?(Xs(l),y!==null?(on(l),I2(l,y)):(on(l),Dp(l,_,null,d,u))):y?y!==a.memoizedState?(Xs(l),on(l),I2(l,y)):(on(l),l.flags&=-16777217):(a=a.memoizedProps,a!==d&&Xs(l),on(l),Dp(l,_,a,d,u)),null;case 27:if(pt(l),u=fe.current,_=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==d&&Xs(l);else{if(!d){if(l.stateNode===null)throw Error(i(166));return on(l),null}a=K.current,ac(l)?lx(l):(a=FE(_,d,u),l.stateNode=a,Xs(l))}return on(l),null;case 5:if(pt(l),_=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==d&&Xs(l);else{if(!d){if(l.stateNode===null)throw Error(i(166));return on(l),null}if(y=K.current,ac(l))lx(l);else{var b=Kd(fe.current);switch(y){case 1:y=b.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:y=b.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":y=b.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":y=b.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":y=b.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof d.is=="string"?b.createElement("select",{is:d.is}):b.createElement("select"),d.multiple?y.multiple=!0:d.size&&(y.size=d.size);break;default:y=typeof d.is=="string"?b.createElement(_,{is:d.is}):b.createElement(_)}}y[j]=l,y[G]=d;e:for(b=l.child;b!==null;){if(b.tag===5||b.tag===6)y.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===l)break e;for(;b.sibling===null;){if(b.return===null||b.return===l)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}l.stateNode=y;e:switch(ai(y,_,d),_){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Xs(l)}}return on(l),Dp(l,l.type,a===null?null:a.memoizedProps,l.pendingProps,u),null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==d&&Xs(l);else{if(typeof d!="string"&&l.stateNode===null)throw Error(i(166));if(a=fe.current,ac(l)){if(a=l.stateNode,u=l.memoizedProps,d=null,_=ii,_!==null)switch(_.tag){case 27:case 5:d=_.memoizedProps}a[j]=l,a=!!(a.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||bE(a.nodeValue,u)),a||Ba(l,!0)}else a=Kd(a).createTextNode(d),a[j]=l,l.stateNode=a}return on(l),null;case 31:if(u=l.memoizedState,a===null||a.memoizedState!==null){if(d=ac(l),u!==null){if(a===null){if(!d)throw Error(i(318));if(a=l.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(557));a[j]=l}else Zo(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;on(l),a=!1}else u=Ug(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return l.flags&256?(rr(l),l):(rr(l),null);if((l.flags&128)!==0)throw Error(i(558))}return on(l),null;case 13:if(d=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(_=ac(l),d!==null&&d.dehydrated!==null){if(a===null){if(!_)throw Error(i(318));if(_=l.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(i(317));_[j]=l}else Zo(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;on(l),_=!1}else _=Ug(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=_),_=!0;if(!_)return l.flags&256?(rr(l),l):(rr(l),null)}return rr(l),(l.flags&128)!==0?(l.lanes=u,l):(u=d!==null,a=a!==null&&a.memoizedState!==null,u&&(d=l.child,_=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(_=d.alternate.memoizedState.cachePool.pool),y=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==_&&(d.flags|=2048)),u!==a&&u&&(l.child.flags|=8192),Pd(l,l.updateQueue),on(l),null);case 4:return ke(),a===null&&Zp(l.stateNode.containerInfo),on(l),null;case 10:return qs(l.type),on(l),null;case 19:if(V(Sn),d=l.memoizedState,d===null)return on(l),null;if(_=(l.flags&128)!==0,y=d.rendering,y===null)if(_)eh(d,!1);else{if(vn!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(y=Td(a),y!==null){for(l.flags|=128,eh(d,!1),a=y.updateQueue,l.updateQueue=a,Pd(l,a),l.subtreeFlags=0,a=u,u=l.child;u!==null;)ix(u,a),u=u.sibling;return Z(Sn,Sn.current&1|2),Tt&&js(l,d.treeForkCount),l.child}a=a.sibling}d.tail!==null&&ie()>Ud&&(l.flags|=128,_=!0,eh(d,!1),l.lanes=4194304)}else{if(!_)if(a=Td(y),a!==null){if(l.flags|=128,_=!0,a=a.updateQueue,l.updateQueue=a,Pd(l,a),eh(d,!0),d.tail===null&&d.tailMode==="hidden"&&!y.alternate&&!Tt)return on(l),null}else 2*ie()-d.renderingStartTime>Ud&&u!==536870912&&(l.flags|=128,_=!0,eh(d,!1),l.lanes=4194304);d.isBackwards?(y.sibling=l.child,l.child=y):(a=d.last,a!==null?a.sibling=y:l.child=y,d.last=y)}return d.tail!==null?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.renderingStartTime=ie(),a.sibling=null,u=Sn.current,Z(Sn,_?u&1|2:u&1),Tt&&js(l,d.treeForkCount),a):(on(l),null);case 22:case 23:return rr(l),Jg(),d=l.memoizedState!==null,a!==null?a.memoizedState!==null!==d&&(l.flags|=8192):d&&(l.flags|=8192),d?(u&536870912)!==0&&(l.flags&128)===0&&(on(l),l.subtreeFlags&6&&(l.flags|=8192)):on(l),u=l.updateQueue,u!==null&&Pd(l,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==u&&(l.flags|=2048),a!==null&&V(tl),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),qs(In),on(l),null;case 25:return null;case 30:return null}throw Error(i(156,l.tag))}function rD(a,l){switch(Bg(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return qs(In),ke(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return pt(l),null;case 31:if(l.memoizedState!==null){if(rr(l),l.alternate===null)throw Error(i(340));Zo()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 13:if(rr(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(i(340));Zo()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return V(Sn),null;case 4:return ke(),null;case 10:return qs(l.type),null;case 22:case 23:return rr(l),Jg(),a!==null&&V(tl),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return qs(In),null;case 25:return null;default:return null}}function D2(a,l){switch(Bg(l),l.tag){case 3:qs(In),ke();break;case 26:case 27:case 5:pt(l);break;case 4:ke();break;case 31:l.memoizedState!==null&&rr(l);break;case 13:rr(l);break;case 19:V(Sn);break;case 10:qs(l.type);break;case 22:case 23:rr(l),Jg(),a!==null&&V(tl);break;case 24:qs(In)}}function th(a,l){try{var u=l.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var _=d.next;u=_;do{if((u.tag&a)===a){d=void 0;var y=u.create,b=u.inst;d=y(),b.destroy=d}u=u.next}while(u!==_)}}catch(L){jt(l,l.return,L)}}function Ga(a,l,u){try{var d=l.updateQueue,_=d!==null?d.lastEffect:null;if(_!==null){var y=_.next;d=y;do{if((d.tag&a)===a){var b=d.inst,L=b.destroy;if(L!==void 0){b.destroy=void 0,_=l;var J=u,he=L;try{he()}catch(xe){jt(_,J,xe)}}}d=d.next}while(d!==y)}}catch(xe){jt(l,l.return,xe)}}function O2(a){var l=a.updateQueue;if(l!==null){var u=a.stateNode;try{Ex(l,u)}catch(d){jt(a,a.return,d)}}}function N2(a,l,u){u.props=al(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(d){jt(a,l,d)}}function nh(a,l){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var d=a.stateNode;break;case 30:d=a.stateNode;break;default:d=a.stateNode}typeof u=="function"?a.refCleanup=u(d):u.current=d}}catch(_){jt(a,l,_)}}function ds(a,l){var u=a.ref,d=a.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(_){jt(a,l,_)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(_){jt(a,l,_)}else u.current=null}function M2(a){var l=a.type,u=a.memoizedProps,d=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break e;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(_){jt(a,a.return,_)}}function Op(a,l,u){try{var d=a.stateNode;AD(d,a.type,u,l),d[G]=l}catch(_){jt(a,a.return,_)}}function k2(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Za(a.type)||a.tag===4}function Np(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||k2(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Za(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Mp(a,l,u){var d=a.tag;if(d===5||d===6)a=a.stateNode,l?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,l):(l=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,l.appendChild(a),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=Br));else if(d!==4&&(d===27&&Za(a.type)&&(u=a.stateNode,l=null),a=a.child,a!==null))for(Mp(a,l,u),a=a.sibling;a!==null;)Mp(a,l,u),a=a.sibling}function Fd(a,l,u){var d=a.tag;if(d===5||d===6)a=a.stateNode,l?u.insertBefore(a,l):u.appendChild(a);else if(d!==4&&(d===27&&Za(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(Fd(a,l,u),a=a.sibling;a!==null;)Fd(a,l,u),a=a.sibling}function P2(a){var l=a.stateNode,u=a.memoizedProps;try{for(var d=a.type,_=l.attributes;_.length;)l.removeAttributeNode(_[0]);ai(l,d,u),l[j]=a,l[G]=u}catch(y){jt(a,a.return,y)}}var $s=!1,Nn=!1,kp=!1,F2=typeof WeakSet=="function"?WeakSet:Set,Xn=null;function sD(a,l){if(a=a.containerInfo,t1=i0,a=Xy(a),Cg(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var _=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var b=0,L=-1,J=-1,he=0,xe=0,we=a,ge=null;t:for(;;){for(var _e;we!==u||_!==0&&we.nodeType!==3||(L=b+_),we!==y||d!==0&&we.nodeType!==3||(J=b+d),we.nodeType===3&&(b+=we.nodeValue.length),(_e=we.firstChild)!==null;)ge=we,we=_e;for(;;){if(we===a)break t;if(ge===u&&++he===_&&(L=b),ge===y&&++xe===d&&(J=b),(_e=we.nextSibling)!==null)break;we=ge,ge=we.parentNode}we=_e}u=L===-1||J===-1?null:{start:L,end:J}}else u=null}u=u||{start:0,end:0}}else u=null;for(n1={focusedElem:a,selectionRange:u},i0=!1,Xn=l;Xn!==null;)if(l=Xn,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,Xn=a;else for(;Xn!==null;){switch(l=Xn,y=l.alternate,a=l.flags,l.tag){case 0:if((a&4)!==0&&(a=l.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)_=a[u],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&y!==null){a=void 0,u=l,_=y.memoizedProps,y=y.memoizedState,d=u.stateNode;try{var Ye=al(u.type,_);a=d.getSnapshotBeforeUpdate(Ye,y),d.__reactInternalSnapshotBeforeUpdate=a}catch(et){jt(u,u.return,et)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,u=a.nodeType,u===9)s1(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":s1(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=l.sibling,a!==null){a.return=l.return,Xn=a;break}Xn=l.return}}function L2(a,l,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:Qs(a,u),d&4&&th(5,u);break;case 1:if(Qs(a,u),d&4)if(a=u.stateNode,l===null)try{a.componentDidMount()}catch(b){jt(u,u.return,b)}else{var _=al(u.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(_,l,a.__reactInternalSnapshotBeforeUpdate)}catch(b){jt(u,u.return,b)}}d&64&&O2(u),d&512&&nh(u,u.return);break;case 3:if(Qs(a,u),d&64&&(a=u.updateQueue,a!==null)){if(l=null,u.child!==null)switch(u.child.tag){case 27:case 5:l=u.child.stateNode;break;case 1:l=u.child.stateNode}try{Ex(a,l)}catch(b){jt(u,u.return,b)}}break;case 27:l===null&&d&4&&P2(u);case 26:case 5:Qs(a,u),l===null&&d&4&&M2(u),d&512&&nh(u,u.return);break;case 12:Qs(a,u);break;case 31:Qs(a,u),d&4&&U2(a,u);break;case 13:Qs(a,u),d&4&&z2(a,u),d&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=mD.bind(null,u),kD(a,u))));break;case 22:if(d=u.memoizedState!==null||$s,!d){l=l!==null&&l.memoizedState!==null||Nn,_=$s;var y=Nn;$s=d,(Nn=l)&&!y?Zs(a,u,(u.subtreeFlags&8772)!==0):Qs(a,u),$s=_,Nn=y}break;case 30:break;default:Qs(a,u)}}function B2(a){var l=a.alternate;l!==null&&(a.alternate=null,B2(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&De(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var fn=null,Vi=!1;function Ks(a,l,u){for(u=u.child;u!==null;)V2(a,l,u),u=u.sibling}function V2(a,l,u){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(ti,u)}catch{}switch(u.tag){case 26:Nn||ds(u,l),Ks(a,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Nn||ds(u,l);var d=fn,_=Vi;Za(u.type)&&(fn=u.stateNode,Vi=!1),Ks(a,l,u),hh(u.stateNode),fn=d,Vi=_;break;case 5:Nn||ds(u,l);case 6:if(d=fn,_=Vi,fn=null,Ks(a,l,u),fn=d,Vi=_,fn!==null)if(Vi)try{(fn.nodeType===9?fn.body:fn.nodeName==="HTML"?fn.ownerDocument.body:fn).removeChild(u.stateNode)}catch(y){jt(u,l,y)}else try{fn.removeChild(u.stateNode)}catch(y){jt(u,l,y)}break;case 18:fn!==null&&(Vi?(a=fn,OE(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),Cc(a)):OE(fn,u.stateNode));break;case 4:d=fn,_=Vi,fn=u.stateNode.containerInfo,Vi=!0,Ks(a,l,u),fn=d,Vi=_;break;case 0:case 11:case 14:case 15:Ga(2,u,l),Nn||Ga(4,u,l),Ks(a,l,u);break;case 1:Nn||(ds(u,l),d=u.stateNode,typeof d.componentWillUnmount=="function"&&N2(u,l,d)),Ks(a,l,u);break;case 21:Ks(a,l,u);break;case 22:Nn=(d=Nn)||u.memoizedState!==null,Ks(a,l,u),Nn=d;break;default:Ks(a,l,u)}}function U2(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Cc(a)}catch(u){jt(l,l.return,u)}}}function z2(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Cc(a)}catch(u){jt(l,l.return,u)}}function aD(a){switch(a.tag){case 31:case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new F2),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new F2),l;default:throw Error(i(435,a.tag))}}function Ld(a,l){var u=aD(a);l.forEach(function(d){if(!u.has(d)){u.add(d);var _=gD.bind(null,a,d);d.then(_,_)}})}function Ui(a,l){var u=l.deletions;if(u!==null)for(var d=0;d<u.length;d++){var _=u[d],y=a,b=l,L=b;e:for(;L!==null;){switch(L.tag){case 27:if(Za(L.type)){fn=L.stateNode,Vi=!1;break e}break;case 5:fn=L.stateNode,Vi=!1;break e;case 3:case 4:fn=L.stateNode.containerInfo,Vi=!0;break e}L=L.return}if(fn===null)throw Error(i(160));V2(y,b,_),fn=null,Vi=!1,y=_.alternate,y!==null&&(y.return=null),_.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)j2(l,a),l=l.sibling}var qr=null;function j2(a,l){var u=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Ui(l,a),zi(a),d&4&&(Ga(3,a,a.return),th(3,a),Ga(5,a,a.return));break;case 1:Ui(l,a),zi(a),d&512&&(Nn||u===null||ds(u,u.return)),d&64&&$s&&(a=a.updateQueue,a!==null&&(d=a.callbacks,d!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var _=qr;if(Ui(l,a),zi(a),d&512&&(Nn||u===null||ds(u,u.return)),d&4){var y=u!==null?u.memoizedState:null;if(d=a.memoizedState,u===null)if(d===null)if(a.stateNode===null){e:{d=a.type,u=a.memoizedProps,_=_.ownerDocument||_;t:switch(d){case"title":y=_.getElementsByTagName("title")[0],(!y||y[de]||y[j]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=_.createElement(d),_.head.insertBefore(y,_.querySelector("head > title"))),ai(y,d,u),y[j]=a,Xe(y),d=y;break e;case"link":var b=jE("link","href",_).get(d+(u.href||""));if(b){for(var L=0;L<b.length;L++)if(y=b[L],y.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&y.getAttribute("rel")===(u.rel==null?null:u.rel)&&y.getAttribute("title")===(u.title==null?null:u.title)&&y.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){b.splice(L,1);break t}}y=_.createElement(d),ai(y,d,u),_.head.appendChild(y);break;case"meta":if(b=jE("meta","content",_).get(d+(u.content||""))){for(L=0;L<b.length;L++)if(y=b[L],y.getAttribute("content")===(u.content==null?null:""+u.content)&&y.getAttribute("name")===(u.name==null?null:u.name)&&y.getAttribute("property")===(u.property==null?null:u.property)&&y.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&y.getAttribute("charset")===(u.charSet==null?null:u.charSet)){b.splice(L,1);break t}}y=_.createElement(d),ai(y,d,u),_.head.appendChild(y);break;default:throw Error(i(468,d))}y[j]=a,Xe(y),d=y}a.stateNode=d}else HE(_,a.type,a.stateNode);else a.stateNode=zE(_,d,a.memoizedProps);else y!==d?(y===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):y.count--,d===null?HE(_,a.type,a.stateNode):zE(_,d,a.memoizedProps)):d===null&&a.stateNode!==null&&Op(a,a.memoizedProps,u.memoizedProps)}break;case 27:Ui(l,a),zi(a),d&512&&(Nn||u===null||ds(u,u.return)),u!==null&&d&4&&Op(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Ui(l,a),zi(a),d&512&&(Nn||u===null||ds(u,u.return)),a.flags&32){_=a.stateNode;try{Bi(_,"")}catch(Ye){jt(a,a.return,Ye)}}d&4&&a.stateNode!=null&&(_=a.memoizedProps,Op(a,_,u!==null?u.memoizedProps:_)),d&1024&&(kp=!0);break;case 6:if(Ui(l,a),zi(a),d&4){if(a.stateNode===null)throw Error(i(162));d=a.memoizedProps,u=a.stateNode;try{u.nodeValue=d}catch(Ye){jt(a,a.return,Ye)}}break;case 3:if(Jd=null,_=qr,qr=Qd(l.containerInfo),Ui(l,a),qr=_,zi(a),d&4&&u!==null&&u.memoizedState.isDehydrated)try{Cc(l.containerInfo)}catch(Ye){jt(a,a.return,Ye)}kp&&(kp=!1,H2(a));break;case 4:d=qr,qr=Qd(a.stateNode.containerInfo),Ui(l,a),zi(a),qr=d;break;case 12:Ui(l,a),zi(a);break;case 31:Ui(l,a),zi(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Ld(a,d)));break;case 13:Ui(l,a),zi(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Vd=ie()),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Ld(a,d)));break;case 22:_=a.memoizedState!==null;var J=u!==null&&u.memoizedState!==null,he=$s,xe=Nn;if($s=he||_,Nn=xe||J,Ui(l,a),Nn=xe,$s=he,zi(a),d&8192)e:for(l=a.stateNode,l._visibility=_?l._visibility&-2:l._visibility|1,_&&(u===null||J||$s||Nn||ol(a)),u=null,l=a;;){if(l.tag===5||l.tag===26){if(u===null){J=u=l;try{if(y=J.stateNode,_)b=y.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{L=J.stateNode;var we=J.memoizedProps.style,ge=we!=null&&we.hasOwnProperty("display")?we.display:null;L.style.display=ge==null||typeof ge=="boolean"?"":(""+ge).trim()}}catch(Ye){jt(J,J.return,Ye)}}}else if(l.tag===6){if(u===null){J=l;try{J.stateNode.nodeValue=_?"":J.memoizedProps}catch(Ye){jt(J,J.return,Ye)}}}else if(l.tag===18){if(u===null){J=l;try{var _e=J.stateNode;_?NE(_e,!0):NE(J.stateNode,!1)}catch(Ye){jt(J,J.return,Ye)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}d&4&&(d=a.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,Ld(a,u))));break;case 19:Ui(l,a),zi(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Ld(a,d)));break;case 30:break;case 21:break;default:Ui(l,a),zi(a)}}function zi(a){var l=a.flags;if(l&2){try{for(var u,d=a.return;d!==null;){if(k2(d)){u=d;break}d=d.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var _=u.stateNode,y=Np(a);Fd(a,y,_);break;case 5:var b=u.stateNode;u.flags&32&&(Bi(b,""),u.flags&=-33);var L=Np(a);Fd(a,L,b);break;case 3:case 4:var J=u.stateNode.containerInfo,he=Np(a);Mp(a,he,J);break;default:throw Error(i(161))}}catch(xe){jt(a,a.return,xe)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function H2(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;H2(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function Qs(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)L2(a,l.alternate,l),l=l.sibling}function ol(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:Ga(4,l,l.return),ol(l);break;case 1:ds(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&N2(l,l.return,u),ol(l);break;case 27:hh(l.stateNode);case 26:case 5:ds(l,l.return),ol(l);break;case 22:l.memoizedState===null&&ol(l);break;case 30:ol(l);break;default:ol(l)}a=a.sibling}}function Zs(a,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var d=l.alternate,_=a,y=l,b=y.flags;switch(y.tag){case 0:case 11:case 15:Zs(_,y,u),th(4,y);break;case 1:if(Zs(_,y,u),d=y,_=d.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(he){jt(d,d.return,he)}if(d=y,_=d.updateQueue,_!==null){var L=d.stateNode;try{var J=_.shared.hiddenCallbacks;if(J!==null)for(_.shared.hiddenCallbacks=null,_=0;_<J.length;_++)xx(J[_],L)}catch(he){jt(d,d.return,he)}}u&&b&64&&O2(y),nh(y,y.return);break;case 27:P2(y);case 26:case 5:Zs(_,y,u),u&&d===null&&b&4&&M2(y),nh(y,y.return);break;case 12:Zs(_,y,u);break;case 31:Zs(_,y,u),u&&b&4&&U2(_,y);break;case 13:Zs(_,y,u),u&&b&4&&z2(_,y);break;case 22:y.memoizedState===null&&Zs(_,y,u),nh(y,y.return);break;case 30:break;default:Zs(_,y,u)}l=l.sibling}}function Pp(a,l){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&ju(u))}function Fp(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&ju(a))}function Gr(a,l,u,d){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)q2(a,l,u,d),l=l.sibling}function q2(a,l,u,d){var _=l.flags;switch(l.tag){case 0:case 11:case 15:Gr(a,l,u,d),_&2048&&th(9,l);break;case 1:Gr(a,l,u,d);break;case 3:Gr(a,l,u,d),_&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&ju(a)));break;case 12:if(_&2048){Gr(a,l,u,d),a=l.stateNode;try{var y=l.memoizedProps,b=y.id,L=y.onPostCommit;typeof L=="function"&&L(b,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(J){jt(l,l.return,J)}}else Gr(a,l,u,d);break;case 31:Gr(a,l,u,d);break;case 13:Gr(a,l,u,d);break;case 23:break;case 22:y=l.stateNode,b=l.alternate,l.memoizedState!==null?y._visibility&2?Gr(a,l,u,d):ih(a,l):y._visibility&2?Gr(a,l,u,d):(y._visibility|=2,pc(a,l,u,d,(l.subtreeFlags&10256)!==0||!1)),_&2048&&Pp(b,l);break;case 24:Gr(a,l,u,d),_&2048&&Fp(l.alternate,l);break;default:Gr(a,l,u,d)}}function pc(a,l,u,d,_){for(_=_&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var y=a,b=l,L=u,J=d,he=b.flags;switch(b.tag){case 0:case 11:case 15:pc(y,b,L,J,_),th(8,b);break;case 23:break;case 22:var xe=b.stateNode;b.memoizedState!==null?xe._visibility&2?pc(y,b,L,J,_):ih(y,b):(xe._visibility|=2,pc(y,b,L,J,_)),_&&he&2048&&Pp(b.alternate,b);break;case 24:pc(y,b,L,J,_),_&&he&2048&&Fp(b.alternate,b);break;default:pc(y,b,L,J,_)}l=l.sibling}}function ih(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=a,d=l,_=d.flags;switch(d.tag){case 22:ih(u,d),_&2048&&Pp(d.alternate,d);break;case 24:ih(u,d),_&2048&&Fp(d.alternate,d);break;default:ih(u,d)}l=l.sibling}}var rh=8192;function _c(a,l,u){if(a.subtreeFlags&rh)for(a=a.child;a!==null;)G2(a,l,u),a=a.sibling}function G2(a,l,u){switch(a.tag){case 26:_c(a,l,u),a.flags&rh&&a.memoizedState!==null&&WD(u,qr,a.memoizedState,a.memoizedProps);break;case 5:_c(a,l,u);break;case 3:case 4:var d=qr;qr=Qd(a.stateNode.containerInfo),_c(a,l,u),qr=d;break;case 22:a.memoizedState===null&&(d=a.alternate,d!==null&&d.memoizedState!==null?(d=rh,rh=16777216,_c(a,l,u),rh=d):_c(a,l,u));break;default:_c(a,l,u)}}function W2(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function sh(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var d=l[u];Xn=d,X2(d,a)}W2(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Y2(a),a=a.sibling}function Y2(a){switch(a.tag){case 0:case 11:case 15:sh(a),a.flags&2048&&Ga(9,a,a.return);break;case 3:sh(a);break;case 12:sh(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,Bd(a)):sh(a);break;default:sh(a)}}function Bd(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var d=l[u];Xn=d,X2(d,a)}W2(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:Ga(8,l,l.return),Bd(l);break;case 22:u=l.stateNode,u._visibility&2&&(u._visibility&=-3,Bd(l));break;default:Bd(l)}a=a.sibling}}function X2(a,l){for(;Xn!==null;){var u=Xn;switch(u.tag){case 0:case 11:case 15:Ga(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:ju(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,Xn=d;else e:for(u=a;Xn!==null;){d=Xn;var _=d.sibling,y=d.return;if(B2(d),d===u){Xn=null;break e}if(_!==null){_.return=y,Xn=_;break e}Xn=y}}}var oD={getCacheForType:function(a){var l=ri(In),u=l.data.get(a);return u===void 0&&(u=a(),l.data.set(a,u)),u},cacheSignal:function(){return ri(In).controller.signal}},lD=typeof WeakMap=="function"?WeakMap:Map,Nt=0,nn=null,mt=null,_t=0,zt=0,sr=null,Wa=!1,vc=!1,Lp=!1,Js=0,vn=0,Ya=0,ll=0,Bp=0,ar=0,yc=0,ah=null,ji=null,Vp=!1,Vd=0,$2=0,Ud=1/0,zd=null,Xa=null,Vn=0,$a=null,xc=null,ea=0,Up=0,zp=null,K2=null,oh=0,jp=null;function or(){return(Nt&2)!==0&&_t!==0?_t&-_t:se.T!==null?Xp():k()}function Q2(){if(ar===0)if((_t&536870912)===0||Tt){var a=Ms;Ms<<=1,(Ms&3932160)===0&&(Ms=262144),ar=a}else ar=536870912;return a=ir.current,a!==null&&(a.flags|=32),ar}function Hi(a,l,u){(a===nn&&(zt===2||zt===9)||a.cancelPendingCommit!==null)&&(Ec(a,0),Ka(a,_t,ar,!1)),ks(a,u),((Nt&2)===0||a!==nn)&&(a===nn&&((Nt&2)===0&&(ll|=u),vn===4&&Ka(a,_t,ar,!1)),ms(a))}function Z2(a,l,u){if((Nt&6)!==0)throw Error(i(327));var d=!u&&(l&127)===0&&(l&a.expiredLanes)===0||Zi(a,l),_=d?hD(a,l):qp(a,l,!0),y=d;do{if(_===0){vc&&!d&&Ka(a,l,0,!1);break}else{if(u=a.current.alternate,y&&!cD(u)){_=qp(a,l,!1),y=!1;continue}if(_===2){if(y=l,a.errorRecoveryDisabledLanes&y)var b=0;else b=a.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){l=b;e:{var L=a;_=ah;var J=L.current.memoizedState.isDehydrated;if(J&&(Ec(L,b).flags|=256),b=qp(L,b,!1),b!==2){if(Lp&&!J){L.errorRecoveryDisabledLanes|=y,ll|=y,_=4;break e}y=ji,ji=_,y!==null&&(ji===null?ji=y:ji.push.apply(ji,y))}_=b}if(y=!1,_!==2)continue}}if(_===1){Ec(a,0),Ka(a,l,0,!0);break}e:{switch(d=a,y=_,y){case 0:case 1:throw Error(i(345));case 4:if((l&4194048)!==l)break;case 6:Ka(d,l,ar,!Wa);break e;case 2:ji=null;break;case 3:case 5:break;default:throw Error(i(329))}if((l&62914560)===l&&(_=Vd+300-ie(),10<_)){if(Ka(d,l,ar,!Wa),mr(d,0,!0)!==0)break e;ea=l,d.timeoutHandle=IE(J2.bind(null,d,u,ji,zd,Vp,l,ar,ll,yc,Wa,y,"Throttled",-0,0),_);break e}J2(d,u,ji,zd,Vp,l,ar,ll,yc,Wa,y,null,-0,0)}}break}while(!0);ms(a)}function J2(a,l,u,d,_,y,b,L,J,he,xe,we,ge,_e){if(a.timeoutHandle=-1,we=l.subtreeFlags,we&8192||(we&16785408)===16785408){we={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Br},G2(l,y,we);var Ye=(y&62914560)===y?Vd-ie():(y&4194048)===y?$2-ie():0;if(Ye=YD(we,Ye),Ye!==null){ea=y,a.cancelPendingCommit=Ye(oE.bind(null,a,l,y,u,d,_,b,L,J,xe,we,null,ge,_e)),Ka(a,y,b,!he);return}}oE(a,l,y,u,d,_,b,L,J)}function cD(a){for(var l=a;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var _=u[d],y=_.getSnapshot;_=_.value;try{if(!tr(y(),_))return!1}catch{return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ka(a,l,u,d){l&=~Bp,l&=~ll,a.suspendedLanes|=l,a.pingedLanes&=~l,d&&(a.warmLanes|=l),d=a.expirationTimes;for(var _=l;0<_;){var y=31-dn(_),b=1<<y;d[y]=-1,_&=~b}u!==0&&Ps(a,u,l)}function jd(){return(Nt&6)===0?(lh(0),!1):!0}function Hp(){if(mt!==null){if(zt===0)var a=mt.return;else a=mt,Hs=Jo=null,sp(a),hc=null,qu=0,a=mt;for(;a!==null;)D2(a.alternate,a),a=a.return;mt=null}}function Ec(a,l){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,ID(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),ea=0,Hp(),nn=a,mt=u=zs(a.current,null),_t=l,zt=0,sr=null,Wa=!1,vc=Zi(a,l),Lp=!1,yc=ar=Bp=ll=Ya=vn=0,ji=ah=null,Vp=!1,(l&8)!==0&&(l|=l&32);var d=a.entangledLanes;if(d!==0)for(a=a.entanglements,d&=l;0<d;){var _=31-dn(d),y=1<<_;l|=a[_],d&=~y}return Js=l,cd(),u}function eE(a,l){ct=null,se.H=Zu,l===uc||l===_d?(l=px(),zt=3):l===Yg?(l=px(),zt=4):zt=l===Ep?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,sr=l,mt===null&&(vn=1,Od(a,xr(l,a.current)))}function tE(){var a=ir.current;return a===null?!0:(_t&4194048)===_t?wr===null:(_t&62914560)===_t||(_t&536870912)!==0?a===wr:!1}function nE(){var a=se.H;return se.H=Zu,a===null?Zu:a}function iE(){var a=se.A;return se.A=oD,a}function Hd(){vn=4,Wa||(_t&4194048)!==_t&&ir.current!==null||(vc=!0),(Ya&134217727)===0&&(ll&134217727)===0||nn===null||Ka(nn,_t,ar,!1)}function qp(a,l,u){var d=Nt;Nt|=2;var _=nE(),y=iE();(nn!==a||_t!==l)&&(zd=null,Ec(a,l)),l=!1;var b=vn;e:do try{if(zt!==0&&mt!==null){var L=mt,J=sr;switch(zt){case 8:Hp(),b=6;break e;case 3:case 2:case 9:case 6:ir.current===null&&(l=!0);var he=zt;if(zt=0,sr=null,Tc(a,L,J,he),u&&vc){b=0;break e}break;default:he=zt,zt=0,sr=null,Tc(a,L,J,he)}}uD(),b=vn;break}catch(xe){eE(a,xe)}while(!0);return l&&a.shellSuspendCounter++,Hs=Jo=null,Nt=d,se.H=_,se.A=y,mt===null&&(nn=null,_t=0,cd()),b}function uD(){for(;mt!==null;)rE(mt)}function hD(a,l){var u=Nt;Nt|=2;var d=nE(),_=iE();nn!==a||_t!==l?(zd=null,Ud=ie()+500,Ec(a,l)):vc=Zi(a,l);e:do try{if(zt!==0&&mt!==null){l=mt;var y=sr;t:switch(zt){case 1:zt=0,sr=null,Tc(a,l,y,1);break;case 2:case 9:if(mx(y)){zt=0,sr=null,sE(l);break}l=function(){zt!==2&&zt!==9||nn!==a||(zt=7),ms(a)},y.then(l,l);break e;case 3:zt=7;break e;case 4:zt=5;break e;case 7:mx(y)?(zt=0,sr=null,sE(l)):(zt=0,sr=null,Tc(a,l,y,7));break;case 5:var b=null;switch(mt.tag){case 26:b=mt.memoizedState;case 5:case 27:var L=mt;if(b?qE(b):L.stateNode.complete){zt=0,sr=null;var J=L.sibling;if(J!==null)mt=J;else{var he=L.return;he!==null?(mt=he,qd(he)):mt=null}break t}}zt=0,sr=null,Tc(a,l,y,5);break;case 6:zt=0,sr=null,Tc(a,l,y,6);break;case 8:Hp(),vn=6;break e;default:throw Error(i(462))}}fD();break}catch(xe){eE(a,xe)}while(!0);return Hs=Jo=null,se.H=d,se.A=_,Nt=u,mt!==null?0:(nn=null,_t=0,cd(),vn)}function fD(){for(;mt!==null&&!ba();)rE(mt)}function rE(a){var l=R2(a.alternate,a,Js);a.memoizedProps=a.pendingProps,l===null?qd(a):mt=l}function sE(a){var l=a,u=l.alternate;switch(l.tag){case 15:case 0:l=T2(u,l,l.pendingProps,l.type,void 0,_t);break;case 11:l=T2(u,l,l.pendingProps,l.type.render,l.ref,_t);break;case 5:sp(l);default:D2(u,l),l=mt=ix(l,Js),l=R2(u,l,Js)}a.memoizedProps=a.pendingProps,l===null?qd(a):mt=l}function Tc(a,l,u,d){Hs=Jo=null,sp(l),hc=null,qu=0;var _=l.return;try{if(eD(a,_,l,u,_t)){vn=1,Od(a,xr(u,a.current)),mt=null;return}}catch(y){if(_!==null)throw mt=_,y;vn=1,Od(a,xr(u,a.current)),mt=null;return}l.flags&32768?(Tt||d===1?a=!0:vc||(_t&536870912)!==0?a=!1:(Wa=a=!0,(d===2||d===9||d===3||d===6)&&(d=ir.current,d!==null&&d.tag===13&&(d.flags|=16384))),aE(l,a)):qd(l)}function qd(a){var l=a;do{if((l.flags&32768)!==0){aE(l,Wa);return}a=l.return;var u=iD(l.alternate,l,Js);if(u!==null){mt=u;return}if(l=l.sibling,l!==null){mt=l;return}mt=l=a}while(l!==null);vn===0&&(vn=5)}function aE(a,l){do{var u=rD(a.alternate,a);if(u!==null){u.flags&=32767,mt=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(a=a.sibling,a!==null)){mt=a;return}mt=a=u}while(a!==null);vn=6,mt=null}function oE(a,l,u,d,_,y,b,L,J){a.cancelPendingCommit=null;do Gd();while(Vn!==0);if((Nt&6)!==0)throw Error(i(327));if(l!==null){if(l===a.current)throw Error(i(177));if(y=l.lanes|l.childLanes,y|=Ng,bu(a,u,y,b,L,J),a===nn&&(mt=nn=null,_t=0),xc=l,$a=a,ea=u,Up=y,zp=_,K2=d,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,pD(wt,function(){return fE(),null})):(a.callbackNode=null,a.callbackPriority=0),d=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||d){d=se.T,se.T=null,_=Ee.p,Ee.p=2,b=Nt,Nt|=4;try{sD(a,l,u)}finally{Nt=b,Ee.p=_,se.T=d}}Vn=1,lE(),cE(),uE()}}function lE(){if(Vn===1){Vn=0;var a=$a,l=xc,u=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||u){u=se.T,se.T=null;var d=Ee.p;Ee.p=2;var _=Nt;Nt|=4;try{j2(l,a);var y=n1,b=Xy(a.containerInfo),L=y.focusedElem,J=y.selectionRange;if(b!==L&&L&&L.ownerDocument&&Yy(L.ownerDocument.documentElement,L)){if(J!==null&&Cg(L)){var he=J.start,xe=J.end;if(xe===void 0&&(xe=he),"selectionStart"in L)L.selectionStart=he,L.selectionEnd=Math.min(xe,L.value.length);else{var we=L.ownerDocument||document,ge=we&&we.defaultView||window;if(ge.getSelection){var _e=ge.getSelection(),Ye=L.textContent.length,et=Math.min(J.start,Ye),Zt=J.end===void 0?et:Math.min(J.end,Ye);!_e.extend&&et>Zt&&(b=Zt,Zt=et,et=b);var re=Wy(L,et),ne=Wy(L,Zt);if(re&&ne&&(_e.rangeCount!==1||_e.anchorNode!==re.node||_e.anchorOffset!==re.offset||_e.focusNode!==ne.node||_e.focusOffset!==ne.offset)){var le=we.createRange();le.setStart(re.node,re.offset),_e.removeAllRanges(),et>Zt?(_e.addRange(le),_e.extend(ne.node,ne.offset)):(le.setEnd(ne.node,ne.offset),_e.addRange(le))}}}}for(we=[],_e=L;_e=_e.parentNode;)_e.nodeType===1&&we.push({element:_e,left:_e.scrollLeft,top:_e.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<we.length;L++){var Se=we[L];Se.element.scrollLeft=Se.left,Se.element.scrollTop=Se.top}}i0=!!t1,n1=t1=null}finally{Nt=_,Ee.p=d,se.T=u}}a.current=l,Vn=2}}function cE(){if(Vn===2){Vn=0;var a=$a,l=xc,u=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||u){u=se.T,se.T=null;var d=Ee.p;Ee.p=2;var _=Nt;Nt|=4;try{L2(a,l.alternate,l)}finally{Nt=_,Ee.p=d,se.T=u}}Vn=3}}function uE(){if(Vn===4||Vn===3){Vn=0,is();var a=$a,l=xc,u=ea,d=K2;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Vn=5:(Vn=0,xc=$a=null,hE(a,a.pendingLanes));var _=a.pendingLanes;if(_===0&&(Xa=null),Pr(u),l=l.stateNode,Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(ti,l,void 0,(l.current.flags&128)===128)}catch{}if(d!==null){l=se.T,_=Ee.p,Ee.p=2,se.T=null;try{for(var y=a.onRecoverableError,b=0;b<d.length;b++){var L=d[b];y(L.value,{componentStack:L.stack})}}finally{se.T=l,Ee.p=_}}(ea&3)!==0&&Gd(),ms(a),_=a.pendingLanes,(u&261930)!==0&&(_&42)!==0?a===jp?oh++:(oh=0,jp=a):oh=0,lh(0)}}function hE(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,ju(l)))}function Gd(){return lE(),cE(),uE(),fE()}function fE(){if(Vn!==5)return!1;var a=$a,l=Up;Up=0;var u=Pr(ea),d=se.T,_=Ee.p;try{Ee.p=32>u?32:u,se.T=null,u=zp,zp=null;var y=$a,b=ea;if(Vn=0,xc=$a=null,ea=0,(Nt&6)!==0)throw Error(i(331));var L=Nt;if(Nt|=4,Y2(y.current),q2(y,y.current,b,u),Nt=L,lh(0,!1),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(ti,y)}catch{}return!0}finally{Ee.p=_,se.T=d,hE(a,l)}}function dE(a,l,u){l=xr(u,l),l=xp(a.stateNode,l,2),a=ja(a,l,2),a!==null&&(ks(a,2),ms(a))}function jt(a,l,u){if(a.tag===3)dE(a,a,u);else for(;l!==null;){if(l.tag===3){dE(l,a,u);break}else if(l.tag===1){var d=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Xa===null||!Xa.has(d))){a=xr(u,a),u=m2(2),d=ja(l,u,2),d!==null&&(g2(u,d,l,a),ks(d,2),ms(d));break}}l=l.return}}function Gp(a,l,u){var d=a.pingCache;if(d===null){d=a.pingCache=new lD;var _=new Set;d.set(l,_)}else _=d.get(l),_===void 0&&(_=new Set,d.set(l,_));_.has(u)||(Lp=!0,_.add(u),a=dD.bind(null,a,l,u),l.then(a,a))}function dD(a,l,u){var d=a.pingCache;d!==null&&d.delete(l),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,nn===a&&(_t&u)===u&&(vn===4||vn===3&&(_t&62914560)===_t&&300>ie()-Vd?(Nt&2)===0&&Ec(a,0):Bp|=u,yc===_t&&(yc=0)),ms(a)}function mE(a,l){l===0&&(l=ql()),a=Ko(a,l),a!==null&&(ks(a,l),ms(a))}function mD(a){var l=a.memoizedState,u=0;l!==null&&(u=l.retryLane),mE(a,u)}function gD(a,l){var u=0;switch(a.tag){case 31:case 13:var d=a.stateNode,_=a.memoizedState;_!==null&&(u=_.retryLane);break;case 19:d=a.stateNode;break;case 22:d=a.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(l),mE(a,u)}function pD(a,l){return kt(a,l)}var Wd=null,Sc=null,Wp=!1,Yd=!1,Yp=!1,Qa=0;function ms(a){a!==Sc&&a.next===null&&(Sc===null?Wd=Sc=a:Sc=Sc.next=a),Yd=!0,Wp||(Wp=!0,vD())}function lh(a,l){if(!Yp&&Yd){Yp=!0;do for(var u=!1,d=Wd;d!==null;){if(a!==0){var _=d.pendingLanes;if(_===0)var y=0;else{var b=d.suspendedLanes,L=d.pingedLanes;y=(1<<31-dn(42|a)+1)-1,y&=_&~(b&~L),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(u=!0,vE(d,y))}else y=_t,y=mr(d,d===nn?y:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(y&3)===0||Zi(d,y)||(u=!0,vE(d,y));d=d.next}while(u);Yp=!1}}function _D(){gE()}function gE(){Yd=Wp=!1;var a=0;Qa!==0&&RD()&&(a=Qa);for(var l=ie(),u=null,d=Wd;d!==null;){var _=d.next,y=pE(d,l);y===0?(d.next=null,u===null?Wd=_:u.next=_,_===null&&(Sc=u)):(u=d,(a!==0||(y&3)!==0)&&(Yd=!0)),d=_}Vn!==0&&Vn!==5||lh(a),Qa!==0&&(Qa=0)}function pE(a,l){for(var u=a.suspendedLanes,d=a.pingedLanes,_=a.expirationTimes,y=a.pendingLanes&-62914561;0<y;){var b=31-dn(y),L=1<<b,J=_[b];J===-1?((L&u)===0||(L&d)!==0)&&(_[b]=wu(L,l)):J<=l&&(a.expiredLanes|=L),y&=~L}if(l=nn,u=_t,u=mr(a,a===l?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d=a.callbackNode,u===0||a===l&&(zt===2||zt===9)||a.cancelPendingCommit!==null)return d!==null&&d!==null&&Jn(d),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||Zi(a,u)){if(l=u&-u,l===a.callbackPriority)return l;switch(d!==null&&Jn(d),Pr(u)){case 2:case 8:u=Pt;break;case 32:u=wt;break;case 268435456:u=en;break;default:u=wt}return d=_E.bind(null,a),u=kt(u,d),a.callbackPriority=l,a.callbackNode=u,l}return d!==null&&d!==null&&Jn(d),a.callbackPriority=2,a.callbackNode=null,2}function _E(a,l){if(Vn!==0&&Vn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(Gd()&&a.callbackNode!==u)return null;var d=_t;return d=mr(a,a===nn?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d===0?null:(Z2(a,d,l),pE(a,ie()),a.callbackNode!=null&&a.callbackNode===u?_E.bind(null,a):null)}function vE(a,l){if(Gd())return null;Z2(a,l,!0)}function vD(){DD(function(){(Nt&6)!==0?kt($e,_D):gE()})}function Xp(){if(Qa===0){var a=lc;a===0&&(a=Qi,Qi<<=1,(Qi&261888)===0&&(Qi=256)),Qa=a}return Qa}function yE(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Yl(""+a)}function xE(a,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,a.id&&u.setAttribute("form",a.id),l.parentNode.insertBefore(u,l),a=new FormData(a),u.parentNode.removeChild(u),a}function yD(a,l,u,d,_){if(l==="submit"&&u&&u.stateNode===_){var y=yE((_[G]||null).action),b=d.submitter;b&&(l=(l=b[G]||null)?yE(l.formAction):b.getAttribute("formAction"),l!==null&&(y=l,b=null));var L=new os("action","action",null,d,_);a.push({event:L,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Qa!==0){var J=b?xE(_,b):new FormData(_);mp(u,{pending:!0,data:J,method:_.method,action:y},null,J)}}else typeof y=="function"&&(L.preventDefault(),J=b?xE(_,b):new FormData(_),mp(u,{pending:!0,data:J,method:_.method,action:y},y,J))},currentTarget:_}]})}}for(var $p=0;$p<Og.length;$p++){var Kp=Og[$p],xD=Kp.toLowerCase(),ED=Kp[0].toUpperCase()+Kp.slice(1);Hr(xD,"on"+ED)}Hr(Qy,"onAnimationEnd"),Hr(Zy,"onAnimationIteration"),Hr(Jy,"onAnimationStart"),Hr("dblclick","onDoubleClick"),Hr("focusin","onFocus"),Hr("focusout","onBlur"),Hr(LI,"onTransitionRun"),Hr(BI,"onTransitionStart"),Hr(VI,"onTransitionCancel"),Hr(ex,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),tn("onBeforeInput",["compositionend","keypress","textInput","paste"]),tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ch="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ch));function EE(a,l){l=(l&4)!==0;for(var u=0;u<a.length;u++){var d=a[u],_=d.event;d=d.listeners;e:{var y=void 0;if(l)for(var b=d.length-1;0<=b;b--){var L=d[b],J=L.instance,he=L.currentTarget;if(L=L.listener,J!==y&&_.isPropagationStopped())break e;y=L,_.currentTarget=he;try{y(_)}catch(xe){ld(xe)}_.currentTarget=null,y=J}else for(b=0;b<d.length;b++){if(L=d[b],J=L.instance,he=L.currentTarget,L=L.listener,J!==y&&_.isPropagationStopped())break e;y=L,_.currentTarget=he;try{y(_)}catch(xe){ld(xe)}_.currentTarget=null,y=J}}}}function gt(a,l){var u=l[ce];u===void 0&&(u=l[ce]=new Set);var d=a+"__bubble";u.has(d)||(TE(l,a,2,!1),u.add(d))}function Qp(a,l,u){var d=0;l&&(d|=4),TE(u,a,d,l)}var Xd="_reactListening"+Math.random().toString(36).slice(2);function Zp(a){if(!a[Xd]){a[Xd]=!0,Bt.forEach(function(u){u!=="selectionchange"&&(TD.has(u)||Qp(u,!1,a),Qp(u,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[Xd]||(l[Xd]=!0,Qp("selectionchange",!1,l))}}function TE(a,l,u,d){switch(QE(l)){case 2:var _=KD;break;case 8:_=QD;break;default:_=d1}u=_.bind(null,l,u,a),_=void 0,!jo||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(_=!0),d?_!==void 0?a.addEventListener(l,u,{capture:!0,passive:_}):a.addEventListener(l,u,!0):_!==void 0?a.addEventListener(l,u,{passive:_}):a.addEventListener(l,u,!1)}function Jp(a,l,u,d,_){var y=d;if((l&1)===0&&(l&2)===0&&d!==null)e:for(;;){if(d===null)return;var b=d.tag;if(b===3||b===4){var L=d.stateNode.containerInfo;if(L===_)break;if(b===4)for(b=d.return;b!==null;){var J=b.tag;if((J===3||J===4)&&b.stateNode.containerInfo===_)return;b=b.return}for(;L!==null;){if(b=Me(L),b===null)return;if(J=b.tag,J===5||J===6||J===26||J===27){d=y=b;continue e}L=L.parentNode}}d=d.return}Na(function(){var he=y,xe=pr(u),we=[];e:{var ge=tx.get(a);if(ge!==void 0){var _e=os,Ye=a;switch(a){case"keypress":if(qo(u)===0)break e;case"keydown":case"keyup":_e=sd;break;case"focusin":Ye="focus",_e=Wo;break;case"focusout":Ye="blur",_e=Wo;break;case"beforeblur":case"afterblur":_e=Wo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=ku;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=Kf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=w;break;case Qy:case Zy:case Jy:_e=Zf;break;case ex:_e=z;break;case"scroll":case"scrollend":_e=Mu;break;case"wheel":_e=pe;break;case"copy":case"cut":case"paste":_e=Jf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=Us;break;case"toggle":case"beforetoggle":_e=lt}var et=(l&4)!==0,Zt=!et&&(a==="scroll"||a==="scrollend"),re=et?ge!==null?ge+"Capture":null:ge;et=[];for(var ne=he,le;ne!==null;){var Se=ne;if(le=Se.stateNode,Se=Se.tag,Se!==5&&Se!==26&&Se!==27||le===null||re===null||(Se=Vr(ne,re),Se!=null&&et.push(uh(ne,Se,le))),Zt)break;ne=ne.return}0<et.length&&(ge=new _e(ge,Ye,null,u,xe),we.push({event:ge,listeners:et}))}}if((l&7)===0){e:{if(ge=a==="mouseover"||a==="pointerover",_e=a==="mouseout"||a==="pointerout",ge&&u!==Du&&(Ye=u.relatedTarget||u.fromElement)&&(Me(Ye)||Ye[X]))break e;if((_e||ge)&&(ge=xe.window===xe?xe:(ge=xe.ownerDocument)?ge.defaultView||ge.parentWindow:window,_e?(Ye=u.relatedTarget||u.toElement,_e=he,Ye=Ye?Me(Ye):null,Ye!==null&&(Zt=s(Ye),et=Ye.tag,Ye!==Zt||et!==5&&et!==27&&et!==6)&&(Ye=null)):(_e=null,Ye=he),_e!==Ye)){if(et=ku,Se="onMouseLeave",re="onMouseEnter",ne="mouse",(a==="pointerout"||a==="pointerover")&&(et=Us,Se="onPointerLeave",re="onPointerEnter",ne="pointer"),Zt=_e==null?ge:Ie(_e),le=Ye==null?ge:Ie(Ye),ge=new et(Se,ne+"leave",_e,u,xe),ge.target=Zt,ge.relatedTarget=le,Se=null,Me(xe)===he&&(et=new et(re,ne+"enter",Ye,u,xe),et.target=le,et.relatedTarget=Zt,Se=et),Zt=Se,_e&&Ye)t:{for(et=SD,re=_e,ne=Ye,le=0,Se=re;Se;Se=et(Se))le++;Se=0;for(var Qe=ne;Qe;Qe=et(Qe))Se++;for(;0<le-Se;)re=et(re),le--;for(;0<Se-le;)ne=et(ne),Se--;for(;le--;){if(re===ne||ne!==null&&re===ne.alternate){et=re;break t}re=et(re),ne=et(ne)}et=null}else et=null;_e!==null&&SE(we,ge,_e,et,!1),Ye!==null&&Zt!==null&&SE(we,Zt,Ye,et,!0)}}e:{if(ge=he?Ie(he):window,_e=ge.nodeName&&ge.nodeName.toLowerCase(),_e==="select"||_e==="input"&&ge.type==="file")var Rt=Uy;else if(By(ge))if(zy)Rt=kI;else{Rt=NI;var Ke=OI}else _e=ge.nodeName,!_e||_e.toLowerCase()!=="input"||ge.type!=="checkbox"&&ge.type!=="radio"?he&&Wl(he.elementType)&&(Rt=Uy):Rt=MI;if(Rt&&(Rt=Rt(a,he))){Vy(we,Rt,u,xe);break e}Ke&&Ke(a,ge,he),a==="focusout"&&he&&ge.type==="number"&&he.memoizedProps.value!=null&&Cu(ge,"number",ge.value)}switch(Ke=he?Ie(he):window,a){case"focusin":(By(Ke)||Ke.contentEditable==="true")&&(ec=Ke,Rg=he,Vu=null);break;case"focusout":Vu=Rg=ec=null;break;case"mousedown":Ig=!0;break;case"contextmenu":case"mouseup":case"dragend":Ig=!1,$y(we,u,xe);break;case"selectionchange":if(FI)break;case"keydown":case"keyup":$y(we,u,xe)}var ut;if(Ot)e:{switch(a){case"compositionstart":var vt="onCompositionStart";break e;case"compositionend":vt="onCompositionEnd";break e;case"compositionupdate":vt="onCompositionUpdate";break e}vt=void 0}else Jl?Yo(a,u)&&(vt="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(vt="onCompositionStart");vt&&(us&&u.locale!=="ko"&&(Jl||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&Jl&&(ut=Nu()):(as=xe,Ou="value"in as?as.value:as.textContent,Jl=!0)),Ke=$d(he,vt),0<Ke.length&&(vt=new cs(vt,a,null,u,xe),we.push({event:vt,listeners:Ke}),ut?vt.data=ut:(ut=Zl(u),ut!==null&&(vt.data=ut)))),(ut=vr?CI(a,u):RI(a,u))&&(vt=$d(he,"onBeforeInput"),0<vt.length&&(Ke=new cs("onBeforeInput","beforeinput",null,u,xe),we.push({event:Ke,listeners:vt}),Ke.data=ut)),yD(we,a,he,u,xe)}EE(we,l)})}function uh(a,l,u){return{instance:a,listener:l,currentTarget:u}}function $d(a,l){for(var u=l+"Capture",d=[];a!==null;){var _=a,y=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||y===null||(_=Vr(a,u),_!=null&&d.unshift(uh(a,_,y)),_=Vr(a,l),_!=null&&d.push(uh(a,_,y))),a.tag===3)return d;a=a.return}return[]}function SD(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function SE(a,l,u,d,_){for(var y=l._reactName,b=[];u!==null&&u!==d;){var L=u,J=L.alternate,he=L.stateNode;if(L=L.tag,J!==null&&J===d)break;L!==5&&L!==26&&L!==27||he===null||(J=he,_?(he=Vr(u,y),he!=null&&b.unshift(uh(u,he,J))):_||(he=Vr(u,y),he!=null&&b.push(uh(u,he,J)))),u=u.return}b.length!==0&&a.push({event:l,listeners:b})}var wD=/\r\n?/g,bD=/\u0000|\uFFFD/g;function wE(a){return(typeof a=="string"?a:""+a).replace(wD,`
`).replace(bD,"")}function bE(a,l){return l=wE(l),wE(a)===l}function Qt(a,l,u,d,_,y){switch(u){case"children":typeof d=="string"?l==="body"||l==="textarea"&&d===""||Bi(a,d):(typeof d=="number"||typeof d=="bigint")&&l!=="body"&&Bi(a,""+d);break;case"className":er(a,"class",d);break;case"tabIndex":er(a,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":er(a,u,d);break;case"style":Iu(a,d,y);break;case"data":if(l!=="object"){er(a,"data",d);break}case"src":case"href":if(d===""&&(l!=="a"||u!=="href")){a.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(u);break}d=Yl(""+d),a.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(u==="formAction"?(l!=="input"&&Qt(a,l,"name",_.name,_,null),Qt(a,l,"formEncType",_.formEncType,_,null),Qt(a,l,"formMethod",_.formMethod,_,null),Qt(a,l,"formTarget",_.formTarget,_,null)):(Qt(a,l,"encType",_.encType,_,null),Qt(a,l,"method",_.method,_,null),Qt(a,l,"target",_.target,_,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(u);break}d=Yl(""+d),a.setAttribute(u,d);break;case"onClick":d!=null&&(a.onclick=Br);break;case"onScroll":d!=null&&gt("scroll",a);break;case"onScrollEnd":d!=null&&gt("scrollend",a);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(u=d.__html,u!=null){if(_.children!=null)throw Error(i(60));a.innerHTML=u}}break;case"multiple":a.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":a.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){a.removeAttribute("xlink:href");break}u=Yl(""+d),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,""+d):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":d===!0?a.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,d):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?a.setAttribute(u,d):a.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?a.removeAttribute(u):a.setAttribute(u,d);break;case"popover":gt("beforetoggle",a),gt("toggle",a),vi(a,"popover",d);break;case"xlinkActuate":Rn(a,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Rn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Rn(a,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Rn(a,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Rn(a,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Rn(a,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Rn(a,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Rn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Rn(a,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":vi(a,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=$f.get(u)||u,vi(a,u,d))}}function e1(a,l,u,d,_,y){switch(u){case"style":Iu(a,d,y);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(u=d.__html,u!=null){if(_.children!=null)throw Error(i(60));a.innerHTML=u}}break;case"children":typeof d=="string"?Bi(a,d):(typeof d=="number"||typeof d=="bigint")&&Bi(a,""+d);break;case"onScroll":d!=null&&gt("scroll",a);break;case"onScrollEnd":d!=null&&gt("scrollend",a);break;case"onClick":d!=null&&(a.onclick=Br);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vt.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(_=u.endsWith("Capture"),l=u.slice(2,_?u.length-7:void 0),y=a[G]||null,y=y!=null?y[u]:null,typeof y=="function"&&a.removeEventListener(l,y,_),typeof d=="function")){typeof y!="function"&&y!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(l,d,_);break e}u in a?a[u]=d:d===!0?a.setAttribute(u,""):vi(a,u,d)}}}function ai(a,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":gt("error",a),gt("load",a);var d=!1,_=!1,y;for(y in u)if(u.hasOwnProperty(y)){var b=u[y];if(b!=null)switch(y){case"src":d=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Qt(a,l,y,b,u,null)}}_&&Qt(a,l,"srcSet",u.srcSet,u,null),d&&Qt(a,l,"src",u.src,u,null);return;case"input":gt("invalid",a);var L=y=b=_=null,J=null,he=null;for(d in u)if(u.hasOwnProperty(d)){var xe=u[d];if(xe!=null)switch(d){case"name":_=xe;break;case"type":b=xe;break;case"checked":J=xe;break;case"defaultChecked":he=xe;break;case"value":y=xe;break;case"defaultValue":L=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(i(137,l));break;default:Qt(a,l,d,xe,u,null)}}Wf(a,y,L,J,he,b,_,!1);return;case"select":gt("invalid",a),d=b=y=null;for(_ in u)if(u.hasOwnProperty(_)&&(L=u[_],L!=null))switch(_){case"value":y=L;break;case"defaultValue":b=L;break;case"multiple":d=L;default:Qt(a,l,_,L,u,null)}l=y,u=b,a.multiple=!!d,l!=null?Ra(a,!!d,l,!1):u!=null&&Ra(a,!!d,u,!0);return;case"textarea":gt("invalid",a),y=_=d=null;for(b in u)if(u.hasOwnProperty(b)&&(L=u[b],L!=null))switch(b){case"value":d=L;break;case"defaultValue":_=L;break;case"children":y=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(i(91));break;default:Qt(a,l,b,L,u,null)}Ia(a,d,_,y);return;case"option":for(J in u)if(u.hasOwnProperty(J)&&(d=u[J],d!=null))switch(J){case"selected":a.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Qt(a,l,J,d,u,null)}return;case"dialog":gt("beforetoggle",a),gt("toggle",a),gt("cancel",a),gt("close",a);break;case"iframe":case"object":gt("load",a);break;case"video":case"audio":for(d=0;d<ch.length;d++)gt(ch[d],a);break;case"image":gt("error",a),gt("load",a);break;case"details":gt("toggle",a);break;case"embed":case"source":case"link":gt("error",a),gt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(he in u)if(u.hasOwnProperty(he)&&(d=u[he],d!=null))switch(he){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Qt(a,l,he,d,u,null)}return;default:if(Wl(l)){for(xe in u)u.hasOwnProperty(xe)&&(d=u[xe],d!==void 0&&e1(a,l,xe,d,u,void 0));return}}for(L in u)u.hasOwnProperty(L)&&(d=u[L],d!=null&&Qt(a,l,L,d,u,null))}function AD(a,l,u,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,y=null,b=null,L=null,J=null,he=null,xe=null;for(_e in u){var we=u[_e];if(u.hasOwnProperty(_e)&&we!=null)switch(_e){case"checked":break;case"value":break;case"defaultValue":J=we;default:d.hasOwnProperty(_e)||Qt(a,l,_e,null,d,we)}}for(var ge in d){var _e=d[ge];if(we=u[ge],d.hasOwnProperty(ge)&&(_e!=null||we!=null))switch(ge){case"type":y=_e;break;case"name":_=_e;break;case"checked":he=_e;break;case"defaultChecked":xe=_e;break;case"value":b=_e;break;case"defaultValue":L=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(i(137,l));break;default:_e!==we&&Qt(a,l,ge,_e,d,we)}}Gl(a,b,L,J,he,xe,y,_);return;case"select":_e=b=L=ge=null;for(y in u)if(J=u[y],u.hasOwnProperty(y)&&J!=null)switch(y){case"value":break;case"multiple":_e=J;default:d.hasOwnProperty(y)||Qt(a,l,y,null,d,J)}for(_ in d)if(y=d[_],J=u[_],d.hasOwnProperty(_)&&(y!=null||J!=null))switch(_){case"value":ge=y;break;case"defaultValue":L=y;break;case"multiple":b=y;default:y!==J&&Qt(a,l,_,y,d,J)}l=L,u=b,d=_e,ge!=null?Ra(a,!!u,ge,!1):!!d!=!!u&&(l!=null?Ra(a,!!u,l,!0):Ra(a,!!u,u?[]:"",!1));return;case"textarea":_e=ge=null;for(L in u)if(_=u[L],u.hasOwnProperty(L)&&_!=null&&!d.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:Qt(a,l,L,null,d,_)}for(b in d)if(_=d[b],y=u[b],d.hasOwnProperty(b)&&(_!=null||y!=null))switch(b){case"value":ge=_;break;case"defaultValue":_e=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:_!==y&&Qt(a,l,b,_,d,y)}Yf(a,ge,_e);return;case"option":for(var Ye in u)if(ge=u[Ye],u.hasOwnProperty(Ye)&&ge!=null&&!d.hasOwnProperty(Ye))switch(Ye){case"selected":a.selected=!1;break;default:Qt(a,l,Ye,null,d,ge)}for(J in d)if(ge=d[J],_e=u[J],d.hasOwnProperty(J)&&ge!==_e&&(ge!=null||_e!=null))switch(J){case"selected":a.selected=ge&&typeof ge!="function"&&typeof ge!="symbol";break;default:Qt(a,l,J,ge,d,_e)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var et in u)ge=u[et],u.hasOwnProperty(et)&&ge!=null&&!d.hasOwnProperty(et)&&Qt(a,l,et,null,d,ge);for(he in d)if(ge=d[he],_e=u[he],d.hasOwnProperty(he)&&ge!==_e&&(ge!=null||_e!=null))switch(he){case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(i(137,l));break;default:Qt(a,l,he,ge,d,_e)}return;default:if(Wl(l)){for(var Zt in u)ge=u[Zt],u.hasOwnProperty(Zt)&&ge!==void 0&&!d.hasOwnProperty(Zt)&&e1(a,l,Zt,void 0,d,ge);for(xe in d)ge=d[xe],_e=u[xe],!d.hasOwnProperty(xe)||ge===_e||ge===void 0&&_e===void 0||e1(a,l,xe,ge,d,_e);return}}for(var re in u)ge=u[re],u.hasOwnProperty(re)&&ge!=null&&!d.hasOwnProperty(re)&&Qt(a,l,re,null,d,ge);for(we in d)ge=d[we],_e=u[we],!d.hasOwnProperty(we)||ge===_e||ge==null&&_e==null||Qt(a,l,we,ge,d,_e)}function AE(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function CD(){if(typeof performance.getEntriesByType=="function"){for(var a=0,l=0,u=performance.getEntriesByType("resource"),d=0;d<u.length;d++){var _=u[d],y=_.transferSize,b=_.initiatorType,L=_.duration;if(y&&L&&AE(b)){for(b=0,L=_.responseEnd,d+=1;d<u.length;d++){var J=u[d],he=J.startTime;if(he>L)break;var xe=J.transferSize,we=J.initiatorType;xe&&AE(we)&&(J=J.responseEnd,b+=xe*(J<L?1:(L-he)/(J-he)))}if(--d,l+=8*(y+b)/(_.duration/1e3),a++,10<a)break}}if(0<a)return l/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var t1=null,n1=null;function Kd(a){return a.nodeType===9?a:a.ownerDocument}function CE(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function RE(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function i1(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var r1=null;function RD(){var a=window.event;return a&&a.type==="popstate"?a===r1?!1:(r1=a,!0):(r1=null,!1)}var IE=typeof setTimeout=="function"?setTimeout:void 0,ID=typeof clearTimeout=="function"?clearTimeout:void 0,DE=typeof Promise=="function"?Promise:void 0,DD=typeof queueMicrotask=="function"?queueMicrotask:typeof DE<"u"?function(a){return DE.resolve(null).then(a).catch(OD)}:IE;function OD(a){setTimeout(function(){throw a})}function Za(a){return a==="head"}function OE(a,l){var u=l,d=0;do{var _=u.nextSibling;if(a.removeChild(u),_&&_.nodeType===8)if(u=_.data,u==="/$"||u==="/&"){if(d===0){a.removeChild(_),Cc(l);return}d--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")d++;else if(u==="html")hh(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,hh(u);for(var y=u.firstChild;y;){var b=y.nextSibling,L=y.nodeName;y[de]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&y.rel.toLowerCase()==="stylesheet"||u.removeChild(y),y=b}}else u==="body"&&hh(a.ownerDocument.body);u=_}while(u);Cc(l)}function NE(a,l){var u=a;a=0;do{var d=u.nextSibling;if(u.nodeType===1?l?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(l?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),d&&d.nodeType===8)if(u=d.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=d}while(u)}function s1(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":s1(u),De(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function ND(a,l,u,d){for(;a.nodeType===1;){var _=u;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!d&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(d){if(!a[de])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(y=a.getAttribute("rel"),y==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(y!==_.rel||a.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||a.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||a.getAttribute("title")!==(_.title==null?null:_.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(y=a.getAttribute("src"),(y!==(_.src==null?null:_.src)||a.getAttribute("type")!==(_.type==null?null:_.type)||a.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&y&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var y=_.name==null?null:""+_.name;if(_.type==="hidden"&&a.getAttribute("name")===y)return a}else return a;if(a=br(a.nextSibling),a===null)break}return null}function MD(a,l,u){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=br(a.nextSibling),a===null))return null;return a}function ME(a,l){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=br(a.nextSibling),a===null))return null;return a}function a1(a){return a.data==="$?"||a.data==="$~"}function o1(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function kD(a,l){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=l;else if(a.data!=="$?"||u.readyState!=="loading")l();else{var d=function(){l(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),a._reactRetry=d}}function br(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return a}var l1=null;function kE(a){a=a.nextSibling;for(var l=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(l===0)return br(a.nextSibling);l--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||l++}a=a.nextSibling}return null}function PE(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(l===0)return a;l--}else u!=="/$"&&u!=="/&"||l++}a=a.previousSibling}return null}function FE(a,l,u){switch(l=Kd(u),a){case"html":if(a=l.documentElement,!a)throw Error(i(452));return a;case"head":if(a=l.head,!a)throw Error(i(453));return a;case"body":if(a=l.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function hh(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);De(a)}var Ar=new Map,LE=new Set;function Qd(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ta=Ee.d;Ee.d={f:PD,r:FD,D:LD,C:BD,L:VD,m:UD,X:jD,S:zD,M:HD};function PD(){var a=ta.f(),l=jd();return a||l}function FD(a){var l=ze(a);l!==null&&l.tag===5&&l.type==="form"?e2(l):ta.r(a)}var wc=typeof document>"u"?null:document;function BE(a,l,u){var d=wc;if(d&&typeof l=="string"&&l){var _=Li(l);_='link[rel="'+a+'"][href="'+_+'"]',typeof u=="string"&&(_+='[crossorigin="'+u+'"]'),LE.has(_)||(LE.add(_),a={rel:a,crossOrigin:u,href:l},d.querySelector(_)===null&&(l=d.createElement("link"),ai(l,"link",a),Xe(l),d.head.appendChild(l)))}}function LD(a){ta.D(a),BE("dns-prefetch",a,null)}function BD(a,l){ta.C(a,l),BE("preconnect",a,l)}function VD(a,l,u){ta.L(a,l,u);var d=wc;if(d&&a&&l){var _='link[rel="preload"][as="'+Li(l)+'"]';l==="image"&&u&&u.imageSrcSet?(_+='[imagesrcset="'+Li(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(_+='[imagesizes="'+Li(u.imageSizes)+'"]')):_+='[href="'+Li(a)+'"]';var y=_;switch(l){case"style":y=bc(a);break;case"script":y=Ac(a)}Ar.has(y)||(a=p({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:a,as:l},u),Ar.set(y,a),d.querySelector(_)!==null||l==="style"&&d.querySelector(fh(y))||l==="script"&&d.querySelector(dh(y))||(l=d.createElement("link"),ai(l,"link",a),Xe(l),d.head.appendChild(l)))}}function UD(a,l){ta.m(a,l);var u=wc;if(u&&a){var d=l&&typeof l.as=="string"?l.as:"script",_='link[rel="modulepreload"][as="'+Li(d)+'"][href="'+Li(a)+'"]',y=_;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ac(a)}if(!Ar.has(y)&&(a=p({rel:"modulepreload",href:a},l),Ar.set(y,a),u.querySelector(_)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(dh(y)))return}d=u.createElement("link"),ai(d,"link",a),Xe(d),u.head.appendChild(d)}}}function zD(a,l,u){ta.S(a,l,u);var d=wc;if(d&&a){var _=Ve(d).hoistableStyles,y=bc(a);l=l||"default";var b=_.get(y);if(!b){var L={loading:0,preload:null};if(b=d.querySelector(fh(y)))L.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":l},u),(u=Ar.get(y))&&c1(a,u);var J=b=d.createElement("link");Xe(J),ai(J,"link",a),J._p=new Promise(function(he,xe){J.onload=he,J.onerror=xe}),J.addEventListener("load",function(){L.loading|=1}),J.addEventListener("error",function(){L.loading|=2}),L.loading|=4,Zd(b,l,d)}b={type:"stylesheet",instance:b,count:1,state:L},_.set(y,b)}}}function jD(a,l){ta.X(a,l);var u=wc;if(u&&a){var d=Ve(u).hoistableScripts,_=Ac(a),y=d.get(_);y||(y=u.querySelector(dh(_)),y||(a=p({src:a,async:!0},l),(l=Ar.get(_))&&u1(a,l),y=u.createElement("script"),Xe(y),ai(y,"link",a),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(_,y))}}function HD(a,l){ta.M(a,l);var u=wc;if(u&&a){var d=Ve(u).hoistableScripts,_=Ac(a),y=d.get(_);y||(y=u.querySelector(dh(_)),y||(a=p({src:a,async:!0,type:"module"},l),(l=Ar.get(_))&&u1(a,l),y=u.createElement("script"),Xe(y),ai(y,"link",a),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(_,y))}}function VE(a,l,u,d){var _=(_=fe.current)?Qd(_):null;if(!_)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=bc(u.href),u=Ve(_).hoistableStyles,d=u.get(l),d||(d={type:"style",instance:null,count:0,state:null},u.set(l,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=bc(u.href);var y=Ve(_).hoistableStyles,b=y.get(a);if(b||(_=_.ownerDocument||_,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(a,b),(y=_.querySelector(fh(a)))&&!y._p&&(b.instance=y,b.state.loading=5),Ar.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Ar.set(a,u),y||qD(_,a,u,b.state))),l&&d===null)throw Error(i(528,""));return b}if(l&&d!==null)throw Error(i(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Ac(u),u=Ve(_).hoistableScripts,d=u.get(l),d||(d={type:"script",instance:null,count:0,state:null},u.set(l,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function bc(a){return'href="'+Li(a)+'"'}function fh(a){return'link[rel="stylesheet"]['+a+"]"}function UE(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function qD(a,l,u,d){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?d.loading=1:(l=a.createElement("link"),d.preload=l,l.addEventListener("load",function(){return d.loading|=1}),l.addEventListener("error",function(){return d.loading|=2}),ai(l,"link",u),Xe(l),a.head.appendChild(l))}function Ac(a){return'[src="'+Li(a)+'"]'}function dh(a){return"script[async]"+a}function zE(a,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var d=a.querySelector('style[data-href~="'+Li(u.href)+'"]');if(d)return l.instance=d,Xe(d),d;var _=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(a.ownerDocument||a).createElement("style"),Xe(d),ai(d,"style",_),Zd(d,u.precedence,a),l.instance=d;case"stylesheet":_=bc(u.href);var y=a.querySelector(fh(_));if(y)return l.state.loading|=4,l.instance=y,Xe(y),y;d=UE(u),(_=Ar.get(_))&&c1(d,_),y=(a.ownerDocument||a).createElement("link"),Xe(y);var b=y;return b._p=new Promise(function(L,J){b.onload=L,b.onerror=J}),ai(y,"link",d),l.state.loading|=4,Zd(y,u.precedence,a),l.instance=y;case"script":return y=Ac(u.src),(_=a.querySelector(dh(y)))?(l.instance=_,Xe(_),_):(d=u,(_=Ar.get(y))&&(d=p({},u),u1(d,_)),a=a.ownerDocument||a,_=a.createElement("script"),Xe(_),ai(_,"link",d),a.head.appendChild(_),l.instance=_);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(d=l.instance,l.state.loading|=4,Zd(d,u.precedence,a));return l.instance}function Zd(a,l,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=d.length?d[d.length-1]:null,y=_,b=0;b<d.length;b++){var L=d[b];if(L.dataset.precedence===l)y=L;else if(y!==_)break}y?y.parentNode.insertBefore(a,y.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(a,l.firstChild))}function c1(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function u1(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var Jd=null;function jE(a,l,u){if(Jd===null){var d=new Map,_=Jd=new Map;_.set(u,d)}else _=Jd,d=_.get(u),d||(d=new Map,_.set(u,d));if(d.has(a))return d;for(d.set(a,null),u=u.getElementsByTagName(a),_=0;_<u.length;_++){var y=u[_];if(!(y[de]||y[j]||a==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var b=y.getAttribute(l)||"";b=a+b;var L=d.get(b);L?L.push(y):d.set(b,[y])}}return d}function HE(a,l,u){a=a.ownerDocument||a,a.head.insertBefore(u,l==="title"?a.querySelector("head > title"):null)}function GD(a,l,u){if(u===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function qE(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function WD(a,l,u,d){if(u.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var _=bc(d.href),y=l.querySelector(fh(_));if(y){l=y._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(a.count++,a=e0.bind(a),l.then(a,a)),u.state.loading|=4,u.instance=y,Xe(y);return}y=l.ownerDocument||l,d=UE(d),(_=Ar.get(_))&&c1(d,_),y=y.createElement("link"),Xe(y);var b=y;b._p=new Promise(function(L,J){b.onload=L,b.onerror=J}),ai(y,"link",d),u.instance=y}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,l),(l=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=e0.bind(a),l.addEventListener("load",u),l.addEventListener("error",u))}}var h1=0;function YD(a,l){return a.stylesheets&&a.count===0&&n0(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var d=setTimeout(function(){if(a.stylesheets&&n0(a,a.stylesheets),a.unsuspend){var y=a.unsuspend;a.unsuspend=null,y()}},6e4+l);0<a.imgBytes&&h1===0&&(h1=62500*CD());var _=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&n0(a,a.stylesheets),a.unsuspend)){var y=a.unsuspend;a.unsuspend=null,y()}},(a.imgBytes>h1?50:800)+l);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(d),clearTimeout(_)}}:null}function e0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)n0(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var t0=null;function n0(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,t0=new Map,l.forEach(XD,a),t0=null,e0.call(a))}function XD(a,l){if(!(l.state.loading&4)){var u=t0.get(a);if(u)var d=u.get(null);else{u=new Map,t0.set(a,u);for(var _=a.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<_.length;y++){var b=_[y];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(u.set(b.dataset.precedence,b),d=b)}d&&u.set(null,d)}_=l.instance,b=_.getAttribute("data-precedence"),y=u.get(b)||d,y===d&&u.set(null,_),u.set(b,_),this.count++,d=e0.bind(this),_.addEventListener("load",d),_.addEventListener("error",d),y?y.parentNode.insertBefore(_,y.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(_,a.firstChild)),l.state.loading|=4}}var mh={$$typeof:N,Provider:null,Consumer:null,_currentValue:Ue,_currentValue2:Ue,_threadCount:0};function $D(a,l,u,d,_,y,b,L,J){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gr(0),this.hiddenUpdates=gr(null),this.identifierPrefix=d,this.onUncaughtError=_,this.onCaughtError=y,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function GE(a,l,u,d,_,y,b,L,J,he,xe,we){return a=new $D(a,l,u,b,J,he,xe,we,L),l=1,y===!0&&(l|=24),y=nr(3,null,null,l),a.current=y,y.stateNode=a,l=qg(),l.refCount++,a.pooledCache=l,l.refCount++,y.memoizedState={element:d,isDehydrated:u,cache:l},Xg(y),a}function WE(a){return a?(a=ic,a):ic}function YE(a,l,u,d,_,y){_=WE(_),d.context===null?d.context=_:d.pendingContext=_,d=za(l),d.payload={element:u},y=y===void 0?null:y,y!==null&&(d.callback=y),u=ja(a,d,l),u!==null&&(Hi(u,a,l),Wu(u,a,l))}function XE(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<l?u:l}}function f1(a,l){XE(a,l),(a=a.alternate)&&XE(a,l)}function $E(a){if(a.tag===13||a.tag===31){var l=Ko(a,67108864);l!==null&&Hi(l,a,67108864),f1(a,67108864)}}function KE(a){if(a.tag===13||a.tag===31){var l=or();l=Ls(l);var u=Ko(a,l);u!==null&&Hi(u,a,l),f1(a,l)}}var i0=!0;function KD(a,l,u,d){var _=se.T;se.T=null;var y=Ee.p;try{Ee.p=2,d1(a,l,u,d)}finally{Ee.p=y,se.T=_}}function QD(a,l,u,d){var _=se.T;se.T=null;var y=Ee.p;try{Ee.p=8,d1(a,l,u,d)}finally{Ee.p=y,se.T=_}}function d1(a,l,u,d){if(i0){var _=m1(d);if(_===null)Jp(a,l,d,r0,u),ZE(a,d);else if(JD(_,a,l,u,d))d.stopPropagation();else if(ZE(a,d),l&4&&-1<ZD.indexOf(a)){for(;_!==null;){var y=ze(_);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var b=Di(y.pendingLanes);if(b!==0){var L=y;for(L.pendingLanes|=2,L.entangledLanes|=2;b;){var J=1<<31-dn(b);L.entanglements[1]|=J,b&=~J}ms(y),(Nt&6)===0&&(Ud=ie()+500,lh(0))}}break;case 31:case 13:L=Ko(y,2),L!==null&&Hi(L,y,2),jd(),f1(y,2)}if(y=m1(d),y===null&&Jp(a,l,d,r0,u),y===_)break;_=y}_!==null&&d.stopPropagation()}else Jp(a,l,d,null,u)}}function m1(a){return a=pr(a),g1(a)}var r0=null;function g1(a){if(r0=null,a=Me(a),a!==null){var l=s(a);if(l===null)a=null;else{var u=l.tag;if(u===13){if(a=o(l),a!==null)return a;a=null}else if(u===31){if(a=c(l),a!==null)return a;a=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return r0=a,null}function QE(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ce()){case $e:return 2;case Pt:return 8;case wt:case pi:return 32;case en:return 268435456;default:return 32}default:return 32}}var p1=!1,Ja=null,eo=null,to=null,gh=new Map,ph=new Map,no=[],ZD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ZE(a,l){switch(a){case"focusin":case"focusout":Ja=null;break;case"dragenter":case"dragleave":eo=null;break;case"mouseover":case"mouseout":to=null;break;case"pointerover":case"pointerout":gh.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":ph.delete(l.pointerId)}}function _h(a,l,u,d,_,y){return a===null||a.nativeEvent!==y?(a={blockedOn:l,domEventName:u,eventSystemFlags:d,nativeEvent:y,targetContainers:[_]},l!==null&&(l=ze(l),l!==null&&$E(l)),a):(a.eventSystemFlags|=d,l=a.targetContainers,_!==null&&l.indexOf(_)===-1&&l.push(_),a)}function JD(a,l,u,d,_){switch(l){case"focusin":return Ja=_h(Ja,a,l,u,d,_),!0;case"dragenter":return eo=_h(eo,a,l,u,d,_),!0;case"mouseover":return to=_h(to,a,l,u,d,_),!0;case"pointerover":var y=_.pointerId;return gh.set(y,_h(gh.get(y)||null,a,l,u,d,_)),!0;case"gotpointercapture":return y=_.pointerId,ph.set(y,_h(ph.get(y)||null,a,l,u,d,_)),!0}return!1}function JE(a){var l=Me(a.target);if(l!==null){var u=s(l);if(u!==null){if(l=u.tag,l===13){if(l=o(u),l!==null){a.blockedOn=l,W(a.priority,function(){KE(u)});return}}else if(l===31){if(l=c(u),l!==null){a.blockedOn=l,W(a.priority,function(){KE(u)});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function s0(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var u=m1(a.nativeEvent);if(u===null){u=a.nativeEvent;var d=new u.constructor(u.type,u);Du=d,u.target.dispatchEvent(d),Du=null}else return l=ze(u),l!==null&&$E(l),a.blockedOn=u,!1;l.shift()}return!0}function eT(a,l,u){s0(a)&&u.delete(l)}function e6(){p1=!1,Ja!==null&&s0(Ja)&&(Ja=null),eo!==null&&s0(eo)&&(eo=null),to!==null&&s0(to)&&(to=null),gh.forEach(eT),ph.forEach(eT)}function a0(a,l){a.blockedOn===l&&(a.blockedOn=null,p1||(p1=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,e6)))}var o0=null;function tT(a){o0!==a&&(o0=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){o0===a&&(o0=null);for(var l=0;l<a.length;l+=3){var u=a[l],d=a[l+1],_=a[l+2];if(typeof d!="function"){if(g1(d||u)===null)continue;break}var y=ze(u);y!==null&&(a.splice(l,3),l-=3,mp(y,{pending:!0,data:_,method:u.method,action:d},d,_))}}))}function Cc(a){function l(J){return a0(J,a)}Ja!==null&&a0(Ja,a),eo!==null&&a0(eo,a),to!==null&&a0(to,a),gh.forEach(l),ph.forEach(l);for(var u=0;u<no.length;u++){var d=no[u];d.blockedOn===a&&(d.blockedOn=null)}for(;0<no.length&&(u=no[0],u.blockedOn===null);)JE(u),u.blockedOn===null&&no.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var _=u[d],y=u[d+1],b=_[G]||null;if(typeof y=="function")b||tT(u);else if(b){var L=null;if(y&&y.hasAttribute("formAction")){if(_=y,b=y[G]||null)L=b.formAction;else if(g1(_)!==null)continue}else L=b.action;typeof L=="function"?u[d+1]=L:(u.splice(d,3),d-=3),tT(u)}}}function nT(){function a(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(b){return _=b})},focusReset:"manual",scroll:"manual"})}function l(){_!==null&&(_(),_=null),d||setTimeout(u,20)}function u(){if(!d&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,_=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(u,100),function(){d=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),_!==null&&(_(),_=null)}}}function _1(a){this._internalRoot=a}l0.prototype.render=_1.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(i(409));var u=l.current,d=or();YE(u,d,a,l,null,null)},l0.prototype.unmount=_1.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;YE(a.current,2,null,a,null,null),jd(),l[X]=null}};function l0(a){this._internalRoot=a}l0.prototype.unstable_scheduleHydration=function(a){if(a){var l=k();a={blockedOn:null,target:a,priority:l};for(var u=0;u<no.length&&l!==0&&l<no[u].priority;u++);no.splice(u,0,a),u===0&&JE(a)}};var iT=e.version;if(iT!=="19.2.0")throw Error(i(527,iT,"19.2.0"));Ee.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=f(l),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var t6={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:se,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var c0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!c0.isDisabled&&c0.supportsFiber)try{ti=c0.inject(t6),Cn=c0}catch{}}return yh.createRoot=function(a,l){if(!r(a))throw Error(i(299));var u=!1,d="",_=u2,y=h2,b=f2;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(y=l.onCaughtError),l.onRecoverableError!==void 0&&(b=l.onRecoverableError)),l=GE(a,1,!1,null,null,u,d,null,_,y,b,nT),a[X]=l.current,Zp(a),new _1(l)},yh.hydrateRoot=function(a,l,u){if(!r(a))throw Error(i(299));var d=!1,_="",y=u2,b=h2,L=f2,J=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onUncaughtError!==void 0&&(y=u.onUncaughtError),u.onCaughtError!==void 0&&(b=u.onCaughtError),u.onRecoverableError!==void 0&&(L=u.onRecoverableError),u.formState!==void 0&&(J=u.formState)),l=GE(a,1,!0,l,u??null,d,_,J,y,b,L,nT),l.context=WE(null),u=l.current,d=or(),d=Ls(d),_=za(d),_.callback=null,ja(u,_,d),u=d,l.current.lanes=u,ks(l,u),ms(l),a[X]=l.current,Zp(a),new l0(l)},yh.version="19.2.0",yh}var dT;function f6(){if(dT)return x1.exports;dT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),x1.exports=h6(),x1.exports}var d6=f6();/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var mT="popstate";function m6(n={}){function e(r,s){let{pathname:o="/",search:c="",hash:h=""}=Nl(r.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),u_("",{pathname:o,search:c,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){let o=r.document.querySelector("base"),c="";if(o&&o.getAttribute("href")){let h=r.location.href,f=h.indexOf("#");c=f===-1?h:h.slice(0,f)}return c+"#"+(typeof s=="string"?s:Qh(s))}function i(r,s){ts(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return p6(e,t,i,n)}function mn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ts(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function g6(){return Math.random().toString(36).substring(2,10)}function gT(n,e){return{usr:n.state,key:n.key,idx:e}}function u_(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Nl(e):e,state:t,key:e&&e.key||i||g6()}}function Qh({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Nl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function p6(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,c="POP",h=null,f=m();f==null&&(f=0,o.replaceState({...o.state,idx:f},""));function m(){return(o.state||{idx:null}).idx}function p(){c="POP";let S=m(),C=S==null?null:S-f;f=S,h&&h({action:c,location:E.location,delta:C})}function v(S,C){c="PUSH";let O=u_(E.location,S,C);t&&t(O,S),f=m()+1;let N=gT(O,f),H=E.createHref(O);try{o.pushState(N,"",H)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;r.location.assign(H)}s&&h&&h({action:c,location:E.location,delta:1})}function x(S,C){c="REPLACE";let O=u_(E.location,S,C);t&&t(O,S),f=m();let N=gT(O,f),H=E.createHref(O);o.replaceState(N,"",H),s&&h&&h({action:c,location:E.location,delta:0})}function T(S){return _6(S)}let E={get action(){return c},get location(){return n(r,o)},listen(S){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(mT,p),h=S,()=>{r.removeEventListener(mT,p),h=null}},createHref(S){return e(r,S)},createURL:T,encodeLocation(S){let C=T(S);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:x,go(S){return o.go(S)}};return E}function _6(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),mn(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Qh(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function gA(n,e,t="/"){return v6(n,e,t,!1)}function v6(n,e,t,i){let r=typeof e=="string"?Nl(e):e,s=da(r.pathname||"/",t);if(s==null)return null;let o=pA(n);y6(o);let c=null;for(let h=0;c==null&&h<o.length;++h){let f=D6(s);c=R6(o[h],f,i)}return c}function pA(n,e=[],t=[],i="",r=!1){let s=(o,c,h=r,f)=>{let m={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(i)&&h)return;mn(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length)}let p=ca([i,m.relativePath]),v=t.concat(m);o.children&&o.children.length>0&&(mn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),pA(o.children,e,v,p,h)),!(o.path==null&&!o.index)&&e.push({path:p,score:A6(p,o.index),routesMeta:v})};return n.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))s(o,c);else for(let h of _A(o.path))s(o,c,!0,h)}),e}function _A(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=_A(i.join("/")),c=[];return c.push(...o.map(h=>h===""?s:[s,h].join("/"))),r&&c.push(...o),c.map(h=>n.startsWith("/")&&h===""?"/":h)}function y6(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:C6(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var x6=/^:[\w-]+$/,E6=3,T6=2,S6=1,w6=10,b6=-2,pT=n=>n==="*";function A6(n,e){let t=n.split("/"),i=t.length;return t.some(pT)&&(i+=b6),e&&(i+=T6),t.filter(r=>!pT(r)).reduce((r,s)=>r+(x6.test(s)?E6:s===""?S6:w6),i)}function C6(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function R6(n,e,t=!1){let{routesMeta:i}=n,r={},s="/",o=[];for(let c=0;c<i.length;++c){let h=i[c],f=c===i.length-1,m=s==="/"?e:e.slice(s.length)||"/",p=tm({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},m),v=h.route;if(!p&&f&&t&&!i[i.length-1].route.index&&(p=tm({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!p)return null;Object.assign(r,p.params),o.push({params:r,pathname:ca([s,p.pathname]),pathnameBase:k6(ca([s,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(s=ca([s,p.pathnameBase]))}return o}function tm(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=I6(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:i.reduce((f,{paramName:m,isOptional:p},v)=>{if(m==="*"){let T=c[v]||"";o=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const x=c[v];return p&&!x?f[m]=void 0:f[m]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:o,pattern:n}}function I6(n,e=!1,t=!0){ts(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,h)=>(i.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function D6(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ts(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function da(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function O6(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Nl(n):n;return{pathname:t?t.startsWith("/")?t:N6(t,e):e,search:P6(i),hash:F6(r)}}function N6(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function w1(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function M6(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function vA(n){let e=M6(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function yA(n,e,t,i=!1){let r;typeof n=="string"?r=Nl(n):(r={...n},mn(!r.pathname||!r.pathname.includes("?"),w1("?","pathname","search",r)),mn(!r.pathname||!r.pathname.includes("#"),w1("#","pathname","hash",r)),mn(!r.search||!r.search.includes("#"),w1("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,c;if(o==null)c=t;else{let p=e.length-1;if(!i&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),p-=1;r.pathname=v.join("/")}c=p>=0?e[p]:"/"}let h=O6(r,c),f=o&&o!=="/"&&o.endsWith("/"),m=(s||o===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(f||m)&&(h.pathname+="/"),h}var ca=n=>n.join("/").replace(/\/\/+/g,"/"),k6=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),P6=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,F6=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function L6(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var xA=["POST","PUT","PATCH","DELETE"];new Set(xA);var B6=["GET",...xA];new Set(B6);var uu=oe.createContext(null);uu.displayName="DataRouter";var Hm=oe.createContext(null);Hm.displayName="DataRouterState";oe.createContext(!1);var EA=oe.createContext({isTransitioning:!1});EA.displayName="ViewTransition";var V6=oe.createContext(new Map);V6.displayName="Fetchers";var U6=oe.createContext(null);U6.displayName="Await";var Os=oe.createContext(null);Os.displayName="Navigation";var wf=oe.createContext(null);wf.displayName="Location";var Ea=oe.createContext({outlet:null,matches:[],isDataRoute:!1});Ea.displayName="Route";var J_=oe.createContext(null);J_.displayName="RouteError";function z6(n,{relative:e}={}){mn(bf(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=oe.useContext(Os),{hash:r,pathname:s,search:o}=Af(n,{relative:e}),c=s;return t!=="/"&&(c=s==="/"?t:ca([t,s])),i.createHref({pathname:c,search:o,hash:r})}function bf(){return oe.useContext(wf)!=null}function Ml(){return mn(bf(),"useLocation() may be used only in the context of a <Router> component."),oe.useContext(wf).location}var TA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function SA(n){oe.useContext(Os).static||oe.useLayoutEffect(n)}function j6(){let{isDataRoute:n}=oe.useContext(Ea);return n?tO():H6()}function H6(){mn(bf(),"useNavigate() may be used only in the context of a <Router> component.");let n=oe.useContext(uu),{basename:e,navigator:t}=oe.useContext(Os),{matches:i}=oe.useContext(Ea),{pathname:r}=Ml(),s=JSON.stringify(vA(i)),o=oe.useRef(!1);return SA(()=>{o.current=!0}),oe.useCallback((h,f={})=>{if(ts(o.current,TA),!o.current)return;if(typeof h=="number"){t.go(h);return}let m=yA(h,JSON.parse(s),r,f.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:ca([e,m.pathname])),(f.replace?t.replace:t.push)(m,f.state,f)},[e,t,s,r,n])}oe.createContext(null);function Af(n,{relative:e}={}){let{matches:t}=oe.useContext(Ea),{pathname:i}=Ml(),r=JSON.stringify(vA(t));return oe.useMemo(()=>yA(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function q6(n,e){return wA(n,e)}function wA(n,e,t,i,r){mn(bf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=oe.useContext(Os),{matches:o}=oe.useContext(Ea),c=o[o.length-1],h=c?c.params:{},f=c?c.pathname:"/",m=c?c.pathnameBase:"/",p=c&&c.route;{let O=p&&p.path||"";bA(f,!p||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let v=Ml(),x;if(e){let O=typeof e=="string"?Nl(e):e;mn(m==="/"||O.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${O.pathname}" was given in the \`location\` prop.`),x=O}else x=v;let T=x.pathname||"/",E=T;if(m!=="/"){let O=m.replace(/^\//,"").split("/");E="/"+T.replace(/^\//,"").split("/").slice(O.length).join("/")}let S=gA(n,{pathname:E});ts(p||S!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),ts(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=$6(S&&S.map(O=>Object.assign({},O,{params:Object.assign({},h,O.params),pathname:ca([m,s.encodeLocation?s.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?m:ca([m,s.encodeLocation?s.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),o,t,i,r);return e&&C?oe.createElement(wf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},C):C}function G6(){let n=eO(),e=L6(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=oe.createElement(oe.Fragment,null,oe.createElement("p",null," Hey developer "),oe.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",oe.createElement("code",{style:s},"ErrorBoundary")," or"," ",oe.createElement("code",{style:s},"errorElement")," prop on your route.")),oe.createElement(oe.Fragment,null,oe.createElement("h2",null,"Unexpected Application Error!"),oe.createElement("h3",{style:{fontStyle:"italic"}},e),t?oe.createElement("pre",{style:r},t):null,o)}var W6=oe.createElement(G6,null),Y6=class extends oe.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?oe.createElement(Ea.Provider,{value:this.props.routeContext},oe.createElement(J_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function X6({routeContext:n,match:e,children:t}){let i=oe.useContext(uu);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),oe.createElement(Ea.Provider,{value:n},t)}function $6(n,e=[],t=null,i=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,o=t?.errors;if(o!=null){let f=s.findIndex(m=>m.route.id&&o?.[m.route.id]!==void 0);mn(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let c=!1,h=-1;if(t)for(let f=0;f<s.length;f++){let m=s[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=f),m.route.id){let{loaderData:p,errors:v}=t,x=m.route.loader&&!p.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||x){c=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((f,m,p)=>{let v,x=!1,T=null,E=null;t&&(v=o&&m.route.id?o[m.route.id]:void 0,T=m.route.errorElement||W6,c&&(h<0&&p===0?(bA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,E=null):h===p&&(x=!0,E=m.route.hydrateFallbackElement||null)));let S=e.concat(s.slice(0,p+1)),C=()=>{let O;return v?O=T:x?O=E:m.route.Component?O=oe.createElement(m.route.Component,null):m.route.element?O=m.route.element:O=f,oe.createElement(X6,{match:m,routeContext:{outlet:f,matches:S,isDataRoute:t!=null},children:O})};return t&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?oe.createElement(Y6,{location:t.location,revalidation:t.revalidation,component:T,error:v,children:C(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:i}):C()},null)}function ev(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function K6(n){let e=oe.useContext(uu);return mn(e,ev(n)),e}function Q6(n){let e=oe.useContext(Hm);return mn(e,ev(n)),e}function Z6(n){let e=oe.useContext(Ea);return mn(e,ev(n)),e}function tv(n){let e=Z6(n),t=e.matches[e.matches.length-1];return mn(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function J6(){return tv("useRouteId")}function eO(){let n=oe.useContext(J_),e=Q6("useRouteError"),t=tv("useRouteError");return n!==void 0?n:e.errors?.[t]}function tO(){let{router:n}=K6("useNavigate"),e=tv("useNavigate"),t=oe.useRef(!1);return SA(()=>{t.current=!0}),oe.useCallback(async(r,s={})=>{ts(t.current,TA),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...s}))},[n,e])}var _T={};function bA(n,e,t){!e&&!_T[n]&&(_T[n]=!0,ts(!1,t))}oe.memo(nO);function nO({routes:n,future:e,state:t,unstable_onError:i}){return wA(n,void 0,t,i,e)}function h_(n){mn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iO({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:s=!1}){mn(!bf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),c=oe.useMemo(()=>({basename:o,navigator:r,static:s,future:{}}),[o,r,s]);typeof t=="string"&&(t=Nl(t));let{pathname:h="/",search:f="",hash:m="",state:p=null,key:v="default"}=t,x=oe.useMemo(()=>{let T=da(h,o);return T==null?null:{location:{pathname:T,search:f,hash:m,state:p,key:v},navigationType:i}},[o,h,f,m,p,v,i]);return ts(x!=null,`<Router basename="${o}"> is not able to match the URL "${h}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:oe.createElement(Os.Provider,{value:c},oe.createElement(wf.Provider,{children:e,value:x}))}function rO({children:n,location:e}){return q6(f_(n),e)}function f_(n,e=[]){let t=[];return oe.Children.forEach(n,(i,r)=>{if(!oe.isValidElement(i))return;let s=[...e,r];if(i.type===oe.Fragment){t.push.apply(t,f_(i.props.children,s));return}mn(i.type===h_,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mn(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=f_(i.props.children,s)),t.push(o)}),t}var U0="get",z0="application/x-www-form-urlencoded";function qm(n){return n!=null&&typeof n.tagName=="string"}function sO(n){return qm(n)&&n.tagName.toLowerCase()==="button"}function aO(n){return qm(n)&&n.tagName.toLowerCase()==="form"}function oO(n){return qm(n)&&n.tagName.toLowerCase()==="input"}function lO(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function cO(n,e){return n.button===0&&(!e||e==="_self")&&!lO(n)}var u0=null;function uO(){if(u0===null)try{new FormData(document.createElement("form"),0),u0=!1}catch{u0=!0}return u0}var hO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function b1(n){return n!=null&&!hO.has(n)?(ts(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${z0}"`),null):n}function fO(n,e){let t,i,r,s,o;if(aO(n)){let c=n.getAttribute("action");i=c?da(c,e):null,t=n.getAttribute("method")||U0,r=b1(n.getAttribute("enctype"))||z0,s=new FormData(n)}else if(sO(n)||oO(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||c.getAttribute("action");if(i=h?da(h,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||U0,r=b1(n.getAttribute("formenctype"))||b1(c.getAttribute("enctype"))||z0,s=new FormData(c,n),!uO()){let{name:f,type:m,value:p}=n;if(m==="image"){let v=f?`${f}.`:"";s.append(`${v}x`,"0"),s.append(`${v}y`,"0")}else f&&s.append(f,p)}}else{if(qm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=U0,i=null,r=z0,o=n}return s&&r==="text/plain"&&(o=s,s=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function nv(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function dO(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&da(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function mO(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gO(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function pO(n,e,t){let i=await Promise.all(n.map(async r=>{let s=e.routes[r.route.id];if(s){let o=await mO(s,t);return o.links?o.links():[]}return[]}));return xO(i.flat(1).filter(gO).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function vT(n,e,t,i,r,s){let o=(h,f)=>t[f]?h.route.id!==t[f].route.id:!0,c=(h,f)=>t[f].pathname!==h.pathname||t[f].route.path?.endsWith("*")&&t[f].params["*"]!==h.params["*"];return s==="assets"?e.filter((h,f)=>o(h,f)||c(h,f)):s==="data"?e.filter((h,f)=>{let m=i.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(o(h,f)||c(h,f))return!0;if(h.route.shouldRevalidate){let p=h.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function _O(n,e,{includeHydrateFallback:t}={}){return vO(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function vO(n){return[...new Set(n)]}function yO(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function xO(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let s=JSON.stringify(yO(r));return t.has(s)||(t.add(s),i.push({key:s,link:r})),i},[])}function AA(){let n=oe.useContext(uu);return nv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function EO(){let n=oe.useContext(Hm);return nv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var iv=oe.createContext(void 0);iv.displayName="FrameworkContext";function CA(){let n=oe.useContext(iv);return nv(n,"You must render this element inside a <HydratedRouter> element"),n}function TO(n,e){let t=oe.useContext(iv),[i,r]=oe.useState(!1),[s,o]=oe.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:f,onMouseLeave:m,onTouchStart:p}=e,v=oe.useRef(null);oe.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let E=C=>{C.forEach(O=>{o(O.isIntersecting)})},S=new IntersectionObserver(E,{threshold:.5});return v.current&&S.observe(v.current),()=>{S.disconnect()}}},[n]),oe.useEffect(()=>{if(i){let E=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(E)}}},[i]);let x=()=>{r(!0)},T=()=>{r(!1),o(!1)};return t?n!=="intent"?[s,v,{}]:[s,v,{onFocus:xh(c,x),onBlur:xh(h,T),onMouseEnter:xh(f,x),onMouseLeave:xh(m,T),onTouchStart:xh(p,x)}]:[!1,v,{}]}function xh(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function SO({page:n,...e}){let{router:t}=AA(),i=oe.useMemo(()=>gA(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?oe.createElement(bO,{page:n,matches:i,...e}):null}function wO(n){let{manifest:e,routeModules:t}=CA(),[i,r]=oe.useState([]);return oe.useEffect(()=>{let s=!1;return pO(n,e,t).then(o=>{s||r(o)}),()=>{s=!0}},[n,e,t]),i}function bO({page:n,matches:e,...t}){let i=Ml(),{manifest:r,routeModules:s}=CA(),{basename:o}=AA(),{loaderData:c,matches:h}=EO(),f=oe.useMemo(()=>vT(n,e,h,r,i,"data"),[n,e,h,r,i]),m=oe.useMemo(()=>vT(n,e,h,r,i,"assets"),[n,e,h,r,i]),p=oe.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let T=new Set,E=!1;if(e.forEach(C=>{let O=r.routes[C.route.id];!O||!O.hasLoader||(!f.some(N=>N.route.id===C.route.id)&&C.route.id in c&&s[C.route.id]?.shouldRevalidate||O.hasClientLoader?E=!0:T.add(C.route.id))}),T.size===0)return[];let S=dO(n,o,"data");return E&&T.size>0&&S.searchParams.set("_routes",e.filter(C=>T.has(C.route.id)).map(C=>C.route.id).join(",")),[S.pathname+S.search]},[o,c,i,r,f,e,n,s]),v=oe.useMemo(()=>_O(m,r),[m,r]),x=wO(m);return oe.createElement(oe.Fragment,null,p.map(T=>oe.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),v.map(T=>oe.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),x.map(({key:T,link:E})=>oe.createElement("link",{key:T,nonce:t.nonce,...E})))}function AO(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var RA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{RA&&(window.__reactRouterVersion="7.9.3")}catch{}function CO({basename:n,children:e,window:t}){let i=oe.useRef();i.current==null&&(i.current=m6({window:t,v5Compat:!0}));let r=i.current,[s,o]=oe.useState({action:r.action,location:r.location}),c=oe.useCallback(h=>{oe.startTransition(()=>o(h))},[o]);return oe.useLayoutEffect(()=>r.listen(c),[r,c]),oe.createElement(iO,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:r})}var IA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,DA=oe.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:s,replace:o,state:c,target:h,to:f,preventScrollReset:m,viewTransition:p,...v},x){let{basename:T}=oe.useContext(Os),E=typeof f=="string"&&IA.test(f),S,C=!1;if(typeof f=="string"&&E&&(S=f,RA))try{let I=new URL(window.location.href),P=f.startsWith("//")?new URL(I.protocol+f):new URL(f),M=da(P.pathname,T);P.origin===I.origin&&M!=null?f=M+P.search+P.hash:C=!0}catch{ts(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=z6(f,{relative:r}),[N,H,Y]=TO(i,v),te=OO(f,{replace:o,state:c,target:h,preventScrollReset:m,relative:r,viewTransition:p});function A(I){e&&e(I),I.defaultPrevented||te(I)}let D=oe.createElement("a",{...v,...Y,href:S||O,onClick:C||s?e:A,ref:AO(x,H),target:h,"data-discover":!E&&t==="render"?"true":void 0});return N&&!E?oe.createElement(oe.Fragment,null,D,oe.createElement(SO,{page:O})):D});DA.displayName="Link";var RO=oe.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:s,to:o,viewTransition:c,children:h,...f},m){let p=Af(o,{relative:f.relative}),v=Ml(),x=oe.useContext(Hm),{navigator:T,basename:E}=oe.useContext(Os),S=x!=null&&FO(p)&&c===!0,C=T.encodeLocation?T.encodeLocation(p).pathname:p.pathname,O=v.pathname,N=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(O=O.toLowerCase(),N=N?N.toLowerCase():null,C=C.toLowerCase()),N&&E&&(N=da(N,E)||N);const H=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let Y=O===C||!r&&O.startsWith(C)&&O.charAt(H)==="/",te=N!=null&&(N===C||!r&&N.startsWith(C)&&N.charAt(C.length)==="/"),A={isActive:Y,isPending:te,isTransitioning:S},D=Y?e:void 0,I;typeof i=="function"?I=i(A):I=[i,Y?"active":null,te?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let P=typeof s=="function"?s(A):s;return oe.createElement(DA,{...f,"aria-current":D,className:I,ref:m,style:P,to:o,viewTransition:c},typeof h=="function"?h(A):h)});RO.displayName="NavLink";var IO=oe.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:s,method:o=U0,action:c,onSubmit:h,relative:f,preventScrollReset:m,viewTransition:p,...v},x)=>{let T=kO(),E=PO(c,{relative:f}),S=o.toLowerCase()==="get"?"get":"post",C=typeof c=="string"&&IA.test(c),O=N=>{if(h&&h(N),N.defaultPrevented)return;N.preventDefault();let H=N.nativeEvent.submitter,Y=H?.getAttribute("formmethod")||o;T(H||N.currentTarget,{fetcherKey:e,method:Y,navigate:t,replace:r,state:s,relative:f,preventScrollReset:m,viewTransition:p})};return oe.createElement("form",{ref:x,method:S,action:E,onSubmit:i?h:O,...v,"data-discover":!C&&n==="render"?"true":void 0})});IO.displayName="Form";function DO(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OA(n){let e=oe.useContext(uu);return mn(e,DO(n)),e}function OO(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:s,viewTransition:o}={}){let c=j6(),h=Ml(),f=Af(n,{relative:s});return oe.useCallback(m=>{if(cO(m,e)){m.preventDefault();let p=t!==void 0?t:Qh(h)===Qh(f);c(n,{replace:p,state:i,preventScrollReset:r,relative:s,viewTransition:o})}},[h,c,f,t,i,e,n,r,s,o])}var NO=0,MO=()=>`__${String(++NO)}__`;function kO(){let{router:n}=OA("useSubmit"),{basename:e}=oe.useContext(Os),t=J6();return oe.useCallback(async(i,r={})=>{let{action:s,method:o,encType:c,formData:h,body:f}=fO(i,e);if(r.navigate===!1){let m=r.fetcherKey||MO();await n.fetch(m,t,r.action||s,{preventScrollReset:r.preventScrollReset,formData:h,body:f,formMethod:r.method||o,formEncType:r.encType||c,flushSync:r.flushSync})}else await n.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:h,body:f,formMethod:r.method||o,formEncType:r.encType||c,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function PO(n,{relative:e}={}){let{basename:t}=oe.useContext(Os),i=oe.useContext(Ea);mn(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...Af(n||".",{relative:e})},o=Ml();if(n==null){s.search=o.search;let c=new URLSearchParams(s.search),h=c.getAll("index");if(h.some(m=>m==="")){c.delete("index"),h.filter(p=>p).forEach(p=>c.append("index",p));let m=c.toString();s.search=m?`?${m}`:""}}return(!n||n===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:ca([t,s.pathname])),Qh(s)}function FO(n,{relative:e}={}){let t=oe.useContext(EA);mn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=OA("useViewTransitionState"),r=Af(n,{relative:e});if(!t.isTransitioning)return!1;let s=da(t.currentLocation.pathname,i)||t.currentLocation.pathname,o=da(t.nextLocation.pathname,i)||t.nextLocation.pathname;return tm(r.pathname,o)!=null||tm(r.pathname,s)!=null}const LO=()=>{};var yT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},BO=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=n[t++],o=n[t++],c=n[t++],h=((r&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const s=n[t++],o=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},MA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],o=r+1<n.length,c=o?n[r+1]:0,h=r+2<n.length,f=h?n[r+2]:0,m=s>>2,p=(s&3)<<4|c>>4;let v=(c&15)<<2|f>>6,x=f&63;h||(x=64,o||(v=64)),i.push(t[m],t[p],t[v],t[x])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(NA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):BO(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=t[n.charAt(r++)],c=r<n.length?t[n.charAt(r)]:0;++r;const f=r<n.length?t[n.charAt(r)]:64;++r;const p=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||c==null||f==null||p==null)throw new VO;const v=s<<2|c>>4;if(i.push(v),f!==64){const x=c<<4&240|f>>2;if(i.push(x),p!==64){const T=f<<6&192|p;i.push(T)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class VO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UO=function(n){const e=NA(n);return MA.encodeByteArray(e,!0)},nm=function(n){return UO(n).replace(/\./g,"")},kA=function(n){try{return MA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=()=>zO().__FIREBASE_DEFAULTS__,HO=()=>{if(typeof process>"u"||typeof yT>"u")return;const n=yT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},qO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&kA(n[1]);return e&&JSON.parse(e)},Gm=()=>{try{return LO()||jO()||HO()||qO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},PA=n=>Gm()?.emulatorHosts?.[n],GO=n=>{const e=PA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},FA=()=>Gm()?.config,LA=n=>Gm()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function BA(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...n};return[nm(JSON.stringify(t)),nm(JSON.stringify(o)),""].join(".")}const kh={};function XO(){const n={prod:[],emulator:[]};for(const e of Object.keys(kh))kh[e]?n.emulator.push(e):n.prod.push(e);return n}function $O(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let xT=!1;function VA(n,e){if(typeof window>"u"||typeof document>"u"||!hu(window.location.host)||kh[n]===e||kh[n]||xT)return;kh[n]=e;function t(v){return`__firebase__banner__${v}`}const i="__firebase__banner",s=XO().prod.length>0;function o(){const v=document.getElementById(i);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function h(v,x){v.setAttribute("width","24"),v.setAttribute("id",x),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{xT=!0,o()},v}function m(v,x){v.setAttribute("id",x),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function p(){const v=$O(i),x=t("text"),T=document.getElementById(x)||document.createElement("span"),E=t("learnmore"),S=document.getElementById(E)||document.createElement("a"),C=t("preprendIcon"),O=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const N=v.element;c(N),m(S,E);const H=f();h(O,C),N.append(O,T,S,H),document.body.appendChild(N)}s?(T.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ri())}function QO(){const n=Gm()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JO(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function e5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function t5(){const n=Ri();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function n5(){return!QO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function i5(){try{return typeof indexedDB=="object"}catch{return!1}}function r5(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{e(r.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5="FirebaseError";class Ta extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=s5,Object.setPrototypeOf(this,Ta.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cf.prototype.create)}}class Cf{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?a5(s,i):"Error",c=`${this.serviceName}: ${o} (${r}).`;return new Ta(r,c,i)}}function a5(n,e){return n.replace(o5,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const o5=/\{\$([^}]+)}/g;function l5(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function El(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const s=n[r],o=e[r];if(ET(s)&&ET(o)){if(!El(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function ET(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function c5(n,e){const t=new u5(n,e);return t.subscribe.bind(t)}class u5{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");h5(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=A1),r.error===void 0&&(r.error=A1),r.complete===void 0&&(r.complete=A1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function h5(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function A1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(n){return n&&n._delegate?n._delegate:n}class Tl{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new WO;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(m5(e))try{this.getOrInitializeService({instanceIdentifier:fl})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=fl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fl){return this.instances.has(e)}getOptions(e=fl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[s,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);i===c&&o.resolve(r)}return r}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&e(s,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:d5(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=fl){return this.component?this.component.multipleInstances?e:fl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function d5(n){return n===fl?void 0:n}function m5(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new f5(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(yt||(yt={}));const p5={debug:yt.DEBUG,verbose:yt.VERBOSE,info:yt.INFO,warn:yt.WARN,error:yt.ERROR,silent:yt.SILENT},_5=yt.INFO,v5={[yt.DEBUG]:"log",[yt.VERBOSE]:"log",[yt.INFO]:"info",[yt.WARN]:"warn",[yt.ERROR]:"error"},y5=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=v5[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rv{constructor(e){this.name=e,this._logLevel=_5,this._logHandler=y5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in yt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?p5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,yt.DEBUG,...e),this._logHandler(this,yt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,yt.VERBOSE,...e),this._logHandler(this,yt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,yt.INFO,...e),this._logHandler(this,yt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,yt.WARN,...e),this._logHandler(this,yt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,yt.ERROR,...e),this._logHandler(this,yt.ERROR,...e)}}const x5=(n,e)=>e.some(t=>n instanceof t);let TT,ST;function E5(){return TT||(TT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T5(){return ST||(ST=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const UA=new WeakMap,d_=new WeakMap,zA=new WeakMap,C1=new WeakMap,sv=new WeakMap;function S5(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(_o(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&UA.set(t,n)}).catch(()=>{}),sv.set(e,n),e}function w5(n){if(d_.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});d_.set(n,e)}let m_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return d_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||zA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return _o(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function b5(n){m_=n(m_)}function A5(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(R1(this),e,...t);return zA.set(i,e.sort?e.sort():[e]),_o(i)}:T5().includes(n)?function(...e){return n.apply(R1(this),e),_o(UA.get(this))}:function(...e){return _o(n.apply(R1(this),e))}}function C5(n){return typeof n=="function"?A5(n):(n instanceof IDBTransaction&&w5(n),x5(n,E5())?new Proxy(n,m_):n)}function _o(n){if(n instanceof IDBRequest)return S5(n);if(C1.has(n))return C1.get(n);const e=C5(n);return e!==n&&(C1.set(n,e),sv.set(e,n)),e}const R1=n=>sv.get(n);function R5(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(n,e),c=_o(o);return i&&o.addEventListener("upgradeneeded",h=>{i(_o(o.result),h.oldVersion,h.newVersion,_o(o.transaction),h)}),t&&o.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{s&&h.addEventListener("close",()=>s()),r&&h.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const I5=["get","getKey","getAll","getAllKeys","count"],D5=["put","add","delete","clear"],I1=new Map;function wT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(I1.get(e))return I1.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=D5.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||I5.includes(t)))return;const s=async function(o,...c){const h=this.transaction(o,r?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(c.shift())),(await Promise.all([f[t](...c),r&&h.done]))[0]};return I1.set(e,s),s}b5(n=>({...n,get:(e,t,i)=>wT(e,t)||n.get(e,t,i),has:(e,t)=>!!wT(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(N5(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function N5(n){return n.getComponent()?.type==="VERSION"}const g_="@firebase/app",bT="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=new rv("@firebase/app"),M5="@firebase/app-compat",k5="@firebase/analytics-compat",P5="@firebase/analytics",F5="@firebase/app-check-compat",L5="@firebase/app-check",B5="@firebase/auth",V5="@firebase/auth-compat",U5="@firebase/database",z5="@firebase/data-connect",j5="@firebase/database-compat",H5="@firebase/functions",q5="@firebase/functions-compat",G5="@firebase/installations",W5="@firebase/installations-compat",Y5="@firebase/messaging",X5="@firebase/messaging-compat",$5="@firebase/performance",K5="@firebase/performance-compat",Q5="@firebase/remote-config",Z5="@firebase/remote-config-compat",J5="@firebase/storage",eN="@firebase/storage-compat",tN="@firebase/firestore",nN="@firebase/ai",iN="@firebase/firestore-compat",rN="firebase",sN="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="[DEFAULT]",aN={[g_]:"fire-core",[M5]:"fire-core-compat",[P5]:"fire-analytics",[k5]:"fire-analytics-compat",[L5]:"fire-app-check",[F5]:"fire-app-check-compat",[B5]:"fire-auth",[V5]:"fire-auth-compat",[U5]:"fire-rtdb",[z5]:"fire-data-connect",[j5]:"fire-rtdb-compat",[H5]:"fire-fn",[q5]:"fire-fn-compat",[G5]:"fire-iid",[W5]:"fire-iid-compat",[Y5]:"fire-fcm",[X5]:"fire-fcm-compat",[$5]:"fire-perf",[K5]:"fire-perf-compat",[Q5]:"fire-rc",[Z5]:"fire-rc-compat",[J5]:"fire-gcs",[eN]:"fire-gcs-compat",[tN]:"fire-fst",[iN]:"fire-fst-compat",[nN]:"fire-vertex","fire-js":"fire-js",[rN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im=new Map,oN=new Map,__=new Map;function AT(n,e){try{n.container.addComponent(e)}catch(t){ma.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Jc(n){const e=n.name;if(__.has(e))return ma.debug(`There were multiple attempts to register component ${e}.`),!1;__.set(e,n);for(const t of im.values())AT(t,n);for(const t of oN.values())AT(t,n);return!0}function av(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Es(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vo=new Cf("app","Firebase",lN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Tl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=sN;function jA(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:p_,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw vo.create("bad-app-name",{appName:String(r)});if(t||(t=FA()),!t)throw vo.create("no-options");const s=im.get(r);if(s){if(El(t,s.options)&&El(i,s.config))return s;throw vo.create("duplicate-app",{appName:r})}const o=new g5(r);for(const h of __.values())o.addComponent(h);const c=new cN(t,i,o);return im.set(r,c),c}function HA(n=p_){const e=im.get(n);if(!e&&n===p_&&FA())return jA();if(!e)throw vo.create("no-app",{appName:n});return e}function yo(n,e,t){let i=aN[n]??n;t&&(i+=`-${t}`);const r=i.match(/\s|\//),s=e.match(/\s|\//);if(r||s){const o=[`Unable to register library "${i}" with version "${e}":`];r&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ma.warn(o.join(" "));return}Jc(new Tl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN="firebase-heartbeat-database",hN=1,Zh="firebase-heartbeat-store";let D1=null;function qA(){return D1||(D1=R5(uN,hN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Zh)}catch(t){console.warn(t)}}}}).catch(n=>{throw vo.create("idb-open",{originalErrorMessage:n.message})})),D1}async function fN(n){try{const t=(await qA()).transaction(Zh),i=await t.objectStore(Zh).get(GA(n));return await t.done,i}catch(e){if(e instanceof Ta)ma.warn(e.message);else{const t=vo.create("idb-get",{originalErrorMessage:e?.message});ma.warn(t.message)}}}async function CT(n,e){try{const i=(await qA()).transaction(Zh,"readwrite");await i.objectStore(Zh).put(e,GA(n)),await i.done}catch(t){if(t instanceof Ta)ma.warn(t.message);else{const i=vo.create("idb-set",{originalErrorMessage:t?.message});ma.warn(i.message)}}}function GA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=1024,mN=30;class gN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new _N(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=RT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>mN){const r=vN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ma.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=RT(),{heartbeatsToSend:t,unsentEntries:i}=pN(this._heartbeatsCache.heartbeats),r=nm(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return ma.warn(e),""}}}function RT(){return new Date().toISOString().substring(0,10)}function pN(n,e=dN){const t=[];let i=n.slice();for(const r of n){const s=t.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),IT(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),IT(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class _N{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return i5()?r5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await fN(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return CT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return CT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function IT(n){return nm(JSON.stringify({version:2,heartbeats:n})).length}function vN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(n){Jc(new Tl("platform-logger",e=>new O5(e),"PRIVATE")),Jc(new Tl("heartbeat",e=>new gN(e),"PRIVATE")),yo(g_,bT,n),yo(g_,bT,"esm2020"),yo("fire-js","")}yN("");var DT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xo,WA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,D){function I(){}I.prototype=D.prototype,A.F=D.prototype,A.prototype=new I,A.prototype.constructor=A,A.D=function(P,M,B){for(var F=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)F[Te-2]=arguments[Te];return D.prototype[M].apply(P,F)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(A,D,I){I||(I=0);const P=Array(16);if(typeof D=="string")for(var M=0;M<16;++M)P[M]=D.charCodeAt(I++)|D.charCodeAt(I++)<<8|D.charCodeAt(I++)<<16|D.charCodeAt(I++)<<24;else for(M=0;M<16;++M)P[M]=D[I++]|D[I++]<<8|D[I++]<<16|D[I++]<<24;D=A.g[0],I=A.g[1],M=A.g[2];let B=A.g[3],F;F=D+(B^I&(M^B))+P[0]+3614090360&4294967295,D=I+(F<<7&4294967295|F>>>25),F=B+(M^D&(I^M))+P[1]+3905402710&4294967295,B=D+(F<<12&4294967295|F>>>20),F=M+(I^B&(D^I))+P[2]+606105819&4294967295,M=B+(F<<17&4294967295|F>>>15),F=I+(D^M&(B^D))+P[3]+3250441966&4294967295,I=M+(F<<22&4294967295|F>>>10),F=D+(B^I&(M^B))+P[4]+4118548399&4294967295,D=I+(F<<7&4294967295|F>>>25),F=B+(M^D&(I^M))+P[5]+1200080426&4294967295,B=D+(F<<12&4294967295|F>>>20),F=M+(I^B&(D^I))+P[6]+2821735955&4294967295,M=B+(F<<17&4294967295|F>>>15),F=I+(D^M&(B^D))+P[7]+4249261313&4294967295,I=M+(F<<22&4294967295|F>>>10),F=D+(B^I&(M^B))+P[8]+1770035416&4294967295,D=I+(F<<7&4294967295|F>>>25),F=B+(M^D&(I^M))+P[9]+2336552879&4294967295,B=D+(F<<12&4294967295|F>>>20),F=M+(I^B&(D^I))+P[10]+4294925233&4294967295,M=B+(F<<17&4294967295|F>>>15),F=I+(D^M&(B^D))+P[11]+2304563134&4294967295,I=M+(F<<22&4294967295|F>>>10),F=D+(B^I&(M^B))+P[12]+1804603682&4294967295,D=I+(F<<7&4294967295|F>>>25),F=B+(M^D&(I^M))+P[13]+4254626195&4294967295,B=D+(F<<12&4294967295|F>>>20),F=M+(I^B&(D^I))+P[14]+2792965006&4294967295,M=B+(F<<17&4294967295|F>>>15),F=I+(D^M&(B^D))+P[15]+1236535329&4294967295,I=M+(F<<22&4294967295|F>>>10),F=D+(M^B&(I^M))+P[1]+4129170786&4294967295,D=I+(F<<5&4294967295|F>>>27),F=B+(I^M&(D^I))+P[6]+3225465664&4294967295,B=D+(F<<9&4294967295|F>>>23),F=M+(D^I&(B^D))+P[11]+643717713&4294967295,M=B+(F<<14&4294967295|F>>>18),F=I+(B^D&(M^B))+P[0]+3921069994&4294967295,I=M+(F<<20&4294967295|F>>>12),F=D+(M^B&(I^M))+P[5]+3593408605&4294967295,D=I+(F<<5&4294967295|F>>>27),F=B+(I^M&(D^I))+P[10]+38016083&4294967295,B=D+(F<<9&4294967295|F>>>23),F=M+(D^I&(B^D))+P[15]+3634488961&4294967295,M=B+(F<<14&4294967295|F>>>18),F=I+(B^D&(M^B))+P[4]+3889429448&4294967295,I=M+(F<<20&4294967295|F>>>12),F=D+(M^B&(I^M))+P[9]+568446438&4294967295,D=I+(F<<5&4294967295|F>>>27),F=B+(I^M&(D^I))+P[14]+3275163606&4294967295,B=D+(F<<9&4294967295|F>>>23),F=M+(D^I&(B^D))+P[3]+4107603335&4294967295,M=B+(F<<14&4294967295|F>>>18),F=I+(B^D&(M^B))+P[8]+1163531501&4294967295,I=M+(F<<20&4294967295|F>>>12),F=D+(M^B&(I^M))+P[13]+2850285829&4294967295,D=I+(F<<5&4294967295|F>>>27),F=B+(I^M&(D^I))+P[2]+4243563512&4294967295,B=D+(F<<9&4294967295|F>>>23),F=M+(D^I&(B^D))+P[7]+1735328473&4294967295,M=B+(F<<14&4294967295|F>>>18),F=I+(B^D&(M^B))+P[12]+2368359562&4294967295,I=M+(F<<20&4294967295|F>>>12),F=D+(I^M^B)+P[5]+4294588738&4294967295,D=I+(F<<4&4294967295|F>>>28),F=B+(D^I^M)+P[8]+2272392833&4294967295,B=D+(F<<11&4294967295|F>>>21),F=M+(B^D^I)+P[11]+1839030562&4294967295,M=B+(F<<16&4294967295|F>>>16),F=I+(M^B^D)+P[14]+4259657740&4294967295,I=M+(F<<23&4294967295|F>>>9),F=D+(I^M^B)+P[1]+2763975236&4294967295,D=I+(F<<4&4294967295|F>>>28),F=B+(D^I^M)+P[4]+1272893353&4294967295,B=D+(F<<11&4294967295|F>>>21),F=M+(B^D^I)+P[7]+4139469664&4294967295,M=B+(F<<16&4294967295|F>>>16),F=I+(M^B^D)+P[10]+3200236656&4294967295,I=M+(F<<23&4294967295|F>>>9),F=D+(I^M^B)+P[13]+681279174&4294967295,D=I+(F<<4&4294967295|F>>>28),F=B+(D^I^M)+P[0]+3936430074&4294967295,B=D+(F<<11&4294967295|F>>>21),F=M+(B^D^I)+P[3]+3572445317&4294967295,M=B+(F<<16&4294967295|F>>>16),F=I+(M^B^D)+P[6]+76029189&4294967295,I=M+(F<<23&4294967295|F>>>9),F=D+(I^M^B)+P[9]+3654602809&4294967295,D=I+(F<<4&4294967295|F>>>28),F=B+(D^I^M)+P[12]+3873151461&4294967295,B=D+(F<<11&4294967295|F>>>21),F=M+(B^D^I)+P[15]+530742520&4294967295,M=B+(F<<16&4294967295|F>>>16),F=I+(M^B^D)+P[2]+3299628645&4294967295,I=M+(F<<23&4294967295|F>>>9),F=D+(M^(I|~B))+P[0]+4096336452&4294967295,D=I+(F<<6&4294967295|F>>>26),F=B+(I^(D|~M))+P[7]+1126891415&4294967295,B=D+(F<<10&4294967295|F>>>22),F=M+(D^(B|~I))+P[14]+2878612391&4294967295,M=B+(F<<15&4294967295|F>>>17),F=I+(B^(M|~D))+P[5]+4237533241&4294967295,I=M+(F<<21&4294967295|F>>>11),F=D+(M^(I|~B))+P[12]+1700485571&4294967295,D=I+(F<<6&4294967295|F>>>26),F=B+(I^(D|~M))+P[3]+2399980690&4294967295,B=D+(F<<10&4294967295|F>>>22),F=M+(D^(B|~I))+P[10]+4293915773&4294967295,M=B+(F<<15&4294967295|F>>>17),F=I+(B^(M|~D))+P[1]+2240044497&4294967295,I=M+(F<<21&4294967295|F>>>11),F=D+(M^(I|~B))+P[8]+1873313359&4294967295,D=I+(F<<6&4294967295|F>>>26),F=B+(I^(D|~M))+P[15]+4264355552&4294967295,B=D+(F<<10&4294967295|F>>>22),F=M+(D^(B|~I))+P[6]+2734768916&4294967295,M=B+(F<<15&4294967295|F>>>17),F=I+(B^(M|~D))+P[13]+1309151649&4294967295,I=M+(F<<21&4294967295|F>>>11),F=D+(M^(I|~B))+P[4]+4149444226&4294967295,D=I+(F<<6&4294967295|F>>>26),F=B+(I^(D|~M))+P[11]+3174756917&4294967295,B=D+(F<<10&4294967295|F>>>22),F=M+(D^(B|~I))+P[2]+718787259&4294967295,M=B+(F<<15&4294967295|F>>>17),F=I+(B^(M|~D))+P[9]+3951481745&4294967295,A.g[0]=A.g[0]+D&4294967295,A.g[1]=A.g[1]+(M+(F<<21&4294967295|F>>>11))&4294967295,A.g[2]=A.g[2]+M&4294967295,A.g[3]=A.g[3]+B&4294967295}i.prototype.v=function(A,D){D===void 0&&(D=A.length);const I=D-this.blockSize,P=this.C;let M=this.h,B=0;for(;B<D;){if(M==0)for(;B<=I;)r(this,A,B),B+=this.blockSize;if(typeof A=="string"){for(;B<D;)if(P[M++]=A.charCodeAt(B++),M==this.blockSize){r(this,P),M=0;break}}else for(;B<D;)if(P[M++]=A[B++],M==this.blockSize){r(this,P),M=0;break}}this.h=M,this.o+=D},i.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var D=1;D<A.length-8;++D)A[D]=0;D=this.o*8;for(var I=A.length-8;I<A.length;++I)A[I]=D&255,D/=256;for(this.v(A),A=Array(16),D=0,I=0;I<4;++I)for(let P=0;P<32;P+=8)A[D++]=this.g[I]>>>P&255;return A};function s(A,D){var I=c;return Object.prototype.hasOwnProperty.call(I,A)?I[A]:I[A]=D(A)}function o(A,D){this.h=D;const I=[];let P=!0;for(let M=A.length-1;M>=0;M--){const B=A[M]|0;P&&B==D||(I[M]=B,P=!1)}this.g=I}var c={};function h(A){return-128<=A&&A<128?s(A,function(D){return new o([D|0],D<0?-1:0)}):new o([A|0],A<0?-1:0)}function f(A){if(isNaN(A)||!isFinite(A))return p;if(A<0)return S(f(-A));const D=[];let I=1;for(let P=0;A>=I;P++)D[P]=A/I|0,I*=4294967296;return new o(D,0)}function m(A,D){if(A.length==0)throw Error("number format error: empty string");if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(A.charAt(0)=="-")return S(m(A.substring(1),D));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=f(Math.pow(D,8));let P=p;for(let B=0;B<A.length;B+=8){var M=Math.min(8,A.length-B);const F=parseInt(A.substring(B,B+M),D);M<8?(M=f(Math.pow(D,M)),P=P.j(M).add(f(F))):(P=P.j(I),P=P.add(f(F)))}return P}var p=h(0),v=h(1),x=h(16777216);n=o.prototype,n.m=function(){if(E(this))return-S(this).m();let A=0,D=1;for(let I=0;I<this.g.length;I++){const P=this.i(I);A+=(P>=0?P:4294967296+P)*D,D*=4294967296}return A},n.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(T(this))return"0";if(E(this))return"-"+S(this).toString(A);const D=f(Math.pow(A,6));var I=this;let P="";for(;;){const M=H(I,D).g;I=C(I,M.j(D));let B=((I.g.length>0?I.g[0]:I.h)>>>0).toString(A);if(I=M,T(I))return B+P;for(;B.length<6;)B="0"+B;P=B+P}},n.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function T(A){if(A.h!=0)return!1;for(let D=0;D<A.g.length;D++)if(A.g[D]!=0)return!1;return!0}function E(A){return A.h==-1}n.l=function(A){return A=C(this,A),E(A)?-1:T(A)?0:1};function S(A){const D=A.g.length,I=[];for(let P=0;P<D;P++)I[P]=~A.g[P];return new o(I,~A.h).add(v)}n.abs=function(){return E(this)?S(this):this},n.add=function(A){const D=Math.max(this.g.length,A.g.length),I=[];let P=0;for(let M=0;M<=D;M++){let B=P+(this.i(M)&65535)+(A.i(M)&65535),F=(B>>>16)+(this.i(M)>>>16)+(A.i(M)>>>16);P=F>>>16,B&=65535,F&=65535,I[M]=F<<16|B}return new o(I,I[I.length-1]&-2147483648?-1:0)};function C(A,D){return A.add(S(D))}n.j=function(A){if(T(this)||T(A))return p;if(E(this))return E(A)?S(this).j(S(A)):S(S(this).j(A));if(E(A))return S(this.j(S(A)));if(this.l(x)<0&&A.l(x)<0)return f(this.m()*A.m());const D=this.g.length+A.g.length,I=[];for(var P=0;P<2*D;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(let M=0;M<A.g.length;M++){const B=this.i(P)>>>16,F=this.i(P)&65535,Te=A.i(M)>>>16,Oe=A.i(M)&65535;I[2*P+2*M]+=F*Oe,O(I,2*P+2*M),I[2*P+2*M+1]+=B*Oe,O(I,2*P+2*M+1),I[2*P+2*M+1]+=F*Te,O(I,2*P+2*M+1),I[2*P+2*M+2]+=B*Te,O(I,2*P+2*M+2)}for(A=0;A<D;A++)I[A]=I[2*A+1]<<16|I[2*A];for(A=D;A<2*D;A++)I[A]=0;return new o(I,0)};function O(A,D){for(;(A[D]&65535)!=A[D];)A[D+1]+=A[D]>>>16,A[D]&=65535,D++}function N(A,D){this.g=A,this.h=D}function H(A,D){if(T(D))throw Error("division by zero");if(T(A))return new N(p,p);if(E(A))return D=H(S(A),D),new N(S(D.g),S(D.h));if(E(D))return D=H(A,S(D)),new N(S(D.g),D.h);if(A.g.length>30){if(E(A)||E(D))throw Error("slowDivide_ only works with positive integers.");for(var I=v,P=D;P.l(A)<=0;)I=Y(I),P=Y(P);var M=te(I,1),B=te(P,1);for(P=te(P,2),I=te(I,2);!T(P);){var F=B.add(P);F.l(A)<=0&&(M=M.add(I),B=F),P=te(P,1),I=te(I,1)}return D=C(A,M.j(D)),new N(M,D)}for(M=p;A.l(D)>=0;){for(I=Math.max(1,Math.floor(A.m()/D.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),B=f(I),F=B.j(D);E(F)||F.l(A)>0;)I-=P,B=f(I),F=B.j(D);T(B)&&(B=v),M=M.add(B),A=C(A,F)}return new N(M,A)}n.B=function(A){return H(this,A).h},n.and=function(A){const D=Math.max(this.g.length,A.g.length),I=[];for(let P=0;P<D;P++)I[P]=this.i(P)&A.i(P);return new o(I,this.h&A.h)},n.or=function(A){const D=Math.max(this.g.length,A.g.length),I=[];for(let P=0;P<D;P++)I[P]=this.i(P)|A.i(P);return new o(I,this.h|A.h)},n.xor=function(A){const D=Math.max(this.g.length,A.g.length),I=[];for(let P=0;P<D;P++)I[P]=this.i(P)^A.i(P);return new o(I,this.h^A.h)};function Y(A){const D=A.g.length+1,I=[];for(let P=0;P<D;P++)I[P]=A.i(P)<<1|A.i(P-1)>>>31;return new o(I,A.h)}function te(A,D){const I=D>>5;D%=32;const P=A.g.length-I,M=[];for(let B=0;B<P;B++)M[B]=D>0?A.i(B+I)>>>D|A.i(B+I+1)<<32-D:A.i(B+I);return new o(M,A.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,WA=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=m,xo=o}).apply(typeof DT<"u"?DT:typeof self<"u"?self:typeof window<"u"?window:{});var h0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YA,Ch,XA,j0,v_,$A,KA,QA;(function(){var n,e=Object.defineProperty;function t(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof h0=="object"&&h0];for(var w=0;w<g.length;++w){var R=g[w];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var i=t(this);function r(g,w){if(w)e:{var R=i;g=g.split(".");for(var z=0;z<g.length-1;z++){var ae=g[z];if(!(ae in R))break e;R=R[ae]}g=g[g.length-1],z=R[g],w=w(z),w!=z&&w!=null&&e(R,g,{configurable:!0,writable:!0,value:w})}}r("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(g){return g||function(w){var R=[],z;for(z in w)Object.prototype.hasOwnProperty.call(w,z)&&R.push([z,w[z]]);return R}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function c(g){var w=typeof g;return w=="object"&&g!=null||w=="function"}function h(g,w,R){return g.call.apply(g.bind,arguments)}function f(g,w,R){return f=h,f.apply(null,arguments)}function m(g,w){var R=Array.prototype.slice.call(arguments,1);return function(){var z=R.slice();return z.push.apply(z,arguments),g.apply(this,z)}}function p(g,w){function R(){}R.prototype=w.prototype,g.Z=w.prototype,g.prototype=new R,g.prototype.constructor=g,g.Ob=function(z,ae,pe){for(var Be=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)Be[lt-2]=arguments[lt];return w.prototype[ae].apply(z,Be)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function x(g){const w=g.length;if(w>0){const R=Array(w);for(let z=0;z<w;z++)R[z]=g[z];return R}return[]}function T(g,w){for(let z=1;z<arguments.length;z++){const ae=arguments[z];var R=typeof ae;if(R=R!="object"?R:ae?Array.isArray(ae)?"array":R:"null",R=="array"||R=="object"&&typeof ae.length=="number"){R=g.length||0;const pe=ae.length||0;g.length=R+pe;for(let Be=0;Be<pe;Be++)g[R+Be]=ae[Be]}else g.push(ae)}}class E{constructor(w,R){this.i=w,this.j=R,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function S(g){o.setTimeout(()=>{throw g},0)}function C(){var g=A;let w=null;return g.g&&(w=g.g,g.g=g.g.next,g.g||(g.h=null),w.next=null),w}class O{constructor(){this.h=this.g=null}add(w,R){const z=N.get();z.set(w,R),this.h?this.h.next=z:this.g=z,this.h=z}}var N=new E(()=>new H,g=>g.reset());class H{constructor(){this.next=this.g=this.h=null}set(w,R){this.h=w,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,te=!1,A=new O,D=()=>{const g=Promise.resolve(void 0);Y=()=>{g.then(I)}};function I(){for(var g;g=C();){try{g.h.call(g.g)}catch(R){S(R)}var w=N;w.j(g),w.h<100&&(w.h++,g.next=w.g,w.g=g)}te=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(g,w){this.type=g,this.g=this.target=w,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var g=!1,w=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const R=()=>{};o.addEventListener("test",R,w),o.removeEventListener("test",R,w)}catch{}return g})();function F(g){return/^[\s\xa0]*$/.test(g)}function Te(g,w){M.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,w)}p(Te,M),Te.prototype.init=function(g,w){const R=this.type=g.type,z=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=w,w=g.relatedTarget,w||(R=="mouseover"?w=g.fromElement:R=="mouseout"&&(w=g.toElement)),this.relatedTarget=w,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&Te.Z.h.call(this)},Te.prototype.h=function(){Te.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Oe="closure_listenable_"+(Math.random()*1e6|0),se=0;function Ee(g,w,R,z,ae){this.listener=g,this.proxy=null,this.src=w,this.type=R,this.capture=!!z,this.ha=ae,this.key=++se,this.da=this.fa=!1}function Ue(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function He(g,w,R){for(const z in g)w.call(R,g[z],z,g)}function Je(g,w){for(const R in g)w.call(void 0,g[R],R,g)}function ee(g){const w={};for(const R in g)w[R]=g[R];return w}const V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z(g,w){let R,z;for(let ae=1;ae<arguments.length;ae++){z=arguments[ae];for(R in z)g[R]=z[R];for(let pe=0;pe<V.length;pe++)R=V[pe],Object.prototype.hasOwnProperty.call(z,R)&&(g[R]=z[R])}}function K(g){this.src=g,this.g={},this.h=0}K.prototype.add=function(g,w,R,z,ae){const pe=g.toString();g=this.g[pe],g||(g=this.g[pe]=[],this.h++);const Be=fe(g,w,z,ae);return Be>-1?(w=g[Be],R||(w.fa=!1)):(w=new Ee(w,this.src,pe,!!z,ae),w.fa=R,g.push(w)),w};function Q(g,w){const R=w.type;if(R in g.g){var z=g.g[R],ae=Array.prototype.indexOf.call(z,w,void 0),pe;(pe=ae>=0)&&Array.prototype.splice.call(z,ae,1),pe&&(Ue(w),g.g[R].length==0&&(delete g.g[R],g.h--))}}function fe(g,w,R,z){for(let ae=0;ae<g.length;++ae){const pe=g[ae];if(!pe.da&&pe.listener==w&&pe.capture==!!R&&pe.ha==z)return ae}return-1}var Ne="closure_lm_"+(Math.random()*1e6|0),je={};function ke(g,w,R,z,ae){if(Array.isArray(w)){for(let pe=0;pe<w.length;pe++)ke(g,w[pe],R,z,ae);return null}return R=sn(R),g&&g[Oe]?g.J(w,R,c(z)?!!z.capture:!1,ae):Le(g,w,R,!1,z,ae)}function Le(g,w,R,z,ae,pe){if(!w)throw Error("Invalid event type");const Be=c(ae)?!!ae.capture:!!ae;let lt=Ct(g);if(lt||(g[Ne]=lt=new K(g)),R=lt.add(w,R,z,Be,pe),R.proxy)return R;if(z=pt(),R.proxy=z,z.src=g,z.listener=R,g.addEventListener)B||(ae=Be),ae===void 0&&(ae=!1),g.addEventListener(w.toString(),z,ae);else if(g.attachEvent)g.attachEvent(rt(w.toString()),z);else if(g.addListener&&g.removeListener)g.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return R}function pt(){function g(R){return w.call(g.src,g.listener,R)}const w=Gn;return g}function ot(g,w,R,z,ae){if(Array.isArray(w))for(var pe=0;pe<w.length;pe++)ot(g,w[pe],R,z,ae);else z=c(z)?!!z.capture:!!z,R=sn(R),g&&g[Oe]?(g=g.i,pe=String(w).toString(),pe in g.g&&(w=g.g[pe],R=fe(w,R,z,ae),R>-1&&(Ue(w[R]),Array.prototype.splice.call(w,R,1),w.length==0&&(delete g.g[pe],g.h--)))):g&&(g=Ct(g))&&(w=g.g[w.toString()],g=-1,w&&(g=fe(w,R,z,ae)),(R=g>-1?w[g]:null)&&At(R))}function At(g){if(typeof g!="number"&&g&&!g.da){var w=g.src;if(w&&w[Oe])Q(w.i,g);else{var R=g.type,z=g.proxy;w.removeEventListener?w.removeEventListener(R,z,g.capture):w.detachEvent?w.detachEvent(rt(R),z):w.addListener&&w.removeListener&&w.removeListener(z),(R=Ct(w))?(Q(R,g),R.h==0&&(R.src=null,w[Ne]=null)):Ue(g)}}}function rt(g){return g in je?je[g]:je[g]="on"+g}function Gn(g,w){if(g.da)g=!0;else{w=new Te(w,this);const R=g.listener,z=g.ha||g.src;g.fa&&At(g),g=R.call(z,w)}return g}function Ct(g){return g=g[Ne],g instanceof K?g:null}var qe="__closure_events_fn_"+(Math.random()*1e9>>>0);function sn(g){return typeof g=="function"?g:(g[qe]||(g[qe]=function(w){return g.handleEvent(w)}),g[qe])}function dt(){P.call(this),this.i=new K(this),this.M=this,this.G=null}p(dt,P),dt.prototype[Oe]=!0,dt.prototype.removeEventListener=function(g,w,R,z){ot(this,g,w,R,z)};function kt(g,w){var R,z=g.G;if(z)for(R=[];z;z=z.G)R.push(z);if(g=g.M,z=w.type||w,typeof w=="string")w=new M(w,g);else if(w instanceof M)w.target=w.target||g;else{var ae=w;w=new M(z,g),Z(w,ae)}ae=!0;let pe,Be;if(R)for(Be=R.length-1;Be>=0;Be--)pe=w.g=R[Be],ae=Jn(pe,z,!0,w)&&ae;if(pe=w.g=g,ae=Jn(pe,z,!0,w)&&ae,ae=Jn(pe,z,!1,w)&&ae,R)for(Be=0;Be<R.length;Be++)pe=w.g=R[Be],ae=Jn(pe,z,!1,w)&&ae}dt.prototype.N=function(){if(dt.Z.N.call(this),this.i){var g=this.i;for(const w in g.g){const R=g.g[w];for(let z=0;z<R.length;z++)Ue(R[z]);delete g.g[w],g.h--}}this.G=null},dt.prototype.J=function(g,w,R,z){return this.i.add(String(g),w,!1,R,z)},dt.prototype.K=function(g,w,R,z){return this.i.add(String(g),w,!0,R,z)};function Jn(g,w,R,z){if(w=g.i.g[String(w)],!w)return!0;w=w.concat();let ae=!0;for(let pe=0;pe<w.length;++pe){const Be=w[pe];if(Be&&!Be.da&&Be.capture==R){const lt=Be.listener,Tn=Be.ha||Be.src;Be.fa&&Q(g.i,Be),ae=lt.call(Tn,z)!==!1&&ae}}return ae&&!z.defaultPrevented}function ba(g,w){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=f(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:o.setTimeout(g,w||0)}function is(g){g.g=ba(()=>{g.g=null,g.i&&(g.i=!1,is(g))},g.l);const w=g.h;g.h=null,g.m.apply(null,w)}class ie extends P{constructor(w,R){super(),this.m=w,this.l=R,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:is(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ce(g){P.call(this),this.h=g,this.g={}}p(Ce,P);var $e=[];function Pt(g){He(g.g,function(w,R){this.g.hasOwnProperty(R)&&At(w)},g),g.g={}}Ce.prototype.N=function(){Ce.Z.N.call(this),Pt(this)},Ce.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wt=o.JSON.stringify,pi=o.JSON.parse,en=class{stringify(g){return o.JSON.stringify(g,void 0)}parse(g){return o.JSON.parse(g,void 0)}};function Wn(){}function ei(){}var ti={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Cn(){M.call(this,"d")}p(Cn,M);function Ii(){M.call(this,"c")}p(Ii,M);var dn={},Hl=null;function Ns(){return Hl=Hl||new dt}dn.Ia="serverreachability";function Lo(g){M.call(this,dn.Ia,g)}p(Lo,M);function Qi(g){const w=Ns();kt(w,new Lo(w))}dn.STAT_EVENT="statevent";function Ms(g,w){M.call(this,dn.STAT_EVENT,g),this.stat=w}p(Ms,M);function pn(g){const w=Ns();kt(w,new Ms(w,g))}dn.Ja="timingevent";function Di(g,w){M.call(this,dn.Ja,g),this.size=w}p(Di,M);function mr(g,w){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){g()},w)}function Zi(){this.g=!0}Zi.prototype.ua=function(){this.g=!1};function wu(g,w,R,z,ae,pe){g.info(function(){if(g.g)if(pe){var Be="",lt=pe.split("&");for(let Ot=0;Ot<lt.length;Ot++){var Tn=lt[Ot].split("=");if(Tn.length>1){const hn=Tn[0];Tn=Tn[1];const vr=hn.split("_");Be=vr.length>=2&&vr[1]=="type"?Be+(hn+"="+Tn+"&"):Be+(hn+"=redacted&")}}}else Be=null;else Be=pe;return"XMLHTTP REQ ("+z+") [attempt "+ae+"]: "+w+`
`+R+`
`+Be})}function ql(g,w,R,z,ae,pe,Be){g.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+ae+"]: "+w+`
`+R+`
`+pe+" "+Be})}function gr(g,w,R,z){g.info(function(){return"XMLHTTP TEXT ("+w+"): "+bu(g,R)+(z?" "+z:"")})}function ks(g,w){g.info(function(){return"TIMEOUT: "+w})}Zi.prototype.info=function(){};function bu(g,w){if(!g.g)return w;if(!w)return null;try{const pe=JSON.parse(w);if(pe){for(g=0;g<pe.length;g++)if(Array.isArray(pe[g])){var R=pe[g];if(!(R.length<2)){var z=R[1];if(Array.isArray(z)&&!(z.length<1)){var ae=z[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(let Be=1;Be<z.length;Be++)z[Be]=""}}}}return wt(pe)}catch{return w}}var Ps={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Fs={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Bo;function Ls(){}p(Ls,Wn),Ls.prototype.g=function(){return new XMLHttpRequest},Bo=new Ls;function Pr(g){return encodeURIComponent(String(g))}function k(g){var w=1;g=g.split(":");const R=[];for(;w>0&&g.length;)R.push(g.shift()),w--;return g.length&&R.push(g.join(":")),R}function W(g,w,R,z){this.j=g,this.i=w,this.l=R,this.S=z||1,this.V=new Ce(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new U}function U(){this.i=null,this.g="",this.h=!1}var j={},G={};function X(g,w,R){g.M=1,g.A=Vo(Rn(w)),g.u=R,g.R=!0,ce(g,null)}function ce(g,w){g.F=Date.now(),de(g),g.B=Rn(g.A);var R=g.B,z=g.S;Array.isArray(z)||(z=[String(z)]),Wl(R.i,"t",z),g.C=0,R=g.j.L,g.h=new U,g.g=id(g.j,R?w:null,!g.u),g.P>0&&(g.O=new ie(f(g.Y,g,g.g),g.P)),w=g.V,R=g.g,z=g.ba;var ae="readystatechange";Array.isArray(ae)||(ae&&($e[0]=ae.toString()),ae=$e);for(let pe=0;pe<ae.length;pe++){const Be=ke(R,ae[pe],z||w.handleEvent,!1,w.h||w);if(!Be)break;w.g[Be.key]=Be}w=g.J?ee(g.J):{},g.u?(g.v||(g.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,w)):(g.v="GET",g.g.ea(g.B,g.v,null,w)),Qi(),wu(g.i,g.v,g.B,g.l,g.S,g.u)}W.prototype.ba=function(g){g=g.target;const w=this.O;w&&Ur(g)==3?w.j():this.Y(g)},W.prototype.Y=function(g){try{if(g==this.g)e:{const lt=Ur(this.g),Tn=this.g.ya(),Ot=this.g.ca();if(!(lt<3)&&(lt!=3||this.g&&(this.h.h||this.g.la()||ni(this.g)))){this.K||lt!=4||Tn==7||(Tn==8||Ot<=0?Qi(3):Qi(2)),Me(this);var w=this.g.ca();this.X=w;var R=ye(this);if(this.o=w==200,ql(this.i,this.v,this.B,this.l,this.S,lt,w),this.o){if(this.U&&!this.L){t:{if(this.g){var z,ae=this.g;if((z=ae.g?ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(z)){var pe=z;break t}}pe=null}if(g=pe)gr(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ve(this,g);else{this.o=!1,this.m=3,pn(12),Ie(this),ze(this);break e}}if(this.R){g=!0;let hn;for(;!this.K&&this.C<R.length;)if(hn=me(this,R),hn==G){lt==4&&(this.m=4,pn(14),g=!1),gr(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==j){this.m=4,pn(15),gr(this.i,this.l,R,"[Invalid Chunk]"),g=!1;break}else gr(this.i,this.l,hn,null),Ve(this,hn);if(ue(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),lt!=4||R.length!=0||this.h.h||(this.m=1,pn(16),g=!1),this.o=this.o&&g,!g)gr(this.i,this.l,R,"[Invalid Chunked Response]"),Ie(this),ze(this);else if(R.length>0&&!this.W){this.W=!0;var Be=this.j;Be.g==this&&Be.aa&&!Be.P&&(Be.j.info("Great, no buffering proxy detected. Bytes received: "+R.length),Pu(Be),Be.P=!0,pn(11))}}else gr(this.i,this.l,R,null),Ve(this,R);lt==4&&Ie(this),this.o&&!this.K&&(lt==4?Jf(this.j,this):(this.o=!1,de(this)))}else Vs(this.g),w==400&&R.indexOf("Unknown SID")>0?(this.m=3,pn(12)):(this.m=0,pn(13)),Ie(this),ze(this)}}}catch{}finally{}};function ye(g){if(!ue(g))return g.g.la();const w=ni(g.g);if(w==="")return"";let R="";const z=w.length,ae=Ur(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return Ie(g),ze(g),"";g.h.i=new o.TextDecoder}for(let pe=0;pe<z;pe++)g.h.h=!0,R+=g.h.i.decode(w[pe],{stream:!(ae&&pe==z-1)});return w.length=0,g.h.g+=R,g.C=0,g.h.g}function ue(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function me(g,w){var R=g.C,z=w.indexOf(`
`,R);return z==-1?G:(R=Number(w.substring(R,z)),isNaN(R)?j:(z+=1,z+R>w.length?G:(w=w.slice(z,z+R),g.C=z+R,w)))}W.prototype.cancel=function(){this.K=!0,Ie(this)};function de(g){g.T=Date.now()+g.H,De(g,g.H)}function De(g,w){if(g.D!=null)throw Error("WatchDog timer not null");g.D=mr(f(g.aa,g),w)}function Me(g){g.D&&(o.clearTimeout(g.D),g.D=null)}W.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(ks(this.i,this.B),this.M!=2&&(Qi(),pn(17)),Ie(this),this.m=2,ze(this)):De(this,this.T-g)};function ze(g){g.j.I==0||g.K||Jf(g.j,g)}function Ie(g){Me(g);var w=g.O;w&&typeof w.dispose=="function"&&w.dispose(),g.O=null,Pt(g.V),g.g&&(w=g.g,g.g=null,w.abort(),w.dispose())}function Ve(g,w){try{var R=g.j;if(R.I!=0&&(R.g==g||_i(R.h,g))){if(!g.L&&_i(R.h,g)&&R.I==3){try{var z=R.Ba.g.parse(w)}catch{z=null}if(Array.isArray(z)&&z.length==3){var ae=z;if(ae[0]==0){e:if(!R.v){if(R.g)if(R.g.F+3e3<g.F)Ql(R),ka(R);else break e;Wo(R),pn(18)}}else R.xa=ae[1],0<R.xa-R.K&&ae[2]<37500&&R.F&&R.A==0&&!R.C&&(R.C=mr(f(R.Va,R),6e3));tn(R.h)<=1&&R.ta&&(R.ta=void 0)}else cs(R,11)}else if((g.L||R.g==g)&&Ql(R),!F(w))for(ae=R.Ba.g.parse(w),w=0;w<ae.length;w++){let Ot=ae[w];const hn=Ot[0];if(!(hn<=R.K))if(R.K=hn,Ot=Ot[1],R.I==2)if(Ot[0]=="c"){R.M=Ot[1],R.ba=Ot[2];const vr=Ot[3];vr!=null&&(R.ka=vr,R.j.info("VER="+R.ka));const us=Ot[4];us!=null&&(R.za=us,R.j.info("SVER="+R.za));const zr=Ot[5];zr!=null&&typeof zr=="number"&&zr>0&&(z=1.5*zr,R.O=z,R.j.info("backChannelRequestTimeoutMs_="+z)),z=R;const jr=g.g;if(jr){const Yo=jr.g?jr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yo){var pe=z.h;pe.g||Yo.indexOf("spdy")==-1&&Yo.indexOf("quic")==-1&&Yo.indexOf("h2")==-1||(pe.j=pe.l,pe.g=new Set,pe.h&&(Fr(pe,pe.h),pe.h=null))}if(z.G){const Zl=jr.g?jr.g.getResponseHeader("X-HTTP-Session-Id"):null;Zl&&(z.wa=Zl,Ut(z.J,z.G,Zl))}}R.I=3,R.l&&R.l.ra(),R.aa&&(R.T=Date.now()-g.F,R.j.info("Handshake RTT: "+R.T+"ms")),z=R;var Be=g;if(z.na=nd(z,z.L?z.ba:null,z.W),Be.L){Lr(z.h,Be);var lt=Be,Tn=z.O;Tn&&(lt.H=Tn),lt.D&&(Me(lt),de(lt)),z.g=Be}else Qf(z);R.i.length>0&&ls(R)}else Ot[0]!="stop"&&Ot[0]!="close"||cs(R,7);else R.I==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?cs(R,7):Mu(R):Ot[0]!="noop"&&R.l&&R.l.qa(Ot),R.A=0)}}Qi(4)}catch{}}var Xe=class{constructor(g,w){this.g=g,this.map=w}};function Bt(g){this.l=g||10,o.PerformanceNavigationTiming?(g=o.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Vt(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function tn(g){return g.h?1:g.g?g.g.size:0}function _i(g,w){return g.h?g.h==w:g.g?g.g.has(w):!1}function Fr(g,w){g.g?g.g.add(w):g.h=w}function Lr(g,w){g.h&&g.h==w?g.h=null:g.g&&g.g.has(w)&&g.g.delete(w)}Bt.prototype.cancel=function(){if(this.i=Ji(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Ji(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let w=g.i;for(const R of g.g.values())w=w.concat(R.G);return w}return x(g.i)}var Aa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vi(g,w){if(g){g=g.split("&");for(let R=0;R<g.length;R++){const z=g[R].indexOf("=");let ae,pe=null;z>=0?(ae=g[R].substring(0,z),pe=g[R].substring(z+1)):ae=g[R],w(ae,pe?decodeURIComponent(pe.replace(/\+/g," ")):"")}}}function er(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;g instanceof er?(this.l=g.l,Yn(this,g.j),this.o=g.o,this.g=g.g,Ca(this,g.u),this.h=g.h,Au(this,$f(g.i)),this.m=g.m):g&&(w=String(g).match(Aa))?(this.l=!1,Yn(this,w[1]||"",!0),this.o=rs(w[2]||""),this.g=rs(w[3]||"",!0),Ca(this,w[4]),this.h=rs(w[5]||"",!0),Au(this,w[6]||"",!0),this.m=rs(w[7]||"")):(this.l=!1,this.i=new Ia(null,this.l))}er.prototype.toString=function(){const g=[];var w=this.j;w&&g.push(Uo(w,Gl,!0),":");var R=this.g;return(R||w=="file")&&(g.push("//"),(w=this.o)&&g.push(Uo(w,Gl,!0),"@"),g.push(Pr(R).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.u,R!=null&&g.push(":",String(R))),(R=this.h)&&(this.g&&R.charAt(0)!="/"&&g.push("/"),g.push(Uo(R,R.charAt(0)=="/"?Cu:Wf,!0))),(R=this.i.toString())&&g.push("?",R),(R=this.m)&&g.push("#",Uo(R,Yf)),g.join("")},er.prototype.resolve=function(g){const w=Rn(this);let R=!!g.j;R?Yn(w,g.j):R=!!g.o,R?w.o=g.o:R=!!g.g,R?w.g=g.g:R=g.u!=null;var z=g.h;if(R)Ca(w,g.u);else if(R=!!g.h){if(z.charAt(0)!="/")if(this.g&&!this.h)z="/"+z;else{var ae=w.h.lastIndexOf("/");ae!=-1&&(z=w.h.slice(0,ae+1)+z)}if(ae=z,ae==".."||ae==".")z="";else if(ae.indexOf("./")!=-1||ae.indexOf("/.")!=-1){z=ae.lastIndexOf("/",0)==0,ae=ae.split("/");const pe=[];for(let Be=0;Be<ae.length;){const lt=ae[Be++];lt=="."?z&&Be==ae.length&&pe.push(""):lt==".."?((pe.length>1||pe.length==1&&pe[0]!="")&&pe.pop(),z&&Be==ae.length&&pe.push("")):(pe.push(lt),z=!0)}z=pe.join("/")}else z=ae}return R?w.h=z:R=g.i.toString()!=="",R?Au(w,$f(g.i)):R=!!g.m,R&&(w.m=g.m),w};function Rn(g){return new er(g)}function Yn(g,w,R){g.j=R?rs(w,!0):w,g.j&&(g.j=g.j.replace(/:$/,""))}function Ca(g,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);g.u=w}else g.u=null}function Au(g,w,R){w instanceof Ia?(g.i=w,Yl(g.i,g.l)):(R||(w=Uo(w,Ra)),g.i=new Ia(w,g.l))}function Ut(g,w,R){g.i.set(w,R)}function Vo(g){return Ut(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function rs(g,w){return g?w?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Uo(g,w,R){return typeof g=="string"?(g=encodeURI(g).replace(w,Li),R&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Li(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Gl=/[#\/\?@]/g,Wf=/[#\?:]/g,Cu=/[#\?]/g,Ra=/[#\?@]/g,Yf=/#/g;function Ia(g,w){this.h=this.g=null,this.i=g||null,this.j=!!w}function Bi(g){g.g||(g.g=new Map,g.h=0,g.i&&vi(g.i,function(w,R){g.add(decodeURIComponent(w.replace(/\+/g," ")),R)}))}n=Ia.prototype,n.add=function(g,w){Bi(this),this.i=null,g=Da(this,g);let R=this.g.get(g);return R||this.g.set(g,R=[]),R.push(w),this.h+=1,this};function Xf(g,w){Bi(g),w=Da(g,w),g.g.has(w)&&(g.i=null,g.h-=g.g.get(w).length,g.g.delete(w))}function Ru(g,w){return Bi(g),w=Da(g,w),g.g.has(w)}n.forEach=function(g,w){Bi(this),this.g.forEach(function(R,z){R.forEach(function(ae){g.call(w,ae,z,this)},this)},this)};function Iu(g,w){Bi(g);let R=[];if(typeof w=="string")Ru(g,w)&&(R=R.concat(g.g.get(Da(g,w))));else for(g=Array.from(g.g.values()),w=0;w<g.length;w++)R=R.concat(g[w]);return R}n.set=function(g,w){return Bi(this),this.i=null,g=Da(this,g),Ru(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[w]),this.h+=1,this},n.get=function(g,w){return g?(g=Iu(this,g),g.length>0?String(g[0]):w):w};function Wl(g,w,R){Xf(g,w),R.length>0&&(g.i=null,g.g.set(Da(g,w),x(R)),g.h+=R.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],w=Array.from(this.g.keys());for(let z=0;z<w.length;z++){var R=w[z];const ae=Pr(R);R=Iu(this,R);for(let pe=0;pe<R.length;pe++){let Be=ae;R[pe]!==""&&(Be+="="+Pr(R[pe])),g.push(Be)}}return this.i=g.join("&")};function $f(g){const w=new Ia;return w.i=g.i,g.g&&(w.g=new Map(g.g),w.h=g.h),w}function Da(g,w){return w=String(w),g.j&&(w=w.toLowerCase()),w}function Yl(g,w){w&&!g.j&&(Bi(g),g.i=null,g.g.forEach(function(R,z){const ae=z.toLowerCase();z!=ae&&(Xf(this,z),Wl(this,ae,R))},g)),g.j=w}function Br(g,w){const R=new Zi;if(o.Image){const z=new Image;z.onload=m(pr,R,"TestLoadImage: loaded",!0,w,z),z.onerror=m(pr,R,"TestLoadImage: error",!1,w,z),z.onabort=m(pr,R,"TestLoadImage: abort",!1,w,z),z.ontimeout=m(pr,R,"TestLoadImage: timeout",!1,w,z),o.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=g}else w(!1)}function Du(g,w){const R=new Zi,z=new AbortController,ae=setTimeout(()=>{z.abort(),pr(R,"TestPingServer: timeout",!1,w)},1e4);fetch(g,{signal:z.signal}).then(pe=>{clearTimeout(ae),pe.ok?pr(R,"TestPingServer: ok",!0,w):pr(R,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(ae),pr(R,"TestPingServer: error",!1,w)})}function pr(g,w,R,z,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),z(R)}catch{}}function Oa(){this.g=new en}function ss(g){this.i=g.Sb||null,this.h=g.ab||!1}p(ss,Wn),ss.prototype.g=function(){return new zo(this.i,this.h)};function zo(g,w){dt.call(this),this.H=g,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(zo,dt),n=zo.prototype,n.open=function(g,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=w,this.readyState=1,Vr(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(w.body=g),(this.H||o).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Na(this)),this.readyState=0},n.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Vr(this)),this.g&&(this.readyState=3,Vr(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Xl(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function Xl(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}n.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var w=g.value?g.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!g.done}))&&(this.response=this.responseText+=w)}g.done?Na(this):Vr(this),this.readyState==3&&Xl(this)}},n.Oa=function(g){this.g&&(this.response=this.responseText=g,Na(this))},n.Na=function(g){this.g&&(this.response=g,Na(this))},n.ga=function(){this.g&&Na(this)};function Na(g){g.readyState=4,g.l=null,g.j=null,g.B=null,Vr(g)}n.setRequestHeader=function(g,w){this.A.append(g,w)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],w=this.h.entries();for(var R=w.next();!R.done;)R=R.value,g.push(R[0]+": "+R[1]),R=w.next();return g.join(`\r
`)};function Vr(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(zo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function _r(g){let w="";return He(g,function(R,z){w+=z,w+=":",w+=R,w+=`\r
`}),w}function jo(g,w,R){e:{for(z in R){var z=!1;break e}z=!0}z||(R=_r(R),typeof g=="string"?R!=null&&Pr(R):Ut(g,w,R))}function $t(g){dt.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p($t,dt);var as=/^https?$/i,Ou=["POST","PUT"];n=$t.prototype,n.Fa=function(g){this.H=g},n.ea=function(g,w,R,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);w=w?w.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Bo.g(),this.g.onreadystatechange=v(f(this.Ca,this));try{this.B=!0,this.g.open(w,String(g),!0),this.B=!1}catch(pe){Ho(this,pe);return}if(g=R||"",R=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var ae in z)R.set(ae,z[ae]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const pe of z.keys())R.set(pe,z.get(pe));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(R.keys()).find(pe=>pe.toLowerCase()=="content-type"),ae=o.FormData&&g instanceof o.FormData,!(Array.prototype.indexOf.call(Ou,w,void 0)>=0)||z||ae||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[pe,Be]of R)this.g.setRequestHeader(pe,Be);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(pe){Ho(this,pe)}};function Ho(g,w){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=w,g.o=5,Nu(g),Bs(g)}function Nu(g){g.A||(g.A=!0,kt(g,"complete"),kt(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,kt(this,"complete"),kt(this,"abort"),Bs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bs(this,!0)),$t.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?qo(this):this.Xa())},n.Xa=function(){qo(this)};function qo(g){if(g.h&&typeof s<"u"){if(g.v&&Ur(g)==4)setTimeout(g.Ca.bind(g),0);else if(kt(g,"readystatechange"),Ur(g)==4){g.h=!1;try{const pe=g.ca();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var R;if(!(R=w)){var z;if(z=pe===0){let Be=String(g.D).match(Aa)[1]||null;!Be&&o.self&&o.self.location&&(Be=o.self.location.protocol.slice(0,-1)),z=!as.test(Be?Be.toLowerCase():"")}R=z}if(R)kt(g,"complete"),kt(g,"success");else{g.o=6;try{var ae=Ur(g)>2?g.g.statusText:""}catch{ae=""}g.l=ae+" ["+g.ca()+"]",Nu(g)}}finally{Bs(g)}}}}function Bs(g,w){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const R=g.g;g.g=null,w||kt(g,"ready");try{R.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Ur(g){return g.g?g.g.readyState:0}n.ca=function(){try{return Ur(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(g){if(this.g){var w=this.g.responseText;return g&&w.indexOf(g)==0&&(w=w.substring(g.length)),pi(w)}};function ni(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Vs(g){const w={};g=(g.g&&Ur(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<g.length;z++){if(F(g[z]))continue;var R=k(g[z]);const ae=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const pe=w[ae]||[];w[ae]=pe,pe.push(R)}Je(w,function(z){return z.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function os(g,w,R){return R&&R.internalChannelParams&&R.internalChannelParams[g]||w}function Ma(g){this.za=0,this.i=[],this.j=new Zi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=os("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=os("baseRetryDelayMs",5e3,g),this.Za=os("retryDelaySeedMs",1e4,g),this.Ta=os("forwardChannelMaxRetries",2,g),this.va=os("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new Bt(g&&g.concurrentRequestLimit),this.Ba=new Oa,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ma.prototype,n.ka=8,n.I=1,n.connect=function(g,w,R,z){pn(0),this.W=g,this.H=w||{},R&&z!==void 0&&(this.H.OSID=R,this.H.OAID=z),this.F=this.X,this.J=nd(this,null,this.W),ls(this)};function Mu(g){if($l(g),g.I==3){var w=g.V++,R=Rn(g.J);if(Ut(R,"SID",g.M),Ut(R,"RID",w),Ut(R,"TYPE","terminate"),Go(g,R),w=new W(g,g.j,w),w.M=2,w.A=Vo(Rn(R)),R=!1,o.navigator&&o.navigator.sendBeacon)try{R=o.navigator.sendBeacon(w.A.toString(),"")}catch{}!R&&o.Image&&(new Image().src=w.A,R=!0),R||(w.g=id(w.j,null),w.g.ea(w.A)),w.F=Date.now(),de(w)}td(g)}function ka(g){g.g&&(Pu(g),g.g.cancel(),g.g=null)}function $l(g){ka(g),g.v&&(o.clearTimeout(g.v),g.v=null),Ql(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&o.clearTimeout(g.m),g.m=null)}function ls(g){if(!Vt(g.h)&&!g.m){g.m=!0;var w=g.Ea;Y||D(),te||(Y(),te=!0),A.add(w,g),g.D=0}}function Kl(g,w){return tn(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=w.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=mr(f(g.Ea,g,w),ed(g,g.D)),g.D++,!0)}n.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const ae=new W(this,this.j,g);let pe=this.o;if(this.U&&(pe?(pe=ee(pe),Z(pe,this.U)):pe=this.U),this.u!==null||this.R||(ae.J=pe,pe=null),this.S)e:{for(var w=0,R=0;R<this.i.length;R++){t:{var z=this.i[R];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(w+=z,w>4096){w=R;break e}if(w===4096||R===this.i.length-1){w=R+1;break e}}w=1e3}else w=1e3;w=Kf(this,ae,w),R=Rn(this.J),Ut(R,"RID",g),Ut(R,"CVER",22),this.G&&Ut(R,"X-HTTP-Session-Id",this.G),Go(this,R),pe&&(this.R?w="headers="+Pr(_r(pe))+"&"+w:this.u&&jo(R,this.u,pe)),Fr(this.h,ae),this.Ra&&Ut(R,"TYPE","init"),this.S?(Ut(R,"$req",w),Ut(R,"SID","null"),ae.U=!0,X(ae,R,null)):X(ae,R,w),this.I=2}}else this.I==3&&(g?ku(this,g):this.i.length==0||Vt(this.h)||ku(this))};function ku(g,w){var R;w?R=w.l:R=g.V++;const z=Rn(g.J);Ut(z,"SID",g.M),Ut(z,"RID",R),Ut(z,"AID",g.K),Go(g,z),g.u&&g.o&&jo(z,g.u,g.o),R=new W(g,g.j,R,g.D+1),g.u===null&&(R.J=g.o),w&&(g.i=w.G.concat(g.i)),w=Kf(g,R,1e3),R.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),Fr(g.h,R),X(R,z,w)}function Go(g,w){g.H&&He(g.H,function(R,z){Ut(w,z,R)}),g.l&&He({},function(R,z){Ut(w,z,R)})}function Kf(g,w,R){R=Math.min(g.i.length,R);const z=g.l?f(g.l.Ka,g.l,g):null;e:{var ae=g.i;let lt=-1;for(;;){const Tn=["count="+R];lt==-1?R>0?(lt=ae[0].g,Tn.push("ofs="+lt)):lt=0:Tn.push("ofs="+lt);let Ot=!0;for(let hn=0;hn<R;hn++){var pe=ae[hn].g;const vr=ae[hn].map;if(pe-=lt,pe<0)lt=Math.max(0,ae[hn].g-100),Ot=!1;else try{pe="req"+pe+"_"||"";try{var Be=vr instanceof Map?vr:Object.entries(vr);for(const[us,zr]of Be){let jr=zr;c(zr)&&(jr=wt(zr)),Tn.push(pe+us+"="+encodeURIComponent(jr))}}catch(us){throw Tn.push(pe+"type="+encodeURIComponent("_badmap")),us}}catch{z&&z(vr)}}if(Ot){Be=Tn.join("&");break e}}Be=void 0}return g=g.i.splice(0,R),w.G=g,Be}function Qf(g){if(!g.g&&!g.v){g.Y=1;var w=g.Da;Y||D(),te||(Y(),te=!0),A.add(w,g),g.A=0}}function Wo(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=mr(f(g.Da,g),ed(g,g.A)),g.A++,!0)}n.Da=function(){if(this.v=null,Zf(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=mr(f(this.Wa,this),g)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pn(10),ka(this),Zf(this))};function Pu(g){g.B!=null&&(o.clearTimeout(g.B),g.B=null)}function Zf(g){g.g=new W(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var w=Rn(g.na);Ut(w,"RID","rpc"),Ut(w,"SID",g.M),Ut(w,"AID",g.K),Ut(w,"CI",g.F?"0":"1"),!g.F&&g.ia&&Ut(w,"TO",g.ia),Ut(w,"TYPE","xmlhttp"),Go(g,w),g.u&&g.o&&jo(w,g.u,g.o),g.O&&(g.g.H=g.O);var R=g.g;g=g.ba,R.M=1,R.A=Vo(Rn(w)),R.u=null,R.R=!0,ce(R,g)}n.Va=function(){this.C!=null&&(this.C=null,ka(this),Wo(this),pn(19))};function Ql(g){g.C!=null&&(o.clearTimeout(g.C),g.C=null)}function Jf(g,w){var R=null;if(g.g==w){Ql(g),Pu(g),g.g=null;var z=2}else if(_i(g.h,w))R=w.G,Lr(g.h,w),z=1;else return;if(g.I!=0){if(w.o)if(z==1){R=w.u?w.u.length:0,w=Date.now()-w.F;var ae=g.D;z=Ns(),kt(z,new Di(z,R)),ls(g)}else Qf(g);else if(ae=w.m,ae==3||ae==0&&w.X>0||!(z==1&&Kl(g,w)||z==2&&Wo(g)))switch(R&&R.length>0&&(w=g.h,w.i=w.i.concat(R)),ae){case 1:cs(g,5);break;case 4:cs(g,10);break;case 3:cs(g,6);break;default:cs(g,2)}}}function ed(g,w){let R=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(R*=2),R*w}function cs(g,w){if(g.j.info("Error code "+w),w==2){var R=f(g.bb,g),z=g.Ua;const ae=!z;z=new er(z||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Yn(z,"https"),Vo(z),ae?Br(z.toString(),R):Du(z.toString(),R)}else pn(2);g.I=0,g.l&&g.l.pa(w),td(g),$l(g)}n.bb=function(g){g?(this.j.info("Successfully pinged google.com"),pn(2)):(this.j.info("Failed to ping google.com"),pn(1))};function td(g){if(g.I=0,g.ja=[],g.l){const w=Ji(g.h);(w.length!=0||g.i.length!=0)&&(T(g.ja,w),T(g.ja,g.i),g.h.i.length=0,x(g.i),g.i.length=0),g.l.oa()}}function nd(g,w,R){var z=R instanceof er?Rn(R):new er(R);if(z.g!="")w&&(z.g=w+"."+z.g),Ca(z,z.u);else{var ae=o.location;z=ae.protocol,w=w?w+"."+ae.hostname:ae.hostname,ae=+ae.port;const pe=new er(null);z&&Yn(pe,z),w&&(pe.g=w),ae&&Ca(pe,ae),R&&(pe.h=R),z=pe}return R=g.G,w=g.wa,R&&w&&Ut(z,R,w),Ut(z,"VER",g.ka),Go(g,z),z}function id(g,w,R){if(w&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=g.Aa&&!g.ma?new $t(new ss({ab:R})):new $t(g.ma),w.Fa(g.L),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function rd(){}n=rd.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Pa(){}Pa.prototype.g=function(g,w){return new Oi(g,w)};function Oi(g,w){dt.call(this),this.g=new Ma(w),this.l=g,this.h=w&&w.messageUrlParams||null,g=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(g?g["X-WebChannel-Content-Type"]=w.messageContentType:g={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(g?g["X-WebChannel-Client-Profile"]=w.sa:g={"X-WebChannel-Client-Profile":w.sa}),this.g.U=g,(g=w&&w.Qb)&&!F(g)&&(this.g.u=g),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!F(w)&&(this.g.G=w,g=this.h,g!==null&&w in g&&(g=this.h,w in g&&delete g[w])),this.j=new Us(this)}p(Oi,dt),Oi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Oi.prototype.close=function(){Mu(this.g)},Oi.prototype.o=function(g){var w=this.g;if(typeof g=="string"){var R={};R.__data__=g,g=R}else this.v&&(R={},R.__data__=wt(g),g=R);w.i.push(new Xe(w.Ya++,g)),w.I==3&&ls(w)},Oi.prototype.N=function(){this.g.l=null,delete this.j,Mu(this.g),delete this.g,Oi.Z.N.call(this)};function sd(g){Cn.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var w=g.__sm__;if(w){e:{for(const R in w){g=R;break e}g=void 0}(this.i=g)&&(g=this.i,w=w!==null&&g in w?w[g]:void 0),this.data=w}else this.data=g}p(sd,Cn);function ad(){Ii.call(this),this.status=1}p(ad,Ii);function Us(g){this.g=g}p(Us,rd),Us.prototype.ra=function(){kt(this.g,"a")},Us.prototype.qa=function(g){kt(this.g,new sd(g))},Us.prototype.pa=function(g){kt(this.g,new ad)},Us.prototype.oa=function(){kt(this.g,"b")},Pa.prototype.createWebChannel=Pa.prototype.g,Oi.prototype.send=Oi.prototype.o,Oi.prototype.open=Oi.prototype.m,Oi.prototype.close=Oi.prototype.close,QA=function(){return new Pa},KA=function(){return Ns()},$A=dn,v_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ps.NO_ERROR=0,Ps.TIMEOUT=8,Ps.HTTP_ERROR=6,j0=Ps,Fs.COMPLETE="complete",XA=Fs,ei.EventType=ti,ti.OPEN="a",ti.CLOSE="b",ti.ERROR="c",ti.MESSAGE="d",dt.prototype.listen=dt.prototype.J,Ch=ei,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,YA=$t}).apply(typeof h0<"u"?h0:typeof self<"u"?self:typeof window<"u"?window:{});const OT="@firebase/firestore",NT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ti.UNAUTHENTICATED=new Ti(null),Ti.GOOGLE_CREDENTIALS=new Ti("google-credentials-uid"),Ti.FIRST_PARTY=new Ti("first-party-uid"),Ti.MOCK_USER=new Ti("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let du="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl=new rv("@firebase/firestore");function Mc(){return Sl.logLevel}function We(n,...e){if(Sl.logLevel<=yt.DEBUG){const t=e.map(ov);Sl.debug(`Firestore (${du}): ${n}`,...t)}}function ga(n,...e){if(Sl.logLevel<=yt.ERROR){const t=e.map(ov);Sl.error(`Firestore (${du}): ${n}`,...t)}}function eu(n,...e){if(Sl.logLevel<=yt.WARN){const t=e.map(ov);Sl.warn(`Firestore (${du}): ${n}`,...t)}}function ov(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,ZA(n,i,t)}function ZA(n,e,t){let i=`FIRESTORE (${du}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw ga(i),new Error(i)}function Lt(n,e,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,n||ZA(e,r,i)}function at(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ge extends Ta{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ti.UNAUTHENTICATED)))}shutdown(){}}class EN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class TN{constructor(e){this.t=e,this.currentUser=Ti.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Lt(this.o===void 0,42304);let i=this.i;const r=h=>this.i!==i?(i=this.i,t(h)):Promise.resolve();let s=new Eo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Eo,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const h=s;e.enqueueRetryable((async()=>{await h.promise,await r(this.currentUser)}))},c=h=>{We("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((h=>c(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(We("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Eo)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(We("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Lt(typeof i.accessToken=="string",31837,{l:i}),new JA(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Lt(e===null||typeof e=="string",2055,{h:e}),new Ti(e)}}class SN{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Ti.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class wN{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new SN(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Ti.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class MT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bN{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Es(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Lt(this.o===void 0,3512);const i=s=>{s.error!=null&&We("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,We("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>i(s)))};const r=s=>{We("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>r(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):We("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new MT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Lt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new MT(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=AN(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%62))}return i}}function xt(n,e){return n<e?-1:n>e?1:0}function y_(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const r=n.charAt(i),s=e.charAt(i);if(r!==s)return O1(r)===O1(s)?xt(r,s):O1(r)?1:-1}return xt(n.length,e.length)}const CN=55296,RN=57343;function O1(n){const e=n.charCodeAt(0);return e>=CN&&e<=RN}function tu(n,e,t){return n.length===e.length&&n.every(((i,r)=>t(i,e[r])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="__name__";class xs{constructor(e,t,i){t===void 0?t=0:t>e.length&&tt(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&tt(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return xs.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof xs?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=xs.compareSegments(e.get(r),t.get(r));if(s!==0)return s}return xt(e.length,t.length)}static compareSegments(e,t){const i=xs.isNumericId(e),r=xs.isNumericId(t);return i&&!r?-1:!i&&r?1:i&&r?xs.extractNumericId(e).compare(xs.extractNumericId(t)):y_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xo.fromString(e.substring(4,e.length-2))}}class rn extends xs{construct(e,t,i){return new rn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ge(be.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((r=>r.length>0)))}return new rn(t)}static emptyPath(){return new rn([])}}const IN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ui extends xs{construct(e,t,i){return new ui(e,t,i)}static isValidIdentifier(e){return IN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ui.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===kT}static keyField(){return new ui([kT])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(i.length===0)throw new Ge(be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let o=!1;for(;r<e.length;){const c=e[r];if(c==="\\"){if(r+1===e.length)throw new Ge(be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[r+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ge(be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,r+=2}else c==="`"?(o=!o,r++):c!=="."||o?(i+=c,r++):(s(),r++)}if(s(),o)throw new Ge(be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ui(t)}static emptyPath(){return new ui([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.path=e}static fromPath(e){return new Ze(rn.fromString(e))}static fromName(e){return new Ze(rn.fromString(e).popFirst(5))}static empty(){return new Ze(rn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ze(new rn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(n,e,t){if(!t)throw new Ge(be.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function DN(n,e,t,i){if(e===!0&&i===!0)throw new Ge(be.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function PT(n){if(!Ze.isDocumentKey(n))throw new Ge(be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function FT(n){if(Ze.isDocumentKey(n))throw new Ge(be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function t4(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Wm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":tt(12329,{type:typeof n})}function wl(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ge(be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Wm(n);throw new Ge(be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(n,e){const t={typeString:n};return e&&(t.value=e),t}function If(n,e){if(!t4(n))throw new Ge(be.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const r=e[i].typeString,s="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const o=n[i];if(r&&typeof o!==r){t=`JSON field '${i}' must be a ${r}.`;break}if(s!==void 0&&o!==s.value){t=`Expected '${i}' field to equal '${s.value}'`;break}}if(t)throw new Ge(be.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=-62135596800,BT=1e6;class cn{static now(){return cn.fromMillis(Date.now())}static fromDate(e){return cn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*BT);return new cn(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ge(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ge(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<LT)throw new Ge(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ge(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BT}_compareTo(e){return this.seconds===e.seconds?xt(this.nanoseconds,e.nanoseconds):xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:cn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(If(e,cn._jsonSchema))return new cn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-LT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}cn._jsonSchemaVersion="firestore/timestamp/1.0",cn._jsonSchema={type:Fn("string",cn._jsonSchemaVersion),seconds:Fn("number"),nanoseconds:Fn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{static fromTimestamp(e){return new it(e)}static min(){return new it(new cn(0,0))}static max(){return new it(new cn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh=-1;function ON(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=it.fromTimestamp(i===1e9?new cn(t+1,0):new cn(t,i));return new wo(r,Ze.empty(),e)}function NN(n){return new wo(n.readTime,n.key,Jh)}class wo{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new wo(it.min(),Ze.empty(),Jh)}static max(){return new wo(it.max(),Ze.empty(),Jh)}}function MN(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ze.comparator(n.documentKey,e.documentKey),t!==0?t:xt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mu(n){if(n.code!==be.FAILED_PRECONDITION||n.message!==kN)throw n;We("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ae(((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ae?t:Ae.resolve(t)}catch(t){return Ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ae.reject(t)}static resolve(e){return new Ae(((t,i)=>{t(e)}))}static reject(e){return new Ae(((t,i)=>{i(e)}))}static waitFor(e){return new Ae(((t,i)=>{let r=0,s=0,o=!1;e.forEach((c=>{++r,c.next((()=>{++s,o&&s===r&&t()}),(h=>i(h)))})),o=!0,s===r&&t()}))}static or(e){let t=Ae.resolve(!1);for(const i of e)t=t.next((r=>r?Ae.resolve(r):i()));return t}static forEach(e,t){const i=[];return e.forEach(((r,s)=>{i.push(t.call(this,r,s))})),this.waitFor(i)}static mapArray(e,t){return new Ae(((i,r)=>{const s=e.length,o=new Array(s);let c=0;for(let h=0;h<s;h++){const f=h;t(e[f]).next((m=>{o[f]=m,++c,c===s&&i(o)}),(m=>r(m)))}}))}static doWhile(e,t){return new Ae(((i,r)=>{const s=()=>{e()===!0?t().next((()=>{s()}),r):i()};s()}))}}function FN(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function gu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ym.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv=-1;function Xm(n){return n==null}function rm(n){return n===0&&1/n==-1/0}function LN(n){return typeof n=="number"&&Number.isInteger(n)&&!rm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4="";function BN(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=VT(e)),e=VN(n.get(t),e);return VT(e)}function VN(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="";break;case n4:t+="";break;default:t+=s}}return t}function VT(n){return n+n4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ko(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function i4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,t){this.comparator=e,this.root=t||ci.EMPTY}insert(e,t){return new gn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ci.BLACK,null,null))}remove(e){return new gn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ci.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new f0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new f0(this.root,e,this.comparator,!1)}getReverseIterator(){return new f0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new f0(this.root,e,this.comparator,!0)}}class f0{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ci{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??ci.RED,this.left=r??ci.EMPTY,this.right=s??ci.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new ci(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):s===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ci.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return ci.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ci.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ci.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw tt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw tt(27949);return e+(this.isRed()?0:1)}}ci.EMPTY=null,ci.RED=!0,ci.BLACK=!1;ci.EMPTY=new class{constructor(){this.size=0}get key(){throw tt(57766)}get value(){throw tt(16141)}get color(){throw tt(16727)}get left(){throw tt(29726)}get right(){throw tt(36894)}copy(e,t,i,r,s){return this}insert(e,t,i){return new ci(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.comparator=e,this.data=new gn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new zT(this.data.getIterator())}getIteratorFrom(e){return new zT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof qn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new qn(this.comparator);return t.data=e,t}}class zT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.fields=e,e.sort(ui.comparator)}static empty(){return new fr([])}unionWith(e){let t=new qn(ui.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new fr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return tu(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new r4("Invalid base64 string: "+s):s}})(e);return new mi(t)}static fromUint8Array(e){const t=(function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s})(e);return new mi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mi.EMPTY_BYTE_STRING=new mi("");const UN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bo(n){if(Lt(!!n,39018),typeof n=="string"){let e=0;const t=UN.exec(n);if(Lt(!!t,46558,{timestamp:n}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:bn(n.seconds),nanos:bn(n.nanos)}}function bn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ao(n){return typeof n=="string"?mi.fromBase64String(n):mi.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4="server_timestamp",a4="__type__",o4="__previous_value__",l4="__local_write_time__";function uv(n){return(n?.mapValue?.fields||{})[a4]?.stringValue===s4}function $m(n){const e=n.mapValue.fields[o4];return uv(e)?$m(e):e}function ef(n){const e=bo(n.mapValue.fields[l4].timestampValue);return new cn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,t,i,r,s,o,c,h,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=m}}const sm="(default)";class tf{constructor(e,t){this.projectId=e,this.database=t||sm}static empty(){return new tf("","")}get isDefaultDatabase(){return this.database===sm}isEqual(e){return e instanceof tf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4="__type__",jN="__max__",d0={mapValue:{}},u4="__vector__",am="value";function Co(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?uv(n)?4:qN(n)?9007199254740991:HN(n)?10:11:tt(28295,{value:n})}function Is(n,e){if(n===e)return!0;const t=Co(n);if(t!==Co(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ef(n).isEqual(ef(e));case 3:return(function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=bo(r.timestampValue),c=bo(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(r,s){return Ao(r.bytesValue).isEqual(Ao(s.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(r,s){return bn(r.geoPointValue.latitude)===bn(s.geoPointValue.latitude)&&bn(r.geoPointValue.longitude)===bn(s.geoPointValue.longitude)})(n,e);case 2:return(function(r,s){if("integerValue"in r&&"integerValue"in s)return bn(r.integerValue)===bn(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=bn(r.doubleValue),c=bn(s.doubleValue);return o===c?rm(o)===rm(c):isNaN(o)&&isNaN(c)}return!1})(n,e);case 9:return tu(n.arrayValue.values||[],e.arrayValue.values||[],Is);case 10:case 11:return(function(r,s){const o=r.mapValue.fields||{},c=s.mapValue.fields||{};if(UT(o)!==UT(c))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(c[h]===void 0||!Is(o[h],c[h])))return!1;return!0})(n,e);default:return tt(52216,{left:n})}}function nf(n,e){return(n.values||[]).find((t=>Is(t,e)))!==void 0}function nu(n,e){if(n===e)return 0;const t=Co(n),i=Co(e);if(t!==i)return xt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return xt(n.booleanValue,e.booleanValue);case 2:return(function(s,o){const c=bn(s.integerValue||s.doubleValue),h=bn(o.integerValue||o.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1})(n,e);case 3:return jT(n.timestampValue,e.timestampValue);case 4:return jT(ef(n),ef(e));case 5:return y_(n.stringValue,e.stringValue);case 6:return(function(s,o){const c=Ao(s),h=Ao(o);return c.compareTo(h)})(n.bytesValue,e.bytesValue);case 7:return(function(s,o){const c=s.split("/"),h=o.split("/");for(let f=0;f<c.length&&f<h.length;f++){const m=xt(c[f],h[f]);if(m!==0)return m}return xt(c.length,h.length)})(n.referenceValue,e.referenceValue);case 8:return(function(s,o){const c=xt(bn(s.latitude),bn(o.latitude));return c!==0?c:xt(bn(s.longitude),bn(o.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return HT(n.arrayValue,e.arrayValue);case 10:return(function(s,o){const c=s.fields||{},h=o.fields||{},f=c[am]?.arrayValue,m=h[am]?.arrayValue,p=xt(f?.values?.length||0,m?.values?.length||0);return p!==0?p:HT(f,m)})(n.mapValue,e.mapValue);case 11:return(function(s,o){if(s===d0.mapValue&&o===d0.mapValue)return 0;if(s===d0.mapValue)return 1;if(o===d0.mapValue)return-1;const c=s.fields||{},h=Object.keys(c),f=o.fields||{},m=Object.keys(f);h.sort(),m.sort();for(let p=0;p<h.length&&p<m.length;++p){const v=y_(h[p],m[p]);if(v!==0)return v;const x=nu(c[h[p]],f[m[p]]);if(x!==0)return x}return xt(h.length,m.length)})(n.mapValue,e.mapValue);default:throw tt(23264,{he:t})}}function jT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return xt(n,e);const t=bo(n),i=bo(e),r=xt(t.seconds,i.seconds);return r!==0?r:xt(t.nanos,i.nanos)}function HT(n,e){const t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){const s=nu(t[r],i[r]);if(s)return s}return xt(t.length,i.length)}function iu(n){return x_(n)}function x_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=bo(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Ao(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ze.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",r=!0;for(const s of t.values||[])r?r=!1:i+=",",i+=x_(s);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${x_(t.fields[o])}`;return r+"}"})(n.mapValue):tt(61005,{value:n})}function H0(n){switch(Co(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$m(n);return e?16+H0(e):16;case 5:return 2*n.stringValue.length;case 6:return Ao(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,s)=>r+H0(s)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return ko(i.fields,((s,o)=>{r+=s.length+H0(o)})),r})(n.mapValue);default:throw tt(13486,{value:n})}}function qT(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function E_(n){return!!n&&"integerValue"in n}function hv(n){return!!n&&"arrayValue"in n}function GT(n){return!!n&&"nullValue"in n}function WT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function q0(n){return!!n&&"mapValue"in n}function HN(n){return(n?.mapValue?.fields||{})[c4]?.stringValue===u4}function Ph(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ko(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Ph(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ph(n.arrayValue.values[t]);return e}return{...n}}function qN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===jN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this.value=e}static empty(){return new Wi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!q0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ph(t)}setAll(e){let t=ui.emptyPath(),i={},r=[];e.forEach(((o,c)=>{if(!t.isImmediateParentOf(c)){const h=this.getFieldsMap(t);this.applyChanges(h,i,r),i={},r=[],t=c.popLast()}o?i[c.lastSegment()]=Ph(o):r.push(c.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());q0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Is(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];q0(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){ko(t,((r,s)=>e[r]=s));for(const r of i)delete e[r]}clone(){return new Wi(Ph(this.value))}}function h4(n){const e=[];return ko(n.fields,((t,i)=>{const r=new ui([t]);if(q0(i)){const s=h4(i.mapValue).fields;if(s.length===0)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)})),new fr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,t,i,r,s,o,c){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new Si(e,0,it.min(),it.min(),it.min(),Wi.empty(),0)}static newFoundDocument(e,t,i,r){return new Si(e,1,t,it.min(),i,r,0)}static newNoDocument(e,t){return new Si(e,2,t,it.min(),it.min(),Wi.empty(),0)}static newUnknownDocument(e,t){return new Si(e,3,t,it.min(),it.min(),Wi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(it.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=it.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Si&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Si(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,t){this.position=e,this.inclusive=t}}function YT(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],o=n.position[r];if(s.field.isKeyField()?i=Ze.comparator(Ze.fromName(o.referenceValue),t.key):i=nu(o,t.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function XT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Is(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,t="asc"){this.field=e,this.dir=t}}function GN(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{}class Pn extends f4{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new YN(e,t,i):t==="array-contains"?new KN(e,i):t==="in"?new QN(e,i):t==="not-in"?new ZN(e,i):t==="array-contains-any"?new JN(e,i):new Pn(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new XN(e,i):new $N(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(nu(t,this.value)):t!==null&&Co(this.value)===Co(t)&&this.matchesComparison(nu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ns extends f4{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ns(e,t)}matches(e){return d4(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function d4(n){return n.op==="and"}function m4(n){return WN(n)&&d4(n)}function WN(n){for(const e of n.filters)if(e instanceof ns)return!1;return!0}function T_(n){if(n instanceof Pn)return n.field.canonicalString()+n.op.toString()+iu(n.value);if(m4(n))return n.filters.map((e=>T_(e))).join(",");{const e=n.filters.map((t=>T_(t))).join(",");return`${n.op}(${e})`}}function g4(n,e){return n instanceof Pn?(function(i,r){return r instanceof Pn&&i.op===r.op&&i.field.isEqual(r.field)&&Is(i.value,r.value)})(n,e):n instanceof ns?(function(i,r){return r instanceof ns&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((s,o,c)=>s&&g4(o,r.filters[c])),!0):!1})(n,e):void tt(19439)}function p4(n){return n instanceof Pn?(function(t){return`${t.field.canonicalString()} ${t.op} ${iu(t.value)}`})(n):n instanceof ns?(function(t){return t.op.toString()+" {"+t.getFilters().map(p4).join(" ,")+"}"})(n):"Filter"}class YN extends Pn{constructor(e,t,i){super(e,t,i),this.key=Ze.fromName(i.referenceValue)}matches(e){const t=Ze.comparator(e.key,this.key);return this.matchesComparison(t)}}class XN extends Pn{constructor(e,t){super(e,"in",t),this.keys=_4("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class $N extends Pn{constructor(e,t){super(e,"not-in",t),this.keys=_4("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function _4(n,e){return(e.arrayValue?.values||[]).map((t=>Ze.fromName(t.referenceValue)))}class KN extends Pn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return hv(t)&&nf(t.arrayValue,this.value)}}class QN extends Pn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&nf(this.value.arrayValue,t)}}class ZN extends Pn{constructor(e,t){super(e,"not-in",t)}matches(e){if(nf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!nf(this.value.arrayValue,t)}}class JN extends Pn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!hv(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>nf(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e,t=null,i=[],r=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=c,this.Te=null}}function $T(n,e=null,t=[],i=[],r=null,s=null,o=null){return new eM(n,e,t,i,r,s,o)}function fv(n){const e=at(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>T_(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(s){return s.field.canonicalString()+s.dir})(i))).join(","),Xm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>iu(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>iu(i))).join(",")),e.Te=t}return e.Te}function dv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!GN(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!g4(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!XT(n.startAt,e.startAt)&&XT(n.endAt,e.endAt)}function S_(n){return Ze.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,t=null,i=[],r=[],s=null,o="F",c=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function tM(n,e,t,i,r,s,o,c){return new pu(n,e,t,i,r,s,o,c)}function v4(n){return new pu(n)}function KT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function y4(n){return n.collectionGroup!==null}function Fh(n){const e=at(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),t.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new qn(ui.comparator);return o.filters.forEach((h=>{h.getFlattenedFilters().forEach((f=>{f.isInequality()&&(c=c.add(f.field))}))})),c})(e).forEach((s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new rf(s,i))})),t.has(ui.keyField().canonicalString())||e.Ie.push(new rf(ui.keyField(),i))}return e.Ie}function Ts(n){const e=at(n);return e.Ee||(e.Ee=nM(e,Fh(n))),e.Ee}function nM(n,e){if(n.limitType==="F")return $T(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((r=>{const s=r.dir==="desc"?"asc":"desc";return new rf(r.field,s)}));const t=n.endAt?new om(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new om(n.startAt.position,n.startAt.inclusive):null;return $T(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function w_(n,e){const t=n.filters.concat([e]);return new pu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function b_(n,e,t){return new pu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Km(n,e){return dv(Ts(n),Ts(e))&&n.limitType===e.limitType}function x4(n){return`${fv(Ts(n))}|lt:${n.limitType}`}function kc(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((r=>p4(r))).join(", ")}]`),Xm(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((r=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(r))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>iu(r))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>iu(r))).join(",")),`Target(${i})`})(Ts(n))}; limitType=${n.limitType})`}function Qm(n,e){return e.isFoundDocument()&&(function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):Ze.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)})(n,e)&&(function(i,r){for(const s of Fh(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0})(n,e)&&(function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0})(n,e)&&(function(i,r){return!(i.startAt&&!(function(o,c,h){const f=YT(o,c,h);return o.inclusive?f<=0:f<0})(i.startAt,Fh(i),r)||i.endAt&&!(function(o,c,h){const f=YT(o,c,h);return o.inclusive?f>=0:f>0})(i.endAt,Fh(i),r))})(n,e)}function iM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function E4(n){return(e,t)=>{let i=!1;for(const r of Fh(n)){const s=rM(r,e,t);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function rM(n,e,t){const i=n.field.isKeyField()?Ze.comparator(e.key,t.key):(function(s,o,c){const h=o.data.field(s),f=c.data.field(s);return h!==null&&f!==null?nu(h,f):tt(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return tt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ko(this.inner,((t,i)=>{for(const[r,s]of i)e(r,s)}))}isEmpty(){return i4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=new gn(Ze.comparator);function pa(){return sM}const T4=new gn(Ze.comparator);function Rh(...n){let e=T4;for(const t of n)e=e.insert(t.key,t);return e}function S4(n){let e=T4;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function pl(){return Lh()}function w4(){return Lh()}function Lh(){return new kl((n=>n.toString()),((n,e)=>n.isEqual(e)))}const aM=new gn(Ze.comparator),oM=new qn(Ze.comparator);function Et(...n){let e=oM;for(const t of n)e=e.add(t);return e}const lM=new qn(xt);function cM(){return lM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rm(e)?"-0":e}}function b4(n){return{integerValue:""+n}}function uM(n,e){return LN(e)?b4(e):mv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(){this._=void 0}}function hM(n,e,t){return n instanceof sf?(function(r,s){const o={fields:{[a4]:{stringValue:s4},[l4]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&uv(s)&&(s=$m(s)),s&&(o.fields[o4]=s),{mapValue:o}})(t,e):n instanceof af?C4(n,e):n instanceof of?R4(n,e):(function(r,s){const o=A4(r,s),c=QT(o)+QT(r.Ae);return E_(o)&&E_(r.Ae)?b4(c):mv(r.serializer,c)})(n,e)}function fM(n,e,t){return n instanceof af?C4(n,e):n instanceof of?R4(n,e):t}function A4(n,e){return n instanceof lm?(function(i){return E_(i)||(function(s){return!!s&&"doubleValue"in s})(i)})(e)?e:{integerValue:0}:null}class sf extends Zm{}class af extends Zm{constructor(e){super(),this.elements=e}}function C4(n,e){const t=I4(e);for(const i of n.elements)t.some((r=>Is(r,i)))||t.push(i);return{arrayValue:{values:t}}}class of extends Zm{constructor(e){super(),this.elements=e}}function R4(n,e){let t=I4(e);for(const i of n.elements)t=t.filter((r=>!Is(r,i)));return{arrayValue:{values:t}}}class lm extends Zm{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function QT(n){return bn(n.integerValue||n.doubleValue)}function I4(n){return hv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,t){this.field=e,this.transform=t}}function mM(n,e){return n.field.isEqual(e.field)&&(function(i,r){return i instanceof af&&r instanceof af||i instanceof of&&r instanceof of?tu(i.elements,r.elements,Is):i instanceof lm&&r instanceof lm?Is(i.Ae,r.Ae):i instanceof sf&&r instanceof sf})(n.transform,e.transform)}class gM{constructor(e,t){this.version=e,this.transformResults=t}}class Jr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Jr}static exists(e){return new Jr(void 0,e)}static updateTime(e){return new Jr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function G0(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Jm{}function D4(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new gv(n.key,Jr.none()):new Df(n.key,n.data,Jr.none());{const t=n.data,i=Wi.empty();let r=new qn(ui.comparator);for(let s of e.fields)if(!r.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Po(n.key,i,new fr(r.toArray()),Jr.none())}}function pM(n,e,t){n instanceof Df?(function(r,s,o){const c=r.value.clone(),h=JT(r.fieldTransforms,s,o.transformResults);c.setAll(h),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(n,e,t):n instanceof Po?(function(r,s,o){if(!G0(r.precondition,s))return void s.convertToUnknownDocument(o.version);const c=JT(r.fieldTransforms,s,o.transformResults),h=s.data;h.setAll(O4(r)),h.setAll(c),s.convertToFoundDocument(o.version,h).setHasCommittedMutations()})(n,e,t):(function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,t)}function Bh(n,e,t,i){return n instanceof Df?(function(s,o,c,h){if(!G0(s.precondition,o))return c;const f=s.value.clone(),m=eS(s.fieldTransforms,h,o);return f.setAll(m),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null})(n,e,t,i):n instanceof Po?(function(s,o,c,h){if(!G0(s.precondition,o))return c;const f=eS(s.fieldTransforms,h,o),m=o.data;return m.setAll(O4(s)),m.setAll(f),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((p=>p.field)))})(n,e,t,i):(function(s,o,c){return G0(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c})(n,e,t)}function _M(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=A4(i.transform,r||null);s!=null&&(t===null&&(t=Wi.empty()),t.set(i.field,s))}return t||null}function ZT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&tu(i,r,((s,o)=>mM(s,o)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Df extends Jm{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Po extends Jm{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function O4(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function JT(n,e,t){const i=new Map;Lt(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let r=0;r<t.length;r++){const s=n[r],o=s.transform,c=e.data.field(s.field);i.set(s.field,fM(o,c,t[r]))}return i}function eS(n,e,t){const i=new Map;for(const r of n){const s=r.transform,o=t.data.field(r.field);i.set(r.field,hM(s,o,e))}return i}class gv extends Jm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vM extends Jm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&pM(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Bh(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Bh(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=w4();return this.mutations.forEach((r=>{const s=e.get(r.key),o=s.overlayedDocument;let c=this.applyToLocalView(o,s.mutatedFields);c=t.has(r.key)?null:c;const h=D4(o,c);h!==null&&i.set(r.key,h),o.isValidDocument()||o.convertToNoDocument(it.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Et())}isEqual(e){return this.batchId===e.batchId&&tu(this.mutations,e.mutations,((t,i)=>ZT(t,i)))&&tu(this.baseMutations,e.baseMutations,((t,i)=>ZT(t,i)))}}class pv{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Lt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let r=(function(){return aM})();const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new pv(e,t,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kn,St;function TM(n){switch(n){case be.OK:return tt(64938);case be.CANCELLED:case be.UNKNOWN:case be.DEADLINE_EXCEEDED:case be.RESOURCE_EXHAUSTED:case be.INTERNAL:case be.UNAVAILABLE:case be.UNAUTHENTICATED:return!1;case be.INVALID_ARGUMENT:case be.NOT_FOUND:case be.ALREADY_EXISTS:case be.PERMISSION_DENIED:case be.FAILED_PRECONDITION:case be.ABORTED:case be.OUT_OF_RANGE:case be.UNIMPLEMENTED:case be.DATA_LOSS:return!0;default:return tt(15467,{code:n})}}function N4(n){if(n===void 0)return ga("GRPC error has no .code"),be.UNKNOWN;switch(n){case kn.OK:return be.OK;case kn.CANCELLED:return be.CANCELLED;case kn.UNKNOWN:return be.UNKNOWN;case kn.DEADLINE_EXCEEDED:return be.DEADLINE_EXCEEDED;case kn.RESOURCE_EXHAUSTED:return be.RESOURCE_EXHAUSTED;case kn.INTERNAL:return be.INTERNAL;case kn.UNAVAILABLE:return be.UNAVAILABLE;case kn.UNAUTHENTICATED:return be.UNAUTHENTICATED;case kn.INVALID_ARGUMENT:return be.INVALID_ARGUMENT;case kn.NOT_FOUND:return be.NOT_FOUND;case kn.ALREADY_EXISTS:return be.ALREADY_EXISTS;case kn.PERMISSION_DENIED:return be.PERMISSION_DENIED;case kn.FAILED_PRECONDITION:return be.FAILED_PRECONDITION;case kn.ABORTED:return be.ABORTED;case kn.OUT_OF_RANGE:return be.OUT_OF_RANGE;case kn.UNIMPLEMENTED:return be.UNIMPLEMENTED;case kn.DATA_LOSS:return be.DATA_LOSS;default:return tt(39323,{code:n})}}(St=kn||(kn={}))[St.OK=0]="OK",St[St.CANCELLED=1]="CANCELLED",St[St.UNKNOWN=2]="UNKNOWN",St[St.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",St[St.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",St[St.NOT_FOUND=5]="NOT_FOUND",St[St.ALREADY_EXISTS=6]="ALREADY_EXISTS",St[St.PERMISSION_DENIED=7]="PERMISSION_DENIED",St[St.UNAUTHENTICATED=16]="UNAUTHENTICATED",St[St.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",St[St.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",St[St.ABORTED=10]="ABORTED",St[St.OUT_OF_RANGE=11]="OUT_OF_RANGE",St[St.UNIMPLEMENTED=12]="UNIMPLEMENTED",St[St.INTERNAL=13]="INTERNAL",St[St.UNAVAILABLE=14]="UNAVAILABLE",St[St.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM=new xo([4294967295,4294967295],0);function tS(n){const e=SM().encode(n),t=new WA;return t.update(e),new Uint8Array(t.digest())}function nS(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new xo([t,i],0),new xo([r,s],0)]}class _v{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ih(`Invalid padding: ${t}`);if(i<0)throw new Ih(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ih(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Ih(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=xo.fromNumber(this.ge)}ye(e,t,i){let r=e.add(t.multiply(xo.fromNumber(i)));return r.compare(wM)===1&&(r=new xo([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=tS(e),[i,r]=nS(t);for(let s=0;s<this.hashCount;s++){const o=this.ye(i,r,s);if(!this.we(o))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new _v(s,r,t);return i.forEach((c=>o.insert(c))),o}insert(e){if(this.ge===0)return;const t=tS(e),[i,r]=nS(t);for(let s=0;s<this.hashCount;s++){const o=this.ye(i,r,s);this.Se(o)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Ih extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Of.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new eg(it.min(),r,new gn(xt),pa(),Et())}}class Of{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Of(i,t,Et(),Et(),Et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,t,i,r){this.be=e,this.removedTargetIds=t,this.key=i,this.De=r}}class M4{constructor(e,t){this.targetId=e,this.Ce=t}}class k4{constructor(e,t,i=mi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class iS{constructor(){this.ve=0,this.Fe=rS(),this.Me=mi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Et(),t=Et(),i=Et();return this.Fe.forEach(((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:tt(38017,{changeType:s})}})),new Of(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=rS()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Lt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class bM{constructor(e){this.Ge=e,this.ze=new Map,this.je=pa(),this.Je=m0(),this.He=m0(),this.Ye=new gn(xt)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:tt(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,r)=>{this.rt(r)&&t(r)}))}st(e){const t=e.targetId,i=e.Ce.count,r=this.ot(t);if(r){const s=r.target;if(S_(s))if(i===0){const o=new Ze(s.path);this.et(t,o,Si.newNoDocument(o,it.min()))}else Lt(i===1,20013,{expectedCount:i});else{const o=this._t(t);if(o!==i){const c=this.ut(e),h=c?this.ct(c,e,o):1;if(h!==0){this.it(t);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,f)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=t;let o,c;try{o=Ao(i).toUint8Array()}catch(h){if(h instanceof r4)return eu("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new _v(o,r,s)}catch(h){return eu(h instanceof Ih?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.ge===0?null:c}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let r=0;return i.forEach((s=>{const o=this.Ge.ht(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.et(t,s,null),r++)})),r}Tt(e){const t=new Map;this.ze.forEach(((s,o)=>{const c=this.ot(o);if(c){if(s.current&&S_(c.target)){const h=new Ze(c.target.path);this.It(h).has(o)||this.Et(o,h)||this.et(o,h,Si.newNoDocument(h,e))}s.Be&&(t.set(o,s.ke()),s.qe())}}));let i=Et();this.He.forEach(((s,o)=>{let c=!0;o.forEachWhile((h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(i=i.add(s))})),this.je.forEach(((s,o)=>o.setReadTime(e)));const r=new eg(e,t,this.Ye,this.je,i);return this.je=pa(),this.Je=m0(),this.He=m0(),this.Ye=new gn(xt),r}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new iS,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new qn(xt),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new qn(xt),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||We("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new iS),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function m0(){return new gn(Ze.comparator)}function rS(){return new gn(Ze.comparator)}const AM={asc:"ASCENDING",desc:"DESCENDING"},CM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RM={and:"AND",or:"OR"};class IM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function A_(n,e){return n.useProto3Json||Xm(e)?e:{value:e}}function cm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function P4(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function DM(n,e){return cm(n,e.toTimestamp())}function Ss(n){return Lt(!!n,49232),it.fromTimestamp((function(t){const i=bo(t);return new cn(i.seconds,i.nanos)})(n))}function vv(n,e){return C_(n,e).canonicalString()}function C_(n,e){const t=(function(r){return new rn(["projects",r.projectId,"databases",r.database])})(n).child("documents");return e===void 0?t:t.child(e)}function F4(n){const e=rn.fromString(n);return Lt(z4(e),10190,{key:e.toString()}),e}function R_(n,e){return vv(n.databaseId,e.path)}function N1(n,e){const t=F4(e);if(t.get(1)!==n.databaseId.projectId)throw new Ge(be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ge(be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ze(B4(t))}function L4(n,e){return vv(n.databaseId,e)}function OM(n){const e=F4(n);return e.length===4?rn.emptyPath():B4(e)}function I_(n){return new rn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function B4(n){return Lt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function sS(n,e,t){return{name:R_(n,e),fields:t.value.mapValue.fields}}function NM(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:tt(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=(function(f,m){return f.useProto3Json?(Lt(m===void 0||typeof m=="string",58123),mi.fromBase64String(m||"")):(Lt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),mi.fromUint8Array(m||new Uint8Array))})(n,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&(function(f){const m=f.code===void 0?be.UNKNOWN:N4(f.code);return new Ge(m,f.message||"")})(o);t=new k4(i,r,s,c||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=N1(n,i.document.name),s=Ss(i.document.updateTime),o=i.document.createTime?Ss(i.document.createTime):it.min(),c=new Wi({mapValue:{fields:i.document.fields}}),h=Si.newFoundDocument(r,s,o,c),f=i.targetIds||[],m=i.removedTargetIds||[];t=new W0(f,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=N1(n,i.document),s=i.readTime?Ss(i.readTime):it.min(),o=Si.newNoDocument(r,s),c=i.removedTargetIds||[];t=new W0([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=N1(n,i.document),s=i.removedTargetIds||[];t=new W0([],s,r,null)}else{if(!("filter"in e))return tt(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new EM(r,s),c=i.targetId;t=new M4(c,o)}}return t}function MM(n,e){let t;if(e instanceof Df)t={update:sS(n,e.key,e.value)};else if(e instanceof gv)t={delete:R_(n,e.key)};else if(e instanceof Po)t={update:sS(n,e.key,e.data),updateMask:jM(e.fieldMask)};else{if(!(e instanceof vM))return tt(16599,{Vt:e.type});t={verify:R_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(s,o){const c=o.transform;if(c instanceof sf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof af)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof of)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof lm)return{fieldPath:o.field.canonicalString(),increment:c.Ae};throw tt(20930,{transform:o.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(r,s){return s.updateTime!==void 0?{updateTime:DM(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:tt(27497)})(n,e.precondition)),t}function kM(n,e){return n&&n.length>0?(Lt(e!==void 0,14353),n.map((t=>(function(r,s){let o=r.updateTime?Ss(r.updateTime):Ss(s);return o.isEqual(it.min())&&(o=Ss(s)),new gM(o,r.transformResults||[])})(t,e)))):[]}function PM(n,e){return{documents:[L4(n,e.path)]}}function FM(n,e){const t={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=L4(n,r);const s=(function(f){if(f.length!==0)return U4(ns.create(f,"and"))})(e.filters);s&&(t.structuredQuery.where=s);const o=(function(f){if(f.length!==0)return f.map((m=>(function(v){return{field:Pc(v.field),direction:VM(v.dir)}})(m)))})(e.orderBy);o&&(t.structuredQuery.orderBy=o);const c=A_(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:t,parent:r}}function LM(n){let e=OM(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Lt(i===1,65062);const m=t.from[0];m.allDescendants?r=m.collectionId:e=e.child(m.collectionId)}let s=[];t.where&&(s=(function(p){const v=V4(p);return v instanceof ns&&m4(v)?v.getFilters():[v]})(t.where));let o=[];t.orderBy&&(o=(function(p){return p.map((v=>(function(T){return new rf(Fc(T.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(v)))})(t.orderBy));let c=null;t.limit&&(c=(function(p){let v;return v=typeof p=="object"?p.value:p,Xm(v)?null:v})(t.limit));let h=null;t.startAt&&(h=(function(p){const v=!!p.before,x=p.values||[];return new om(x,v)})(t.startAt));let f=null;return t.endAt&&(f=(function(p){const v=!p.before,x=p.values||[];return new om(x,v)})(t.endAt)),tM(e,r,o,s,c,"F",h,f)}function BM(n,e){const t=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tt(28987,{purpose:r})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function V4(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Fc(t.unaryFilter.field);return Pn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Fc(t.unaryFilter.field);return Pn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Fc(t.unaryFilter.field);return Pn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Fc(t.unaryFilter.field);return Pn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return tt(61313);default:return tt(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Pn.create(Fc(t.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return tt(58110);default:return tt(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ns.create(t.compositeFilter.filters.map((i=>V4(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return tt(1026)}})(t.compositeFilter.op))})(n):tt(30097,{filter:n})}function VM(n){return AM[n]}function UM(n){return CM[n]}function zM(n){return RM[n]}function Pc(n){return{fieldPath:n.canonicalString()}}function Fc(n){return ui.fromServerFormat(n.fieldPath)}function U4(n){return n instanceof Pn?(function(t){if(t.op==="=="){if(WT(t.value))return{unaryFilter:{field:Pc(t.field),op:"IS_NAN"}};if(GT(t.value))return{unaryFilter:{field:Pc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(WT(t.value))return{unaryFilter:{field:Pc(t.field),op:"IS_NOT_NAN"}};if(GT(t.value))return{unaryFilter:{field:Pc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pc(t.field),op:UM(t.op),value:t.value}}})(n):n instanceof ns?(function(t){const i=t.getFilters().map((r=>U4(r)));return i.length===1?i[0]:{compositeFilter:{op:zM(t.op),filters:i}}})(n):tt(54877,{filter:n})}function jM(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function z4(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,t,i,r,s=it.min(),o=it.min(),c=mi.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new uo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e){this.yt=e}}function qM(n){const e=LM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?b_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(){this.Cn=new WM}addToCollectionParentIndex(e,t){return this.Cn.add(t),Ae.resolve()}getCollectionParents(e,t){return Ae.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Ae.resolve()}deleteFieldIndex(e,t){return Ae.resolve()}deleteAllFieldIndexes(e){return Ae.resolve()}createTargetIndexes(e,t){return Ae.resolve()}getDocumentsMatchingTarget(e,t){return Ae.resolve(null)}getIndexType(e,t){return Ae.resolve(0)}getFieldIndexes(e,t){return Ae.resolve([])}getNextCollectionGroupToUpdate(e){return Ae.resolve(null)}getMinOffset(e,t){return Ae.resolve(wo.min())}getMinOffsetFromCollectionGroup(e,t){return Ae.resolve(wo.min())}updateCollectionGroup(e,t,i){return Ae.resolve()}updateIndexEntries(e,t){return Ae.resolve()}}class WM{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new qn(rn.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new qn(rn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},j4=41943040;class Gi{static withCacheSize(e){return new Gi(e,Gi.DEFAULT_COLLECTION_PERCENTILE,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gi.DEFAULT_COLLECTION_PERCENTILE=10,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gi.DEFAULT=new Gi(j4,Gi.DEFAULT_COLLECTION_PERCENTILE,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gi.DISABLED=new Gi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ru(0)}static cr(){return new ru(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS="LruGarbageCollector",YM=1048576;function lS([n,e],[t,i]){const r=xt(n,t);return r===0?xt(e,i):r}class XM{constructor(e){this.Ir=e,this.buffer=new qn(lS),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();lS(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class $M{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){We(oS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){gu(t)?We(oS,"Ignoring IndexedDB error during garbage collection: ",t):await mu(t)}await this.Vr(3e5)}))}}class KM{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return Ae.resolve(Ym.ce);const i=new XM(t);return this.mr.forEachTarget(e,(r=>i.Ar(r.sequenceNumber))).next((()=>this.mr.pr(e,(r=>i.Ar(r))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(We("LruGarbageCollector","Garbage collection skipped; disabled"),Ae.resolve(aS)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(We("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aS):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,r,s,o,c,h,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(We("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,o=Date.now(),this.nthSequenceNumber(e,r)))).next((p=>(i=p,c=Date.now(),this.removeTargets(e,i,t)))).next((p=>(s=p,h=Date.now(),this.removeOrphanedDocuments(e,i)))).next((p=>(f=Date.now(),Mc()<=yt.DEBUG&&We("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-m}ms
	Determined least recently used ${r} in `+(c-o)+`ms
	Removed ${s} targets in `+(h-c)+`ms
	Removed ${p} documents in `+(f-h)+`ms
Total Duration: ${f-m}ms`),Ae.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:p}))))}}function QM(n,e){return new KM(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(){this.changes=new kl((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Si.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Ae.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(i=r,this.remoteDocumentCache.getEntry(e,t)))).next((r=>(i!==null&&Bh(i.mutation,r,fr.empty(),cn.now()),r)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Et()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Et()){const r=pl();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,i).next((s=>{let o=Rh();return s.forEach(((c,h)=>{o=o.insert(c,h.overlayedDocument)})),o}))))}getOverlayedDocuments(e,t){const i=pl();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Et())))}populateOverlays(e,t,i){const r=[];return i.forEach((s=>{t.has(s)||r.push(s)})),this.documentOverlayCache.getOverlays(e,r).next((s=>{s.forEach(((o,c)=>{t.set(o,c)}))}))}computeViews(e,t,i,r){let s=pa();const o=Lh(),c=(function(){return Lh()})();return t.forEach(((h,f)=>{const m=i.get(f.key);r.has(f.key)&&(m===void 0||m.mutation instanceof Po)?s=s.insert(f.key,f):m!==void 0?(o.set(f.key,m.mutation.getFieldMask()),Bh(m.mutation,f,m.mutation.getFieldMask(),cn.now())):o.set(f.key,fr.empty())})),this.recalculateAndSaveOverlays(e,s).next((h=>(h.forEach(((f,m)=>o.set(f,m))),t.forEach(((f,m)=>c.set(f,new JM(m,o.get(f)??null)))),c)))}recalculateAndSaveOverlays(e,t){const i=Lh();let r=new gn(((o,c)=>o-c)),s=Et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((o=>{for(const c of o)c.keys().forEach((h=>{const f=t.get(h);if(f===null)return;let m=i.get(h)||fr.empty();m=c.applyToLocalView(f,m),i.set(h,m);const p=(r.get(c.batchId)||Et()).add(h);r=r.insert(c.batchId,p)}))})).next((()=>{const o=[],c=r.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),f=h.key,m=h.value,p=w4();m.forEach((v=>{if(!s.has(v)){const x=D4(t.get(v),i.get(v));x!==null&&p.set(v,x),s=s.add(v)}})),o.push(this.documentOverlayCache.saveOverlays(e,f,p))}return Ae.waitFor(o)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,r){return(function(o){return Ze.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):y4(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next((s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):Ae.resolve(pl());let c=Jh,h=s;return o.next((f=>Ae.forEach(f,((m,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),s.get(m)?Ae.resolve():this.remoteDocumentCache.getEntry(e,m).next((v=>{h=h.insert(m,v)}))))).next((()=>this.populateOverlays(e,f,s))).next((()=>this.computeViews(e,h,f,Et()))).next((m=>({batchId:c,changes:S4(m)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ze(t)).next((i=>{let r=Rh();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const s=t.collectionGroup;let o=Rh();return this.indexManager.getCollectionParents(e,s).next((c=>Ae.forEach(c,(h=>{const f=(function(p,v){return new pu(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,h.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,i,r).next((m=>{m.forEach(((p,v)=>{o=o.insert(p,v)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,s,r)))).next((o=>{s.forEach(((h,f)=>{const m=f.getKey();o.get(m)===null&&(o=o.insert(m,Si.newInvalidDocument(m)))}));let c=Rh();return o.forEach(((h,f)=>{const m=s.get(h);m!==void 0&&Bh(m.mutation,f,fr.empty(),cn.now()),Qm(t,f)&&(c=c.insert(h,f))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Ae.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(r){return{id:r.id,version:r.version,createTime:Ss(r.createTime)}})(t)),Ae.resolve()}getNamedQuery(e,t){return Ae.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(r){return{name:r.name,query:qM(r.bundledQuery),readTime:Ss(r.readTime)}})(t)),Ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(){this.overlays=new gn(Ze.comparator),this.qr=new Map}getOverlay(e,t){return Ae.resolve(this.overlays.get(t))}getOverlays(e,t){const i=pl();return Ae.forEach(t,(r=>this.getOverlay(e,r).next((s=>{s!==null&&i.set(r,s)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((r,s)=>{this.St(e,t,s)})),Ae.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(i)),Ae.resolve()}getOverlaysForCollection(e,t,i){const r=pl(),s=t.length+1,o=new Ze(t.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const h=c.getNext().value,f=h.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===s&&h.largestBatchId>i&&r.set(h.getKey(),h)}return Ae.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new gn(((f,m)=>f-m));const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>i){let m=s.get(f.largestBatchId);m===null&&(m=pl(),s=s.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const c=pl(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((f,m)=>c.set(f,m))),!(c.size()>=r)););return Ae.resolve(c)}St(e,t,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new xM(t,i));let s=this.qr.get(t);s===void 0&&(s=Et(),this.qr.set(t,s)),this.qr.set(t,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(){this.sessionToken=mi.EMPTY_BYTE_STRING}getSessionToken(e){return Ae.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(){this.Qr=new qn($n.$r),this.Ur=new qn($n.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new $n(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new $n(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new Ze(new rn([])),i=new $n(t,e),r=new $n(t,e+1),s=[];return this.Ur.forEachInRange([i,r],(o=>{this.Gr(o),s.push(o.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ze(new rn([])),i=new $n(t,e),r=new $n(t,e+1);let s=Et();return this.Ur.forEachInRange([i,r],(o=>{s=s.add(o.key)})),s}containsKey(e){const t=new $n(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class $n{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ze.comparator(e.key,t.key)||xt(e.Yr,t.Yr)}static Kr(e,t){return xt(e.Yr,t.Yr)||Ze.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new qn($n.$r)}checkEmpty(e){return Ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new yM(s,t,i,r);this.mutationQueue.push(o);for(const c of r)this.Zr=this.Zr.add(new $n(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Ae.resolve(o)}lookupMutationBatch(e,t){return Ae.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=this.ei(i),s=r<0?0:r;return Ae.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(this.mutationQueue.length===0?cv:this.tr-1)}getAllMutationBatches(e){return Ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new $n(t,0),r=new $n(t,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([i,r],(o=>{const c=this.Xr(o.Yr);s.push(c)})),Ae.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new qn(xt);return t.forEach((r=>{const s=new $n(r,0),o=new $n(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],(c=>{i=i.add(c.Yr)}))})),Ae.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;Ze.isDocumentKey(s)||(s=s.child(""));const o=new $n(new Ze(s),0);let c=new qn(xt);return this.Zr.forEachWhile((h=>{const f=h.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(c=c.add(h.Yr)),!0)}),o),Ae.resolve(this.ti(c))}ti(e){const t=[];return e.forEach((i=>{const r=this.Xr(i);r!==null&&t.push(r)})),t}removeMutationBatch(e,t){Lt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return Ae.forEach(t.mutations,(r=>{const s=new $n(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new $n(t,0),r=this.Zr.firstAfterOrEqual(i);return Ae.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ae.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e){this.ri=e,this.docs=(function(){return new gn(Ze.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,o=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Ae.resolve(i?i.document.mutableCopy():Si.newInvalidDocument(t))}getEntries(e,t){let i=pa();return t.forEach((r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Si.newInvalidDocument(r))})),Ae.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=pa();const o=t.path,c=new Ze(o.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:f,value:{document:m}}=h.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||MN(NN(m),i)<=0||(r.has(m.key)||Qm(t,m))&&(s=s.insert(m.key,m.mutableCopy()))}return Ae.resolve(s)}getAllFromCollectionGroup(e,t,i,r){tt(9500)}ii(e,t){return Ae.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new ak(this)}getSize(e){return Ae.resolve(this.size)}}class ak extends ZM{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(i)})),Ae.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e){this.persistence=e,this.si=new kl((t=>fv(t)),dv),this.lastRemoteSnapshotVersion=it.min(),this.highestTargetId=0,this.oi=0,this._i=new yv,this.targetCount=0,this.ai=ru.ur()}forEachTarget(e,t){return this.si.forEach(((i,r)=>t(r))),Ae.resolve()}getLastRemoteSnapshotVersion(e){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),Ae.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ru(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Ae.resolve()}updateTargetData(e,t){return this.Pr(t),Ae.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.si.forEach(((o,c)=>{c.sequenceNumber<=t&&i.get(c.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),r++)})),Ae.waitFor(s).next((()=>r))}getTargetCount(e){return Ae.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return Ae.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),Ae.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach((o=>{s.push(r.markPotentiallyOrphaned(e,o))})),Ae.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Ae.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return Ae.resolve(i)}containsKey(e,t){return Ae.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ym(0),this.li=!1,this.li=!0,this.hi=new ik,this.referenceDelegate=e(this),this.Pi=new ok(this),this.indexManager=new GM,this.remoteDocumentCache=(function(r){return new sk(r)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new HM(t),this.Ii=new tk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new nk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new rk(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){We("MemoryPersistence","Starting transaction:",e);const r=new lk(this.ci.next());return this.referenceDelegate.Ei(),i(r).next((s=>this.referenceDelegate.di(r).next((()=>s)))).toPromise().then((s=>(r.raiseOnCommittedEvent(),s)))}Ai(e,t){return Ae.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class lk extends PN{constructor(e){super(),this.currentSequenceNumber=e}}class xv{constructor(e){this.persistence=e,this.Ri=new yv,this.Vi=null}static mi(e){return new xv(e)}get fi(){if(this.Vi)return this.Vi;throw tt(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),Ae.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),Ae.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Ae.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((r=>this.fi.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((r=>{r.forEach((s=>this.fi.add(s.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.fi,(i=>{const r=Ze.fromPath(i);return this.gi(e,r).next((s=>{s||t.removeEntry(r,it.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Ae.or([()=>Ae.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class um{constructor(e,t){this.persistence=e,this.pi=new kl((i=>BN(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=QM(this,t)}static mi(e,t){return new um(e,t)}Ei(){}di(e){return Ae.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((r=>i+r))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return Ae.forEach(this.pi,((i,r)=>this.br(e,i,r).next((s=>s?Ae.resolve():t(r)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ii(e,(o=>this.br(e,o,t).next((c=>{c||(i++,s.removeEntry(o,it.min()))})))).next((()=>s.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Ae.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),Ae.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),Ae.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Ae.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=H0(e.data.value)),t}br(e,t,i){return Ae.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.pi.get(t);return Ae.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=r}static As(e,t){let i=Et(),r=Et();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Ev(e,t.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return n5()?8:FN(Ri())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,r){const s={result:null};return this.ys(e,t).next((o=>{s.result=o})).next((()=>{if(!s.result)return this.ws(e,t,r,i).next((o=>{s.result=o}))})).next((()=>{if(s.result)return;const o=new ck;return this.Ss(e,t,o).next((c=>{if(s.result=c,this.Vs)return this.bs(e,t,o,c.size)}))})).next((()=>s.result))}bs(e,t,i,r){return i.documentReadCount<this.fs?(Mc()<=yt.DEBUG&&We("QueryEngine","SDK will not create cache indexes for query:",kc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ae.resolve()):(Mc()<=yt.DEBUG&&We("QueryEngine","Query:",kc(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(Mc()<=yt.DEBUG&&We("QueryEngine","The SDK decides to create cache indexes for query:",kc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ts(t))):Ae.resolve())}ys(e,t){if(KT(t))return Ae.resolve(null);let i=Ts(t);return this.indexManager.getIndexType(e,i).next((r=>r===0?null:(t.limit!==null&&r===1&&(t=b_(t,null,"F"),i=Ts(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((s=>{const o=Et(...s);return this.ps.getDocuments(e,o).next((c=>this.indexManager.getMinOffset(e,i).next((h=>{const f=this.Ds(t,c);return this.Cs(t,f,o,h.readTime)?this.ys(e,b_(t,null,"F")):this.vs(e,f,t,h)}))))})))))}ws(e,t,i,r){return KT(t)||r.isEqual(it.min())?Ae.resolve(null):this.ps.getDocuments(e,i).next((s=>{const o=this.Ds(t,s);return this.Cs(t,o,i,r)?Ae.resolve(null):(Mc()<=yt.DEBUG&&We("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),kc(t)),this.vs(e,o,t,ON(r,Jh)).next((c=>c)))}))}Ds(e,t){let i=new qn(E4(e));return t.forEach(((r,s)=>{Qm(e,s)&&(i=i.add(s))})),i}Cs(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(e,t,i){return Mc()<=yt.DEBUG&&We("QueryEngine","Using full collection scan to execute query:",kc(t)),this.ps.getDocumentsMatchingQuery(e,t,wo.min(),i)}vs(e,t,i,r){return this.ps.getDocumentsMatchingQuery(e,i,r).next((s=>(t.forEach((o=>{s=s.insert(o.key,o)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="LocalStore",hk=3e8;class fk{constructor(e,t,i,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new gn(xt),this.xs=new kl((s=>fv(s)),dv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ek(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function dk(n,e,t,i){return new fk(n,e,t,i)}async function q4(n,e){const t=at(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next((s=>(r=s,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((s=>{const o=[],c=[];let h=Et();for(const f of r){o.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}for(const f of s){c.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}return t.localDocuments.getDocuments(i,h).next((f=>({Ls:f,removedBatchIds:o,addedBatchIds:c})))}))}))}function mk(n,e){const t=at(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=e.batch.keys(),s=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,h,f,m){const p=f.batch,v=p.keys();let x=Ae.resolve();return v.forEach((T=>{x=x.next((()=>m.getEntry(h,T))).next((E=>{const S=f.docVersions.get(T);Lt(S!==null,48541),E.version.compareTo(S)<0&&(p.applyToRemoteDocument(E,f),E.isValidDocument()&&(E.setReadTime(f.commitVersion),m.addEntry(E)))}))})),x.next((()=>c.mutationQueue.removeMutationBatch(h,p)))})(t,i,e,s).next((()=>s.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(c){let h=Et();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(h=h.add(c.batch.mutations[f].key));return h})(e)))).next((()=>t.localDocuments.getDocuments(i,r)))}))}function G4(n){const e=at(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function gk(n,e){const t=at(n),i=e.snapshotVersion;let r=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const o=t.Ns.newChangeBuffer({trackRemovals:!0});r=t.Ms;const c=[];e.targetChanges.forEach(((m,p)=>{const v=r.get(p);if(!v)return;c.push(t.Pi.removeMatchingKeys(s,m.removedDocuments,p).next((()=>t.Pi.addMatchingKeys(s,m.addedDocuments,p))));let x=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?x=x.withResumeToken(mi.EMPTY_BYTE_STRING,it.min()).withLastLimboFreeSnapshotVersion(it.min()):m.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(m.resumeToken,i)),r=r.insert(p,x),(function(E,S,C){return E.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=hk?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(v,x,m)&&c.push(t.Pi.updateTargetData(s,x))}));let h=pa(),f=Et();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(s,m))})),c.push(pk(s,o,e.documentUpdates).next((m=>{h=m.ks,f=m.qs}))),!i.isEqual(it.min())){const m=t.Pi.getLastRemoteSnapshotVersion(s).next((p=>t.Pi.setTargetsMetadata(s,s.currentSequenceNumber,i)));c.push(m)}return Ae.waitFor(c).next((()=>o.apply(s))).next((()=>t.localDocuments.getLocalViewOfDocuments(s,h,f))).next((()=>h))})).then((s=>(t.Ms=r,s)))}function pk(n,e,t){let i=Et(),r=Et();return t.forEach((s=>i=i.add(s))),e.getEntries(n,i).next((s=>{let o=pa();return t.forEach(((c,h)=>{const f=s.get(c);h.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(c)),h.isNoDocument()&&h.version.isEqual(it.min())?(e.removeEntry(c,h.readTime),o=o.insert(c,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),o=o.insert(c,h)):We(Tv,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",h.version)})),{ks:o,qs:r}}))}function _k(n,e){const t=at(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=cv),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function vk(n,e){const t=at(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return t.Pi.getTargetData(i,e).next((s=>s?(r=s,Ae.resolve(r)):t.Pi.allocateTargetId(i).next((o=>(r=new uo(e,o,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=t.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function D_(n,e,t){const i=at(n),r=i.Ms.get(e),s=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",s,(o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!gu(o))throw o;We(Tv,`Failed to update sequence numbers for target ${e}: ${o}`)}i.Ms=i.Ms.remove(e),i.xs.delete(r.target)}function cS(n,e,t){const i=at(n);let r=it.min(),s=Et();return i.persistence.runTransaction("Execute query","readwrite",(o=>(function(h,f,m){const p=at(h),v=p.xs.get(m);return v!==void 0?Ae.resolve(p.Ms.get(v)):p.Pi.getTargetData(f,m)})(i,o,Ts(e)).next((c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(o,c.targetId).next((h=>{s=h}))})).next((()=>i.Fs.getDocumentsMatchingQuery(o,e,t?r:it.min(),t?s:Et()))).next((c=>(yk(i,iM(e),c),{documents:c,Qs:s})))))}function yk(n,e,t){let i=n.Os.get(e)||it.min();t.forEach(((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)})),n.Os.set(e,i)}class uS{constructor(){this.activeTargetIds=cM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xk{constructor(){this.Mo=new uS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new uS,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="ConnectivityMonitor";class fS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){We(hS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){We(hS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let g0=null;function O_(){return g0===null?g0=(function(){return 268435456+Math.round(2147483648*Math.random())})():g0++,"0x"+g0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="RestConnection",Tk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Sk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===sm?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(e,t,i,r,s){const o=O_(),c=this.zo(e,t.toUriEncodedString());We(M1,`Sending RPC '${e}' ${o}:`,c,i);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,r,s);const{host:f}=new URL(c),m=hu(f);return this.Jo(e,c,h,i,m).then((p=>(We(M1,`Received RPC '${e}' ${o}: `,p),p)),(p=>{throw eu(M1,`RPC '${e}' ${o} failed with error: `,p,"url: ",c,"request:",i),p}))}Ho(e,t,i,r,s,o){return this.Go(e,t,i,r,s)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+du})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((r,s)=>e[s]=r)),i&&i.headers.forEach(((r,s)=>e[s]=r))}zo(e,t){const i=Tk[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi="WebChannelConnection";class bk extends Sk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,r,s){const o=O_();return new Promise(((c,h)=>{const f=new YA;f.setWithCredentials(!0),f.listenOnce(XA.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case j0.NO_ERROR:const p=f.getResponseJson();We(xi,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),c(p);break;case j0.TIMEOUT:We(xi,`RPC '${e}' ${o} timed out`),h(new Ge(be.DEADLINE_EXCEEDED,"Request time out"));break;case j0.HTTP_ERROR:const v=f.getStatus();if(We(xi,`RPC '${e}' ${o} failed with status:`,v,"response text:",f.getResponseText()),v>0){let x=f.getResponseJson();Array.isArray(x)&&(x=x[0]);const T=x?.error;if(T&&T.status&&T.message){const E=(function(C){const O=C.toLowerCase().replace(/_/g,"-");return Object.values(be).indexOf(O)>=0?O:be.UNKNOWN})(T.status);h(new Ge(E,T.message))}else h(new Ge(be.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new Ge(be.UNAVAILABLE,"Connection failed."));break;default:tt(9055,{l_:e,streamId:o,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{We(xi,`RPC '${e}' ${o} completed.`)}}));const m=JSON.stringify(r);We(xi,`RPC '${e}' ${o} sending request:`,r),f.send(t,"POST",m,i,15)}))}T_(e,t,i){const r=O_(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=QA(),c=KA(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,t,i),h.encodeInitMessageHeaders=!0;const m=s.join("");We(xi,`Creating RPC '${e}' stream ${r}: ${m}`,h);const p=o.createWebChannel(m,h);this.I_(p);let v=!1,x=!1;const T=new wk({Yo:S=>{x?We(xi,`Not sending because RPC '${e}' stream ${r} is closed:`,S):(v||(We(xi,`Opening RPC '${e}' stream ${r} transport.`),p.open(),v=!0),We(xi,`RPC '${e}' stream ${r} sending:`,S),p.send(S))},Zo:()=>p.close()}),E=(S,C,O)=>{S.listen(C,(N=>{try{O(N)}catch(H){setTimeout((()=>{throw H}),0)}}))};return E(p,Ch.EventType.OPEN,(()=>{x||(We(xi,`RPC '${e}' stream ${r} transport opened.`),T.o_())})),E(p,Ch.EventType.CLOSE,(()=>{x||(x=!0,We(xi,`RPC '${e}' stream ${r} transport closed`),T.a_(),this.E_(p))})),E(p,Ch.EventType.ERROR,(S=>{x||(x=!0,eu(xi,`RPC '${e}' stream ${r} transport errored. Name:`,S.name,"Message:",S.message),T.a_(new Ge(be.UNAVAILABLE,"The operation could not be completed")))})),E(p,Ch.EventType.MESSAGE,(S=>{if(!x){const C=S.data[0];Lt(!!C,16349);const O=C,N=O?.error||O[0]?.error;if(N){We(xi,`RPC '${e}' stream ${r} received error:`,N);const H=N.status;let Y=(function(D){const I=kn[D];if(I!==void 0)return N4(I)})(H),te=N.message;Y===void 0&&(Y=be.INTERNAL,te="Unknown error status: "+H+" with message "+N.message),x=!0,T.a_(new Ge(Y,te)),p.close()}else We(xi,`RPC '${e}' stream ${r} received:`,C),T.u_(C)}})),E(c,$A.STAT_EVENT,(S=>{S.stat===v_.PROXY?We(xi,`RPC '${e}' stream ${r} detected buffering proxy`):S.stat===v_.NOPROXY&&We(xi,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{T.__()}),0),T}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function k1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(n){return new IM(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,t,i=1e3,r=1.5,s=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=r,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-i);r>0&&We("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="PersistentStream";class Y4{constructor(e,t,i,r,s,o,c,h){this.Mi=e,this.S_=i,this.b_=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new W4(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===be.RESOURCE_EXHAUSTED?(ga(t.toString()),ga("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===be.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===t&&this.G_(i,r)}),(i=>{e((()=>{const r=new Ge(be.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return We(dS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(We(dS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Ak extends Y4{constructor(e,t,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=NM(this.serializer,e),i=(function(s){if(!("targetChange"in s))return it.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?it.min():o.readTime?Ss(o.readTime):it.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=I_(this.serializer),t.addTarget=(function(s,o){let c;const h=o.target;if(c=S_(h)?{documents:PM(s,h)}:{query:FM(s,h).ft},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=P4(s,o.resumeToken);const f=A_(s,o.expectedCount);f!==null&&(c.expectedCount=f)}else if(o.snapshotVersion.compareTo(it.min())>0){c.readTime=cm(s,o.snapshotVersion.toTimestamp());const f=A_(s,o.expectedCount);f!==null&&(c.expectedCount=f)}return c})(this.serializer,e);const i=BM(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=I_(this.serializer),t.removeTarget=e,this.q_(t)}}class Ck extends Y4{constructor(e,t,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Lt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Lt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Lt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=kM(e.writeResults,e.commitTime),i=Ss(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=I_(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>MM(this.serializer,i)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{}class Ik extends Rk{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Ge(be.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.Go(e,C_(t,i),r,s,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ge(be.UNKNOWN,s.toString())}))}Ho(e,t,i,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Ho(e,C_(t,i),r,o,c,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ge(be.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Dk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ga(t),this.aa=!1):We("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl="RemoteStore";class Ok{constructor(e,t,i,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((o=>{i.enqueueAndForget((async()=>{Pl(this)&&(We(bl,"Restarting streams for network reachability change."),await(async function(h){const f=at(h);f.Ea.add(4),await Nf(f),f.Ra.set("Unknown"),f.Ea.delete(4),await ng(f)})(this))}))})),this.Ra=new Dk(i,r)}}async function ng(n){if(Pl(n))for(const e of n.da)await e(!0)}async function Nf(n){for(const e of n.da)await e(!1)}function X4(n,e){const t=at(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Av(t)?bv(t):_u(t).O_()&&wv(t,e))}function Sv(n,e){const t=at(n),i=_u(t);t.Ia.delete(e),i.O_()&&$4(t,e),t.Ia.size===0&&(i.O_()?i.L_():Pl(t)&&t.Ra.set("Unknown"))}function wv(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(it.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}_u(n).Y_(e)}function $4(n,e){n.Va.Ue(e),_u(n).Z_(e)}function bv(n){n.Va=new bM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),_u(n).start(),n.Ra.ua()}function Av(n){return Pl(n)&&!_u(n).x_()&&n.Ia.size>0}function Pl(n){return at(n).Ea.size===0}function K4(n){n.Va=void 0}async function Nk(n){n.Ra.set("Online")}async function Mk(n){n.Ia.forEach(((e,t)=>{wv(n,e)}))}async function kk(n,e){K4(n),Av(n)?(n.Ra.ha(e),bv(n)):n.Ra.set("Unknown")}async function Pk(n,e,t){if(n.Ra.set("Online"),e instanceof k4&&e.state===2&&e.cause)try{await(async function(r,s){const o=s.cause;for(const c of s.targetIds)r.Ia.has(c)&&(await r.remoteSyncer.rejectListen(c,o),r.Ia.delete(c),r.Va.removeTarget(c))})(n,e)}catch(i){We(bl,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await hm(n,i)}else if(e instanceof W0?n.Va.Ze(e):e instanceof M4?n.Va.st(e):n.Va.tt(e),!t.isEqual(it.min()))try{const i=await G4(n.localStore);t.compareTo(i)>=0&&await(function(s,o){const c=s.Va.Tt(o);return c.targetChanges.forEach(((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const m=s.Ia.get(f);m&&s.Ia.set(f,m.withResumeToken(h.resumeToken,o))}})),c.targetMismatches.forEach(((h,f)=>{const m=s.Ia.get(h);if(!m)return;s.Ia.set(h,m.withResumeToken(mi.EMPTY_BYTE_STRING,m.snapshotVersion)),$4(s,h);const p=new uo(m.target,h,f,m.sequenceNumber);wv(s,p)})),s.remoteSyncer.applyRemoteEvent(c)})(n,t)}catch(i){We(bl,"Failed to raise snapshot:",i),await hm(n,i)}}async function hm(n,e,t){if(!gu(e))throw e;n.Ea.add(1),await Nf(n),n.Ra.set("Offline"),t||(t=()=>G4(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{We(bl,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await ng(n)}))}function Q4(n,e){return e().catch((t=>hm(n,t,e)))}async function ig(n){const e=at(n),t=Ro(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:cv;for(;Fk(e);)try{const r=await _k(e.localStore,i);if(r===null){e.Ta.length===0&&t.L_();break}i=r.batchId,Lk(e,r)}catch(r){await hm(e,r)}Z4(e)&&J4(e)}function Fk(n){return Pl(n)&&n.Ta.length<10}function Lk(n,e){n.Ta.push(e);const t=Ro(n);t.O_()&&t.X_&&t.ea(e.mutations)}function Z4(n){return Pl(n)&&!Ro(n).x_()&&n.Ta.length>0}function J4(n){Ro(n).start()}async function Bk(n){Ro(n).ra()}async function Vk(n){const e=Ro(n);for(const t of n.Ta)e.ea(t.mutations)}async function Uk(n,e,t){const i=n.Ta.shift(),r=pv.from(i,e,t);await Q4(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await ig(n)}async function zk(n,e){e&&Ro(n).X_&&await(async function(i,r){if((function(o){return TM(o)&&o!==be.ABORTED})(r.code)){const s=i.Ta.shift();Ro(i).B_(),await Q4(i,(()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r))),await ig(i)}})(n,e),Z4(n)&&J4(n)}async function mS(n,e){const t=at(n);t.asyncQueue.verifyOperationInProgress(),We(bl,"RemoteStore received new credentials");const i=Pl(t);t.Ea.add(3),await Nf(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await ng(t)}async function jk(n,e){const t=at(n);e?(t.Ea.delete(2),await ng(t)):e||(t.Ea.add(2),await Nf(t),t.Ra.set("Unknown"))}function _u(n){return n.ma||(n.ma=(function(t,i,r){const s=at(t);return s.sa(),new Ak(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)})(n.datastore,n.asyncQueue,{Xo:Nk.bind(null,n),t_:Mk.bind(null,n),r_:kk.bind(null,n),H_:Pk.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Av(n)?bv(n):n.Ra.set("Unknown")):(await n.ma.stop(),K4(n))}))),n.ma}function Ro(n){return n.fa||(n.fa=(function(t,i,r){const s=at(t);return s.sa(),new Ck(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:Bk.bind(null,n),r_:zk.bind(null,n),ta:Vk.bind(null,n),na:Uk.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await ig(n)):(await n.fa.stop(),n.Ta.length>0&&(We(bl,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Eo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,s){const o=Date.now()+i,c=new Cv(e,t,o,r,s);return c.start(i),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ge(be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rv(n,e){if(ga("AsyncQueue",`${e}: ${n}`),gu(n))return new Ge(be.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{static emptySet(e){return new zc(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ze.comparator(t.key,i.key):(t,i)=>Ze.comparator(t.key,i.key),this.keyedMap=Rh(),this.sortedSet=new gn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof zc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new zc;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(){this.ga=new gn(Ze.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):tt(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class su{constructor(e,t,i,r,s,o,c,h,f){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,t,i,r,s){const o=[];return t.forEach((c=>{o.push({type:0,doc:c})})),new su(e,t,zc.emptySet(t),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Km(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class qk{constructor(){this.queries=pS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const r=at(t),s=r.queries;r.queries=pS(),s.forEach(((o,c)=>{for(const h of c.Sa)h.onError(i)}))})(this,new Ge(be.ABORTED,"Firestore shutting down"))}}function pS(){return new kl((n=>x4(n)),Km)}async function Gk(n,e){const t=at(n);let i=3;const r=e.query;let s=t.queries.get(r);s?!s.ba()&&e.Da()&&(i=2):(s=new Hk,i=e.Da()?0:1);try{switch(i){case 0:s.wa=await t.onListen(r,!0);break;case 1:s.wa=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(o){const c=Rv(o,`Initialization of query '${kc(e.query)}' failed`);return void e.onError(c)}t.queries.set(r,s),s.Sa.push(e),e.va(t.onlineState),s.wa&&e.Fa(s.wa)&&Iv(t)}async function Wk(n,e){const t=at(n),i=e.query;let r=3;const s=t.queries.get(i);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?r=e.Da()?0:1:!s.ba()&&e.Da()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function Yk(n,e){const t=at(n);let i=!1;for(const r of e){const s=r.query,o=t.queries.get(s);if(o){for(const c of o.Sa)c.Fa(r)&&(i=!0);o.wa=r}}i&&Iv(t)}function Xk(n,e,t){const i=at(n),r=i.queries.get(e);if(r)for(const s of r.Sa)s.onError(t);i.queries.delete(e)}function Iv(n){n.Ca.forEach((e=>{e.next()}))}var N_,_S;(_S=N_||(N_={})).Ma="default",_S.Cache="cache";class $k{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new su(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=su.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==N_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e){this.key=e}}class t3{constructor(e){this.key=e}}class Kk{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Et(),this.mutatedKeys=Et(),this.eu=E4(e),this.tu=new zc(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new gS,r=t?t.tu:this.tu;let s=t?t.mutatedKeys:this.mutatedKeys,o=r,c=!1;const h=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,f=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((m,p)=>{const v=r.get(m),x=Qm(this.query,p)?p:null,T=!!v&&this.mutatedKeys.has(v.key),E=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let S=!1;v&&x?v.data.isEqual(x.data)?T!==E&&(i.track({type:3,doc:x}),S=!0):this.su(v,x)||(i.track({type:2,doc:x}),S=!0,(h&&this.eu(x,h)>0||f&&this.eu(x,f)<0)&&(c=!0)):!v&&x?(i.track({type:0,doc:x}),S=!0):v&&!x&&(i.track({type:1,doc:v}),S=!0,(h||f)&&(c=!0)),S&&(x?(o=o.add(x),s=E?s.add(m):s.delete(m)):(o=o.delete(m),s=s.delete(m)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const m=this.query.limitType==="F"?o.last():o.first();o=o.delete(m.key),s=s.delete(m.key),i.track({type:1,doc:m})}return{tu:o,iu:i,Cs:c,mutatedKeys:s}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((m,p)=>(function(x,T){const E=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tt(20277,{Rt:S})}};return E(x)-E(T)})(m.type,p.type)||this.eu(m.doc,p.doc))),this.ou(i),r=r??!1;const c=t&&!r?this._u():[],h=this.Xa.size===0&&this.current&&!r?1:0,f=h!==this.Za;return this.Za=h,o.length!==0||f?{snapshot:new su(this.query,e.tu,s,o,e.mutatedKeys,h===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Et(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new t3(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new e3(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=Et();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return su.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Dv="SyncEngine";class Qk{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Zk{constructor(e){this.key=e,this.hu=!1}}class Jk{constructor(e,t,i,r,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new kl((c=>x4(c)),Km),this.Iu=new Map,this.Eu=new Set,this.du=new gn(Ze.comparator),this.Au=new Map,this.Ru=new yv,this.Vu={},this.mu=new Map,this.fu=ru.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function e8(n,e,t=!0){const i=o3(n);let r;const s=i.Tu.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.lu()):r=await n3(i,e,t,!0),r}async function t8(n,e){const t=o3(n);await n3(t,e,!0,!1)}async function n3(n,e,t,i){const r=await vk(n.localStore,Ts(e)),s=r.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t);let c;return i&&(c=await n8(n,e,s,o==="current",r.resumeToken)),n.isPrimaryClient&&t&&X4(n.remoteStore,r),c}async function n8(n,e,t,i,r){n.pu=(p,v,x)=>(async function(E,S,C,O){let N=S.view.ru(C);N.Cs&&(N=await cS(E.localStore,S.query,!1).then((({documents:A})=>S.view.ru(A,N))));const H=O&&O.targetChanges.get(S.targetId),Y=O&&O.targetMismatches.get(S.targetId)!=null,te=S.view.applyChanges(N,E.isPrimaryClient,H,Y);return yS(E,S.targetId,te.au),te.snapshot})(n,p,v,x);const s=await cS(n.localStore,e,!0),o=new Kk(e,s.Qs),c=o.ru(s.documents),h=Of.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),f=o.applyChanges(c,n.isPrimaryClient,h);yS(n,t,f.au);const m=new Qk(e,t,o);return n.Tu.set(e,m),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),f.snapshot}async function i8(n,e,t){const i=at(n),r=i.Tu.get(e),s=i.Iu.get(r.targetId);if(s.length>1)return i.Iu.set(r.targetId,s.filter((o=>!Km(o,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await D_(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),t&&Sv(i.remoteStore,r.targetId),M_(i,r.targetId)})).catch(mu)):(M_(i,r.targetId),await D_(i.localStore,r.targetId,!0))}async function r8(n,e){const t=at(n),i=t.Tu.get(e),r=t.Iu.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Sv(t.remoteStore,i.targetId))}async function s8(n,e,t){const i=f8(n);try{const r=await(function(o,c){const h=at(o),f=cn.now(),m=c.reduce(((x,T)=>x.add(T.key)),Et());let p,v;return h.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let T=pa(),E=Et();return h.Ns.getEntries(x,m).next((S=>{T=S,T.forEach(((C,O)=>{O.isValidDocument()||(E=E.add(C))}))})).next((()=>h.localDocuments.getOverlayedDocuments(x,T))).next((S=>{p=S;const C=[];for(const O of c){const N=_M(O,p.get(O.key).overlayedDocument);N!=null&&C.push(new Po(O.key,N,h4(N.value.mapValue),Jr.exists(!0)))}return h.mutationQueue.addMutationBatch(x,f,C,c)})).next((S=>{v=S;const C=S.applyToLocalDocumentSet(p,E);return h.documentOverlayCache.saveOverlays(x,S.batchId,C)}))})).then((()=>({batchId:v.batchId,changes:S4(p)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),(function(o,c,h){let f=o.Vu[o.currentUser.toKey()];f||(f=new gn(xt)),f=f.insert(c,h),o.Vu[o.currentUser.toKey()]=f})(i,r.batchId,t),await Mf(i,r.changes),await ig(i.remoteStore)}catch(r){const s=Rv(r,"Failed to persist write");t.reject(s)}}async function i3(n,e){const t=at(n);try{const i=await gk(t.localStore,e);e.targetChanges.forEach(((r,s)=>{const o=t.Au.get(s);o&&(Lt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o.hu=!0:r.modifiedDocuments.size>0?Lt(o.hu,14607):r.removedDocuments.size>0&&(Lt(o.hu,42227),o.hu=!1))})),await Mf(t,i,e)}catch(i){await mu(i)}}function vS(n,e,t){const i=at(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const r=[];i.Tu.forEach(((s,o)=>{const c=o.view.va(e);c.snapshot&&r.push(c.snapshot)})),(function(o,c){const h=at(o);h.onlineState=c;let f=!1;h.queries.forEach(((m,p)=>{for(const v of p.Sa)v.va(c)&&(f=!0)})),f&&Iv(h)})(i.eventManager,e),r.length&&i.Pu.H_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function a8(n,e,t){const i=at(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.Au.get(e),s=r&&r.key;if(s){let o=new gn(Ze.comparator);o=o.insert(s,Si.newNoDocument(s,it.min()));const c=Et().add(s),h=new eg(it.min(),new Map,new gn(xt),o,c);await i3(i,h),i.du=i.du.remove(s),i.Au.delete(e),Ov(i)}else await D_(i.localStore,e,!1).then((()=>M_(i,e,t))).catch(mu)}async function o8(n,e){const t=at(n),i=e.batch.batchId;try{const r=await mk(t.localStore,e);s3(t,i,null),r3(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Mf(t,r)}catch(r){await mu(r)}}async function l8(n,e,t){const i=at(n);try{const r=await(function(o,c){const h=at(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let m;return h.mutationQueue.lookupMutationBatch(f,c).next((p=>(Lt(p!==null,37113),m=p.keys(),h.mutationQueue.removeMutationBatch(f,p)))).next((()=>h.mutationQueue.performConsistencyCheck(f))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(f,m,c))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m))).next((()=>h.localDocuments.getDocuments(f,m)))}))})(i.localStore,e);s3(i,e,t),r3(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Mf(i,r)}catch(r){await mu(r)}}function r3(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function s3(n,e,t){const i=at(n);let r=i.Vu[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Vu[i.currentUser.toKey()]=r}}function M_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((i=>{n.Ru.containsKey(i)||a3(n,i)}))}function a3(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Sv(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Ov(n))}function yS(n,e,t){for(const i of t)i instanceof e3?(n.Ru.addReference(i.key,e),c8(n,i)):i instanceof t3?(We(Dv,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||a3(n,i.key)):tt(19791,{wu:i})}function c8(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(We(Dv,"New document in limbo: "+t),n.Eu.add(i),Ov(n))}function Ov(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ze(rn.fromString(e)),i=n.fu.next();n.Au.set(i,new Zk(t)),n.du=n.du.insert(t,i),X4(n.remoteStore,new uo(Ts(v4(t.path)),i,"TargetPurposeLimboResolution",Ym.ce))}}async function Mf(n,e,t){const i=at(n),r=[],s=[],o=[];i.Tu.isEmpty()||(i.Tu.forEach(((c,h)=>{o.push(i.pu(h,e,t).then((f=>{if((f||t)&&i.isPrimaryClient){const m=f?!f.fromCache:t?.targetChanges.get(h.targetId)?.current;i.sharedClientState.updateQueryState(h.targetId,m?"current":"not-current")}if(f){r.push(f);const m=Ev.As(h.targetId,f);s.push(m)}})))})),await Promise.all(o),i.Pu.H_(r),await(async function(h,f){const m=at(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>Ae.forEach(f,(v=>Ae.forEach(v.Es,(x=>m.persistence.referenceDelegate.addReference(p,v.targetId,x))).next((()=>Ae.forEach(v.ds,(x=>m.persistence.referenceDelegate.removeReference(p,v.targetId,x)))))))))}catch(p){if(!gu(p))throw p;We(Tv,"Failed to update sequence numbers: "+p)}for(const p of f){const v=p.targetId;if(!p.fromCache){const x=m.Ms.get(v),T=x.snapshotVersion,E=x.withLastLimboFreeSnapshotVersion(T);m.Ms=m.Ms.insert(v,E)}}})(i.localStore,s))}async function u8(n,e){const t=at(n);if(!t.currentUser.isEqual(e)){We(Dv,"User change. New user:",e.toKey());const i=await q4(t.localStore,e);t.currentUser=e,(function(s,o){s.mu.forEach((c=>{c.forEach((h=>{h.reject(new Ge(be.CANCELLED,o))}))})),s.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Mf(t,i.Ls)}}function h8(n,e){const t=at(n),i=t.Au.get(e);if(i&&i.hu)return Et().add(i.key);{let r=Et();const s=t.Iu.get(e);if(!s)return r;for(const o of s){const c=t.Tu.get(o);r=r.unionWith(c.view.nu)}return r}}function o3(n){const e=at(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=i3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=h8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=a8.bind(null,e),e.Pu.H_=Yk.bind(null,e.eventManager),e.Pu.yu=Xk.bind(null,e.eventManager),e}function f8(n){const e=at(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=o8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=l8.bind(null,e),e}class fm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return dk(this.persistence,new uk,e.initialUser,this.serializer)}Cu(e){return new H4(xv.mi,this.serializer)}Du(e){return new xk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fm.provider={build:()=>new fm};class d8 extends fm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Lt(this.persistence.referenceDelegate instanceof um,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new $M(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Gi.withCacheSize(this.cacheSizeBytes):Gi.DEFAULT;return new H4((i=>um.mi(i,t)),this.serializer)}}class k_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>vS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=u8.bind(null,this.syncEngine),await jk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new qk})()}createDatastore(e){const t=tg(e.databaseInfo.databaseId),i=(function(s){return new bk(s)})(e.databaseInfo);return(function(s,o,c,h){return new Ik(s,o,c,h)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,r,s,o,c){return new Ok(i,r,s,o,c)})(this.localStore,this.datastore,e.asyncQueue,(t=>vS(this.syncEngine,t,0)),(function(){return fS.v()?new fS:new Ek})())}createSyncEngine(e,t){return(function(r,s,o,c,h,f,m){const p=new Jk(r,s,o,c,h,f);return m&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=at(t);We(bl,"RemoteStore shutting down."),i.Ea.add(5),await Nf(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}k_.provider={build:()=>new k_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ga("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io="FirestoreClient";class g8{constructor(e,t,i,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Ti.UNAUTHENTICATED,this.clientId=lv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,(async o=>{We(Io,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(i,(o=>(We(Io,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Eo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Rv(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function P1(n,e){n.asyncQueue.verifyOperationInProgress(),We(Io,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await q4(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function xS(n,e){n.asyncQueue.verifyOperationInProgress();const t=await p8(n);We(Io,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>mS(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>mS(e.remoteStore,r))),n._onlineComponents=e}async function p8(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){We(Io,"Using user provided OfflineComponentProvider");try{await P1(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(r){return r.name==="FirebaseError"?r.code===be.FAILED_PRECONDITION||r.code===be.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(t))throw t;eu("Error using user provided cache. Falling back to memory cache: "+t),await P1(n,new fm)}}else We(Io,"Using default OfflineComponentProvider"),await P1(n,new d8(void 0));return n._offlineComponents}async function l3(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(We(Io,"Using user provided OnlineComponentProvider"),await xS(n,n._uninitializedComponentsProvider._online)):(We(Io,"Using default OnlineComponentProvider"),await xS(n,new k_))),n._onlineComponents}function _8(n){return l3(n).then((e=>e.syncEngine))}async function v8(n){const e=await l3(n),t=e.eventManager;return t.onListen=e8.bind(null,e.syncEngine),t.onUnlisten=i8.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=t8.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=r8.bind(null,e.syncEngine),t}function y8(n,e,t={}){const i=new Eo;return n.asyncQueue.enqueueAndForget((async()=>(function(s,o,c,h,f){const m=new m8({next:v=>{m.Nu(),o.enqueueAndForget((()=>Wk(s,p))),v.fromCache&&h.source==="server"?f.reject(new Ge(be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),p=new $k(c,m,{includeMetadataChanges:!0,qa:!0});return Gk(s,p)})(await v8(n),n.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3="firestore.googleapis.com",TS=!0;class SS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ge(be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=u3,this.ssl=TS}else this.host=e.host,this.ssl=e.ssl??TS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=j4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YM)throw new Ge(be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=c3(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ge(be.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ge(be.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ge(be.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rg{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new SS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ge(be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ge(be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new SS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new xN;switch(i.type){case"firstParty":return new wN(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ge(be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=ES.get(t);i&&(We("ComponentProvider","Removing Datastore"),ES.delete(t),i.terminate())})(this),Promise.resolve()}}function x8(n,e,t,i={}){n=wl(n,rg);const r=hu(e),s=n._getSettings(),o={...s,emulatorOptions:n._getEmulatorOptions()},c=`${e}:${t}`;r&&(BA(`https://${c}`),VA("Firestore",!0)),s.host!==u3&&s.host!==c&&eu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...s,host:c,ssl:r,emulatorOptions:i};if(!El(h,o)&&(n._setSettings(h),i.mockUserToken)){let f,m;if(typeof i.mockUserToken=="string")f=i.mockUserToken,m=Ti.MOCK_USER;else{f=YO(i.mockUserToken,n._app?.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new Ge(be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Ti(p)}n._authCredentials=new EN(new JA(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Fl(this.firestore,e,this._query)}}class jn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new To(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jn(this.firestore,e,this._key)}toJSON(){return{type:jn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(If(t,jn._jsonSchema))return new jn(e,i||null,new Ze(rn.fromString(t.referencePath)))}}jn._jsonSchemaVersion="firestore/documentReference/1.0",jn._jsonSchema={type:Fn("string",jn._jsonSchemaVersion),referencePath:Fn("string")};class To extends Fl{constructor(e,t,i){super(e,t,v4(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jn(this.firestore,null,new Ze(e))}withConverter(e){return new To(this.firestore,e,this._path)}}function Nv(n,e,...t){if(n=Fi(n),e4("collection","path",e),n instanceof rg){const i=rn.fromString(e,...t);return FT(i),new To(n,null,i)}{if(!(n instanceof jn||n instanceof To))throw new Ge(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(rn.fromString(e,...t));return FT(i),new To(n.firestore,null,i)}}function Y0(n,e,...t){if(n=Fi(n),arguments.length===1&&(e=lv.newId()),e4("doc","path",e),n instanceof rg){const i=rn.fromString(e,...t);return PT(i),new jn(n,null,new Ze(i))}{if(!(n instanceof jn||n instanceof To))throw new Ge(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(rn.fromString(e,...t));return PT(i),new jn(n.firestore,n instanceof To?n.converter:null,new Ze(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="AsyncQueue";class bS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new W4(this,"async_queue_retry"),this._c=()=>{const i=k1();i&&We(wS,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=k1();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=k1();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Eo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!gu(e))throw e;We(wS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,ga("INTERNAL UNHANDLED ERROR: ",AS(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=Cv.createAndSchedule(this,e,t,i,(s=>this.hc(s)));return this.tc.push(r),r}uc(){this.nc&&tt(47125,{Pc:AS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function AS(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class kf extends rg{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new bS,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bS(e),this._firestoreClient=void 0,await e}}}function E8(n,e){const t=typeof n=="object"?n:HA(),i=typeof n=="string"?n:sm,r=av(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=GO("firestore");s&&x8(r,...s)}return r}function h3(n){if(n._terminated)throw new Ge(be.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||T8(n),n._firestoreClient}function T8(n){const e=n._freezeSettings(),t=(function(r,s,o,c){return new zN(r,s,o,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,c3(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new g8(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(r){const s=r?._online.build();return{_offline:r?._offline.build(s),_online:s}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dr(mi.fromBase64String(e))}catch(t){throw new Ge(be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Dr(mi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Dr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(If(e,Dr._jsonSchema))return Dr.fromBase64String(e.bytes)}}Dr._jsonSchemaVersion="firestore/bytes/1.0",Dr._jsonSchema={type:Fn("string",Dr._jsonSchemaVersion),bytes:Fn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ge(be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ui(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ge(be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ge(be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xt(this._lat,e._lat)||xt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ws._jsonSchemaVersion}}static fromJSON(e){if(If(e,ws._jsonSchema))return new ws(e.latitude,e.longitude)}}ws._jsonSchemaVersion="firestore/geoPoint/1.0",ws._jsonSchema={type:Fn("string",ws._jsonSchemaVersion),latitude:Fn("number"),longitude:Fn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:bs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(If(e,bs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new bs(e.vectorValues);throw new Ge(be.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bs._jsonSchemaVersion="firestore/vectorValue/1.0",bs._jsonSchema={type:Fn("string",bs._jsonSchemaVersion),vectorValues:Fn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8=/^__.*__$/;class w8{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Po(e,this.data,this.fieldMask,t,this.fieldTransforms):new Df(e,this.data,t,this.fieldTransforms)}}class f3{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Po(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function d3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tt(40011,{Ac:n})}}class Mv{constructor(e,t,i,r,s,o){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Mv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return dm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(d3(this.Ac)&&S8.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class b8{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||tg(e)}Cc(e,t,i,r=!1){return new Mv({Ac:e,methodName:t,Dc:i,path:ui.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kv(n){const e=n._freezeSettings(),t=tg(n._databaseId);return new b8(n._databaseId,!!e.ignoreUndefinedProperties,t)}function A8(n,e,t,i,r,s={}){const o=n.Cc(s.merge||s.mergeFields?2:0,e,t,r);Fv("Data must be an object, but it was:",o,i);const c=m3(i,o);let h,f;if(s.merge)h=new fr(o.fieldMask),f=o.fieldTransforms;else if(s.mergeFields){const m=[];for(const p of s.mergeFields){const v=P_(e,p,t);if(!o.contains(v))throw new Ge(be.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);p3(m,v)||m.push(v)}h=new fr(m),f=o.fieldTransforms.filter((p=>h.covers(p.field)))}else h=null,f=o.fieldTransforms;return new w8(new Wi(c),h,f)}class og extends ag{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof og}}class Pv extends ag{_toFieldTransform(e){return new dM(e.path,new sf)}isEqual(e){return e instanceof Pv}}function C8(n,e,t,i){const r=n.Cc(1,e,t);Fv("Data must be an object, but it was:",r,i);const s=[],o=Wi.empty();ko(i,((h,f)=>{const m=Lv(e,h,t);f=Fi(f);const p=r.yc(m);if(f instanceof og)s.push(m);else{const v=Pf(f,p);v!=null&&(s.push(m),o.set(m,v))}}));const c=new fr(s);return new f3(o,c,r.fieldTransforms)}function R8(n,e,t,i,r,s){const o=n.Cc(1,e,t),c=[P_(e,i,t)],h=[r];if(s.length%2!=0)throw new Ge(be.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)c.push(P_(e,s[v])),h.push(s[v+1]);const f=[],m=Wi.empty();for(let v=c.length-1;v>=0;--v)if(!p3(f,c[v])){const x=c[v];let T=h[v];T=Fi(T);const E=o.yc(x);if(T instanceof og)f.push(x);else{const S=Pf(T,E);S!=null&&(f.push(x),m.set(x,S))}}const p=new fr(f);return new f3(m,p,o.fieldTransforms)}function I8(n,e,t,i=!1){return Pf(t,n.Cc(i?4:3,e))}function Pf(n,e){if(g3(n=Fi(n)))return Fv("Unsupported field value:",e,n),m3(n,e);if(n instanceof ag)return(function(i,r){if(!d3(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,r){const s=[];let o=0;for(const c of i){let h=Pf(c,r.wc(o));h==null&&(h={nullValue:"NULL_VALUE"}),s.push(h),o++}return{arrayValue:{values:s}}})(n,e)}return(function(i,r){if((i=Fi(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return uM(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=cn.fromDate(i);return{timestampValue:cm(r.serializer,s)}}if(i instanceof cn){const s=new cn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:cm(r.serializer,s)}}if(i instanceof ws)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Dr)return{bytesValue:P4(r.serializer,i._byteString)};if(i instanceof jn){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:vv(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof bs)return(function(o,c){return{mapValue:{fields:{[c4]:{stringValue:u4},[am]:{arrayValue:{values:o.toArray().map((f=>{if(typeof f!="number")throw c.Sc("VectorValues must only contain numeric values.");return mv(c.serializer,f)}))}}}}}})(i,r);throw r.Sc(`Unsupported field value: ${Wm(i)}`)})(n,e)}function m3(n,e){const t={};return i4(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ko(n,((i,r)=>{const s=Pf(r,e.mc(i));s!=null&&(t[i]=s)})),{mapValue:{fields:t}}}function g3(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof cn||n instanceof ws||n instanceof Dr||n instanceof jn||n instanceof ag||n instanceof bs)}function Fv(n,e,t){if(!g3(t)||!t4(t)){const i=Wm(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function P_(n,e,t){if((e=Fi(e))instanceof sg)return e._internalPath;if(typeof e=="string")return Lv(n,e);throw dm("Field path arguments must be of type string or ",n,!1,void 0,t)}const D8=new RegExp("[~\\*/\\[\\]]");function Lv(n,e,t){if(e.search(D8)>=0)throw dm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new sg(...e.split("."))._internalPath}catch{throw dm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function dm(n,e,t,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(s||o)&&(h+=" (found",s&&(h+=` in field ${i}`),o&&(h+=` in document ${r}`),h+=")"),new Ge(be.INVALID_ARGUMENT,c+n+h)}function p3(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new O8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(lg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class O8 extends _3{data(){return super.data()}}function lg(n,e){return typeof e=="string"?Lv(n,e):e instanceof sg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N8(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ge(be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bv{}class v3 extends Bv{}function y3(n,e,...t){let i=[];e instanceof Bv&&i.push(e),i=i.concat(t),(function(s){const o=s.filter((h=>h instanceof Vv)).length,c=s.filter((h=>h instanceof cg)).length;if(o>1||o>0&&c>0)throw new Ge(be.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const r of i)n=r._apply(n);return n}class cg extends v3{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new cg(e,t,i)}_apply(e){const t=this._parse(e);return x3(e._query,t),new Fl(e.firestore,e.converter,w_(e._query,t))}_parse(e){const t=kv(e.firestore);return(function(s,o,c,h,f,m,p){let v;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Ge(be.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){IS(p,m);const T=[];for(const E of p)T.push(RS(h,s,E));v={arrayValue:{values:T}}}else v=RS(h,s,p)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||IS(p,m),v=I8(c,o,p,m==="in"||m==="not-in");return Pn.create(f,m,v)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function CS(n,e,t){const i=e,r=lg("where",n);return cg._create(r,i,t)}class Vv extends Bv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Vv(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:ns.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(r,s){let o=r;const c=s.getFlattenedFilters();for(const h of c)x3(o,h),o=w_(o,h)})(e._query,t),new Fl(e.firestore,e.converter,w_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Uv extends v3{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Uv(e,t)}_apply(e){const t=(function(r,s,o){if(r.startAt!==null)throw new Ge(be.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Ge(be.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new rf(s,o)})(e._query,this._field,this._direction);return new Fl(e.firestore,e.converter,(function(r,s){const o=r.explicitOrderBy.concat([s]);return new pu(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(e._query,t))}}function M8(n,e="asc"){const t=e,i=lg("orderBy",n);return Uv._create(i,t)}function RS(n,e,t){if(typeof(t=Fi(t))=="string"){if(t==="")throw new Ge(be.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!y4(e)&&t.indexOf("/")!==-1)throw new Ge(be.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(rn.fromString(t));if(!Ze.isDocumentKey(i))throw new Ge(be.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return qT(n,new Ze(i))}if(t instanceof jn)return qT(n,t._key);throw new Ge(be.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wm(t)}.`)}function IS(n,e){if(!Array.isArray(n)||n.length===0)throw new Ge(be.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function x3(n,e){const t=(function(r,s){for(const o of r)for(const c of o.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Ge(be.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ge(be.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class k8{convertValue(e,t="none"){switch(Co(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ao(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw tt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ko(e,((r,s)=>{i[r]=this.convertValue(s,t)})),i}convertVectorValue(e){const t=e.fields?.[am].arrayValue?.values?.map((i=>bn(i.doubleValue)));return new bs(t)}convertGeoPoint(e){return new ws(bn(e.latitude),bn(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=$m(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(ef(e));default:return null}}convertTimestamp(e){const t=bo(e);return new cn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=rn.fromString(e);Lt(z4(i),9688,{name:e});const r=new tf(i.get(1),i.get(3)),s=new Ze(i.popFirst(5));return r.isEqual(t)||ga(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P8(n,e,t){let i;return i=n?n.toFirestore(e):e,i}class p0{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jc extends _3{constructor(e,t,i,r,s,o){super(e,t,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new X0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(lg("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ge(be.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=jc._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}jc._jsonSchemaVersion="firestore/documentSnapshot/1.0",jc._jsonSchema={type:Fn("string",jc._jsonSchemaVersion),bundleSource:Fn("string","DocumentSnapshot"),bundleName:Fn("string"),bundle:Fn("string")};class X0 extends jc{data(e={}){return super.data(e)}}class Hc{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new p0(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new X0(this._firestore,this._userDataWriter,i.key,i,new p0(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ge(be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map((c=>{const h=new X0(r._firestore,r._userDataWriter,c.doc.key,c.doc,new p0(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:o++}}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((c=>s||c.type!==3)).map((c=>{const h=new X0(r._firestore,r._userDataWriter,c.doc.key,c.doc,new p0(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,m=-1;return c.type!==0&&(f=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),m=o.indexOf(c.doc.key)),{type:F8(c.type),doc:h,oldIndex:f,newIndex:m}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ge(be.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Hc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=lv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],r=[];return this.docs.forEach((s=>{s._document!==null&&(t.push(s._document),i.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function F8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tt(61501,{type:n})}}Hc._jsonSchemaVersion="firestore/querySnapshot/1.0",Hc._jsonSchema={type:Fn("string",Hc._jsonSchemaVersion),bundleSource:Fn("string","QuerySnapshot"),bundleName:Fn("string"),bundle:Fn("string")};class L8 extends k8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jn(this.firestore,null,t)}}function E3(n){n=wl(n,Fl);const e=wl(n.firestore,kf),t=h3(e),i=new L8(e);return N8(n._query),y8(t,n._query).then((r=>new Hc(e,i,n,r)))}function B8(n,e,t,...i){n=wl(n,jn);const r=wl(n.firestore,kf),s=kv(r);let o;return o=typeof(e=Fi(e))=="string"||e instanceof sg?R8(s,"updateDoc",n._key,e,t,i):C8(s,"updateDoc",n._key,e),zv(r,[o.toMutation(n._key,Jr.exists(!0))])}function DS(n){return zv(wl(n.firestore,kf),[new gv(n._key,Jr.none())])}function V8(n,e){const t=wl(n.firestore,kf),i=Y0(n),r=P8(n.converter,e);return zv(t,[A8(kv(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Jr.exists(!1))]).then((()=>i))}function zv(n,e){return(function(i,r){const s=new Eo;return i.asyncQueue.enqueueAndForget((async()=>s8(await _8(i),r,s))),s.promise})(h3(n),e)}function U8(){return new Pv("serverTimestamp")}(function(e,t=!0){(function(r){du=r})(fu),Jc(new Tl("firestore",((i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),c=new kf(new TN(i.getProvider("auth-internal")),new bN(o,i.getProvider("app-check-internal")),(function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ge(be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tf(f.options.projectId,m)})(o,r),o);return s={useFetchStreams:t,...s},c._setSettings(s),c}),"PUBLIC").setMultipleInstances(!0)),yo(OT,NT,e),yo(OT,NT,"esm2020")})();var z8="firebase",j8="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yo(z8,j8,"app");function T3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const H8=T3,S3=new Cf("auth","Firebase",T3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm=new rv("@firebase/auth");function q8(n,...e){mm.logLevel<=yt.WARN&&mm.warn(`Auth (${fu}): ${n}`,...e)}function $0(n,...e){mm.logLevel<=yt.ERROR&&mm.error(`Auth (${fu}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(n,...e){throw jv(n,...e)}function As(n,...e){return jv(n,...e)}function w3(n,e,t){const i={...H8(),[e]:t};return new Cf("auth","Firebase",i).create(e,{appName:n.name})}function vl(n){return w3(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jv(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return S3.create(n,...e)}function nt(n,e,...t){if(!n)throw jv(e,...t)}function aa(n){const e="INTERNAL ASSERTION FAILED: "+n;throw $0(e),new Error(e)}function va(n,e){n||aa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(){return typeof self<"u"&&self.location?.href||""}function G8(){return OS()==="http:"||OS()==="https:"}function OS(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(G8()||JO()||"connection"in navigator)?navigator.onLine:!0}function Y8(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,t){this.shortDelay=e,this.longDelay=t,va(t>e,"Short delay should be less than long delay!"),this.isMobile=KO()||e5()}get(){return W8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(n,e){va(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;aa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;aa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;aa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],K8=new Ff(3e4,6e4);function qv(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function vu(n,e,t,i,r={}){return A3(n,r,async()=>{let s={},o={};i&&(e==="GET"?o=i:s={body:JSON.stringify(i)});const c=Rf({key:n.config.apiKey,...o}).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const f={method:e,headers:h,...s};return ZO()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&hu(n.emulatorConfig.host)&&(f.credentials="include"),b3.fetch()(await C3(n,n.config.apiHost,t,c),f)})}async function A3(n,e,t){n._canInitEmulator=!1;const i={...X8,...e};try{const r=new Z8(n),s=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw _0(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const c=s.ok?o.errorMessage:o.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw _0(n,"credential-already-in-use",o);if(h==="EMAIL_EXISTS")throw _0(n,"email-already-in-use",o);if(h==="USER_DISABLED")throw _0(n,"user-disabled",o);const m=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw w3(n,m,f);_a(n,m)}}catch(r){if(r instanceof Ta)throw r;_a(n,"network-request-failed",{message:String(r)})}}async function Q8(n,e,t,i,r={}){const s=await vu(n,e,t,i,r);return"mfaPendingCredential"in s&&_a(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function C3(n,e,t,i){const r=`${e}${t}?${i}`,s=n,o=s.config.emulator?Hv(n.config,r):`${n.config.apiScheme}://${r}`;return $8.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class Z8{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(As(this.auth,"network-request-failed")),K8.get())})}}function _0(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=As(n,e,i);return r.customData._tokenResponse=t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J8(n,e){return vu(n,"POST","/v1/accounts:delete",e)}async function gm(n,e){return vu(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eP(n,e=!1){const t=Fi(n),i=await t.getIdToken(e),r=Gv(i);nt(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:Vh(F1(r.auth_time)),issuedAtTime:Vh(F1(r.iat)),expirationTime:Vh(F1(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function F1(n){return Number(n)*1e3}function Gv(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return $0("JWT malformed, contained fewer than 3 sections"),null;try{const r=kA(t);return r?JSON.parse(r):($0("Failed to decode base64 JWT payload"),null)}catch(r){return $0("Caught error parsing JWT payload as JSON",r?.toString()),null}}function NS(n){const e=Gv(n);return nt(e,"internal-error"),nt(typeof e.exp<"u","internal-error"),nt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lf(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Ta&&tP(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function tP({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vh(this.lastLoginAt),this.creationTime=Vh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pm(n){const e=n.auth,t=await n.getIdToken(),i=await lf(n,gm(e,{idToken:t}));nt(i?.users.length,e,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const s=r.providerUserInfo?.length?R3(r.providerUserInfo):[],o=rP(n.providerData,s),c=n.isAnonymous,h=!(n.email&&r.passwordHash)&&!o?.length,f=c?h:!1,m={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new L_(r.createdAt,r.lastLoginAt),isAnonymous:f};Object.assign(n,m)}async function iP(n){const e=Fi(n);await pm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rP(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function R3(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sP(n,e){const t=await A3(n,{},async()=>{const i=Rf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=await C3(n,r,"/v1/token",`key=${s}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:c,body:i};return n.emulatorConfig&&hu(n.emulatorConfig.host)&&(h.credentials="include"),b3.fetch()(o,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function aP(n,e){return vu(n,"POST","/v2/accounts:revokeToken",qv(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){nt(e.idToken,"internal-error"),nt(typeof e.idToken<"u","internal-error"),nt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):NS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){nt(e.length!==0,"internal-error");const t=NS(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(nt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:s}=await sP(e,t);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:s}=t,o=new qc;return i&&(nt(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(nt(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(nt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qc,this.toJSON())}_performRefresh(){return aa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(n,e){nt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Kr{constructor({uid:e,auth:t,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new nP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new L_(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await lf(this,this.stsTokenManager.getToken(this.auth,e));return nt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return eP(this,e)}reload(){return iP(this)}_assign(e){this!==e&&(nt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Kr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){nt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await pm(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Es(this.auth.app))return Promise.reject(vl(this.auth));const e=await this.getIdToken();return await lf(this,J8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,r=t.email??void 0,s=t.phoneNumber??void 0,o=t.photoURL??void 0,c=t.tenantId??void 0,h=t._redirectEventId??void 0,f=t.createdAt??void 0,m=t.lastLoginAt??void 0,{uid:p,emailVerified:v,isAnonymous:x,providerData:T,stsTokenManager:E}=t;nt(p&&E,e,"internal-error");const S=qc.fromJSON(this.name,E);nt(typeof p=="string",e,"internal-error"),ro(i,e.name),ro(r,e.name),nt(typeof v=="boolean",e,"internal-error"),nt(typeof x=="boolean",e,"internal-error"),ro(s,e.name),ro(o,e.name),ro(c,e.name),ro(h,e.name),ro(f,e.name),ro(m,e.name);const C=new Kr({uid:p,auth:e,email:r,emailVerified:v,displayName:i,isAnonymous:x,photoURL:o,phoneNumber:s,tenantId:c,stsTokenManager:S,createdAt:f,lastLoginAt:m});return T&&Array.isArray(T)&&(C.providerData=T.map(O=>({...O}))),h&&(C._redirectEventId=h),C}static async _fromIdTokenResponse(e,t,i=!1){const r=new qc;r.updateFromServerResponse(t);const s=new Kr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await pm(s),s}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];nt(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?R3(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,c=new qc;c.updateFromIdToken(i);const h=new Kr({uid:r.localId,auth:e,stsTokenManager:c,isAnonymous:o}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new L_(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS=new Map;function oa(n){va(n instanceof Function,"Expected a class definition");let e=MS.get(n);return e?(va(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,MS.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}I3.type="NONE";const kS=I3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(n,e,t){return`firebase:${n}:${e}:${t}`}class Gc{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=K0(this.userKey,r.apiKey,s),this.fullPersistenceKey=K0("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await gm(this.auth,{idToken:e}).catch(()=>{});return t?Kr._fromGetAccountInfoResponse(this.auth,t,e):null}return Kr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Gc(oa(kS),e,i);const r=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=r[0]||oa(kS);const o=K0(i,e.config.apiKey,e.name);let c=null;for(const f of t)try{const m=await f._get(o);if(m){let p;if(typeof m=="string"){const v=await gm(e,{idToken:m}).catch(()=>{});if(!v)break;p=await Kr._fromGetAccountInfoResponse(e,v,m)}else p=Kr._fromJSON(e,m);f!==s&&(c=p),s=f;break}}catch{}const h=r.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!h.length?new Gc(s,e,i):(s=h[0],c&&await s._set(o,c.toJSON()),await Promise.all(t.map(async f=>{if(f!==s)try{await f._remove(o)}catch{}})),new Gc(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(M3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(D3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(P3(e))return"Blackberry";if(F3(e))return"Webos";if(O3(e))return"Safari";if((e.includes("chrome/")||N3(e))&&!e.includes("edge/"))return"Chrome";if(k3(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function D3(n=Ri()){return/firefox\//i.test(n)}function O3(n=Ri()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function N3(n=Ri()){return/crios\//i.test(n)}function M3(n=Ri()){return/iemobile/i.test(n)}function k3(n=Ri()){return/android/i.test(n)}function P3(n=Ri()){return/blackberry/i.test(n)}function F3(n=Ri()){return/webos/i.test(n)}function Wv(n=Ri()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function oP(n=Ri()){return Wv(n)&&!!window.navigator?.standalone}function lP(){return t5()&&document.documentMode===10}function L3(n=Ri()){return Wv(n)||k3(n)||F3(n)||P3(n)||/windows phone/i.test(n)||M3(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(n,e=[]){let t;switch(n){case"Browser":t=PS(Ri());break;case"Worker":t=`${PS(Ri())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${fu}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=s=>new Promise((o,c)=>{try{const h=e(s);o(h)}catch(h){c(h)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uP(n,e={}){return vu(n,"GET","/v2/passwordPolicy",qv(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP=6;class fP{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??hP,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new FS(this),this.idTokenSubscription=new FS(this),this.beforeStateQueue=new cP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=S3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=oa(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Gc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await gm(this,{idToken:e}),i=await Kr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Es(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,o=i?._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===o)&&c?.user&&(i=c.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return nt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await pm(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Y8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Es(this.app))return Promise.reject(vl(this));const t=e?Fi(e):null;return t&&nt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&nt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Es(this.app)?Promise.reject(vl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Es(this.app)?Promise.reject(vl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(oa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uP(this),t=new fP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cf("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await aP(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&oa(e)||this._popupRedirectResolver;nt(t,this,"argument-error"),this.redirectPersistenceManager=await Gc.create(this,[oa(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(nt(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,i,r);return()=>{o=!0,h()}}else{const h=e.addObserver(t);return()=>{o=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return nt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=B3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Es(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&q8(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Yv(n){return Fi(n)}class FS{constructor(e){this.auth=e,this.observer=null,this.addObserver=c5(t=>this.observer=t)}get next(){return nt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mP(n){Xv=n}function gP(n){return Xv.loadJS(n)}function pP(){return Xv.gapiScript}function _P(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(n,e){const t=av(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),s=t.getOptions();if(El(s,e??{}))return r;_a(r,"already-initialized")}return t.initialize({options:e})}function yP(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(oa);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function xP(n,e,t){const i=Yv(n);nt(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=V3(e),{host:o,port:c}=EP(e),h=c===null?"":`:${c}`,f={url:`${s}//${o}${h}/`},m=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){nt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),nt(El(f,i.config.emulator)&&El(m,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=m,i.settings.appVerificationDisabledForTesting=!0,hu(o)?(BA(`${s}//${o}${h}`),VA("Auth",!0)):TP()}function V3(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function EP(n){const e=V3(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:LS(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:LS(o)}}}function LS(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function TP(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return aa("not implemented")}_getIdTokenResponse(e){return aa("not implemented")}_linkToIdToken(e,t){return aa("not implemented")}_getReauthenticationResolver(e){return aa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wc(n,e){return Q8(n,"POST","/v1/accounts:signInWithIdp",qv(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP="http://localhost";class Al extends U3{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Al(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):_a("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,...s}=t;if(!i||!r)return null;const o=new Al(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return Wc(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Wc(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Wc(e,t)}buildRequest(){const e={requestUri:SP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Rf(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf extends z3{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends Lf{constructor(){super("facebook.com")}static credential(e){return Al._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ao.credential(e.oauthAccessToken)}catch{return null}}}ao.FACEBOOK_SIGN_IN_METHOD="facebook.com";ao.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends Lf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Al._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return oo.credential(t,i)}catch{return null}}}oo.GOOGLE_SIGN_IN_METHOD="google.com";oo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo extends Lf{constructor(){super("github.com")}static credential(e){return Al._fromParams({providerId:lo.PROVIDER_ID,signInMethod:lo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lo.credentialFromTaggedObject(e)}static credentialFromError(e){return lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lo.credential(e.oauthAccessToken)}catch{return null}}}lo.GITHUB_SIGN_IN_METHOD="github.com";lo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co extends Lf{constructor(){super("twitter.com")}static credential(e,t){return Al._fromParams({providerId:co.PROVIDER_ID,signInMethod:co.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return co.credentialFromTaggedObject(e)}static credentialFromError(e){return co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return co.credential(t,i)}catch{return null}}}co.TWITTER_SIGN_IN_METHOD="twitter.com";co.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const s=await Kr._fromIdTokenResponse(e,i,r),o=BS(i);return new au({user:s,providerId:o,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=BS(i);return new au({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function BS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m extends Ta{constructor(e,t,i,r){super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,_m.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new _m(e,t,i,r)}}function j3(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?_m._fromErrorAndOperation(n,s,e,i):s})}async function wP(n,e,t=!1){const i=await lf(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return au._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bP(n,e,t=!1){const{auth:i}=n;if(Es(i.app))return Promise.reject(vl(i));const r="reauthenticate";try{const s=await lf(n,j3(i,r,e,n),t);nt(s.idToken,i,"internal-error");const o=Gv(s.idToken);nt(o,i,"internal-error");const{sub:c}=o;return nt(n.uid===c,i,"user-mismatch"),au._forOperation(n,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&_a(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AP(n,e,t=!1){if(Es(n.app))return Promise.reject(vl(n));const i="signIn",r=await j3(n,i,e),s=await au._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(s.user),s}function CP(n,e,t,i){return Fi(n).onIdTokenChanged(e,t,i)}function RP(n,e,t){return Fi(n).beforeAuthStateChanged(e,t)}const vm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(vm,"1"),this.storage.removeItem(vm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=1e3,DP=10;class q3 extends H3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=L3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,c,h)=>{this.notifyListeners(o,h)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(i);!t&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);lP()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,DP):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},IP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}q3.type="LOCAL";const OP=q3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3 extends H3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}G3.type="SESSION";const W3=G3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new ug(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:s}=t.data,o=this.handlersMap[r];if(!o?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const c=Array.from(o).map(async f=>f(t.origin,s)),h=await NP(c);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ug.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((c,h)=>{const f=$v("",20);r.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(p){const v=p;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(v.data.response);break;default:clearTimeout(m),clearTimeout(s),h(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(){return window}function kP(n){Cs().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3(){return typeof Cs().WorkerGlobalScope<"u"&&typeof Cs().importScripts=="function"}async function PP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FP(){return navigator?.serviceWorker?.controller||null}function LP(){return Y3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3="firebaseLocalStorageDb",BP=1,ym="firebaseLocalStorage",$3="fbase_key";class Bf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function hg(n,e){return n.transaction([ym],e?"readwrite":"readonly").objectStore(ym)}function VP(){const n=indexedDB.deleteDatabase(X3);return new Bf(n).toPromise()}function B_(){const n=indexedDB.open(X3,BP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(ym,{keyPath:$3})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(ym)?e(i):(i.close(),await VP(),e(await B_()))})})}async function VS(n,e,t){const i=hg(n,!0).put({[$3]:e,value:t});return new Bf(i).toPromise()}async function UP(n,e){const t=hg(n,!1).get(e),i=await new Bf(t).toPromise();return i===void 0?null:i.value}function US(n,e){const t=hg(n,!0).delete(e);return new Bf(t).toPromise()}const zP=800,jP=3;class K3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await B_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>jP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Y3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ug._getInstance(LP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await PP(),!this.activeServiceWorker)return;this.sender=new MP(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||FP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await B_();return await VS(e,vm,"1"),await US(e,vm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>VS(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>UP(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>US(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=hg(r,!1).getAll();return new Bf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}K3.type="LOCAL";const HP=K3;new Ff(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(n,e){return e?oa(e):(nt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv extends U3{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Wc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Wc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function GP(n){return AP(n.auth,new Kv(n),n.bypassAuthState)}function WP(n){const{auth:e,user:t}=n;return nt(t,e,"internal-error"),bP(t,new Kv(n),n.bypassAuthState)}async function YP(n){const{auth:e,user:t}=n;return nt(t,e,"internal-error"),wP(t,new Kv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e,t,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}const h={auth:this.auth,requestUri:t,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GP;case"linkViaPopup":case"linkViaRedirect":return YP;case"reauthViaPopup":case"reauthViaRedirect":return WP;default:_a(this.auth,"internal-error")}}resolve(e){va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP=new Ff(2e3,1e4);class Bc extends Q3{constructor(e,t,i,r,s){super(e,t,r,s),this.provider=i,this.authWindow=null,this.pollId=null,Bc.currentPopupAction&&Bc.currentPopupAction.cancel(),Bc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return nt(e,this.auth,"internal-error"),e}async onExecution(){va(this.filter.length===1,"Popup operations only handle one event");const e=$v();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(As(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(As(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bc.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(As(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XP.get())};e()}}Bc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P="pendingRedirect",Q0=new Map;class KP extends Q3{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Q0.get(this.auth._key());if(!e){try{const i=await QP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Q0.set(this.auth._key(),e)}return this.bypassAuthState||Q0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QP(n,e){const t=eF(e),i=JP(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}function ZP(n,e){Q0.set(n._key(),e)}function JP(n){return oa(n._redirectPersistence)}function eF(n){return K0($P,n.config.apiKey,n.name)}async function tF(n,e,t=!1){if(Es(n.app))return Promise.reject(vl(n));const i=Yv(n),r=qP(i,e),o=await new KP(i,r,t).execute();return o&&!t&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF=600*1e3;class iF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rF(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Z3(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(As(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nF&&this.cachedEventUids.clear(),this.cachedEventUids.has(zS(e))}saveEventToCache(e){this.cachedEventUids.add(zS(e)),this.lastProcessedEventTime=Date.now()}}function zS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Z3({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function rF(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Z3(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sF(n,e={}){return vu(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oF=/^https?/;async function lF(n){if(n.config.emulator)return;const{authorizedDomains:e}=await sF(n);for(const t of e)try{if(cF(t))return}catch{}_a(n,"unauthorized-domain")}function cF(n){const e=F_(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===i}if(!oF.test(t))return!1;if(aF.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF=new Ff(3e4,6e4);function jS(){const n=Cs().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function hF(n){return new Promise((e,t)=>{function i(){jS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jS(),t(As(n,"network-request-failed"))},timeout:uF.get()})}if(Cs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Cs().gapi?.load)i();else{const r=_P("iframefcb");return Cs()[r]=()=>{gapi.load?i():t(As(n,"network-request-failed"))},gP(`${pP()}?onload=${r}`).catch(s=>t(s))}}).catch(e=>{throw Z0=null,e})}let Z0=null;function fF(n){return Z0=Z0||hF(n),Z0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF=new Ff(5e3,15e3),mF="__/auth/iframe",gF="emulator/auth/iframe",pF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_F=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vF(n){const e=n.config;nt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Hv(e,gF):`https://${n.config.authDomain}/${mF}`,i={apiKey:e.apiKey,appName:n.name,v:fu},r=_F.get(n.config.apiHost);r&&(i.eid=r);const s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${t}?${Rf(i).slice(1)}`}async function yF(n){const e=await fF(n),t=Cs().gapi;return nt(t,n,"internal-error"),e.open({where:document.body,url:vF(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pF,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=As(n,"network-request-failed"),c=Cs().setTimeout(()=>{s(o)},dF.get());function h(){Cs().clearTimeout(c),r(i)}i.ping(h).then(h,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EF=500,TF=600,SF="_blank",wF="http://localhost";class HS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bF(n,e,t,i=EF,r=TF){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const h={...xF,width:i.toString(),height:r.toString(),top:s,left:o},f=Ri().toLowerCase();t&&(c=N3(f)?SF:t),D3(f)&&(e=e||wF,h.scrollbars="yes");const m=Object.entries(h).reduce((v,[x,T])=>`${v}${x}=${T},`,"");if(oP(f)&&c!=="_self")return AF(e||"",c),new HS(null);const p=window.open(e||"",c,m);nt(p,n,"popup-blocked");try{p.focus()}catch{}return new HS(p)}function AF(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CF="__/auth/handler",RF="emulator/auth/handler",IF=encodeURIComponent("fac");async function qS(n,e,t,i,r,s){nt(n.config.authDomain,n,"auth-domain-config-required"),nt(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:fu,eventId:r};if(e instanceof z3){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",l5(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,p]of Object.entries({}))o[m]=p}if(e instanceof Lf){const m=e.getScopes().filter(p=>p!=="");m.length>0&&(o.scopes=m.join(","))}n.tenantId&&(o.tid=n.tenantId);const c=o;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const h=await n._getAppCheckToken(),f=h?`#${IF}=${encodeURIComponent(h)}`:"";return`${DF(n)}?${Rf(c).slice(1)}${f}`}function DF({config:n}){return n.emulator?Hv(n,RF):`https://${n.authDomain}/${CF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="webStorageSupport";class OF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=W3,this._completeRedirectFn=tF,this._overrideRedirectResult=ZP}async _openPopup(e,t,i,r){va(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await qS(e,t,i,F_(),r);return bF(e,s,$v())}async _openRedirect(e,t,i,r){await this._originValidation(e);const s=await qS(e,t,i,F_(),r);return kP(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(va(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await yF(e),i=new iF(e);return t.register("authEvent",r=>(nt(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(L1,{type:L1},r=>{const s=r?.[0]?.[L1];s!==void 0&&t(!!s),_a(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=lF(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return L3()||O3()||Wv()}}const NF=OF;var GS="@firebase/auth",WS="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){nt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kF(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PF(n){Jc(new Tl("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=i.options;nt(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:o,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:B3(n)},f=new dP(i,r,s,h);return yP(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Jc(new Tl("auth-internal",e=>{const t=Yv(e.getProvider("auth").getImmediate());return(i=>new MF(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),yo(GS,WS,kF(n)),yo(GS,WS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF=300,LF=LA("authIdTokenMaxAge")||FF;let YS=null;const BF=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>LF)return;const r=t?.token;YS!==r&&(YS=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function VF(n=HA()){const e=av(n,"auth");if(e.isInitialized())return e.getImmediate();const t=vP(n,{popupRedirectResolver:NF,persistence:[HP,OP,W3]}),i=LA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=BF(s.toString());RP(t,o,()=>o(t.currentUser)),CP(t,c=>o(c))}}const r=PA("auth");return r&&xP(t,`http://${r}`),t}function UF(){return document.getElementsByTagName("head")?.[0]??document}mP({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const s=As("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",UF().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PF("Browser");const zF={apiKey:"AIzaSyBycNoxmDsxtUyFCnvzAUoTUc302zwv3fs",authDomain:"input-form-f2acf.firebaseapp.com",projectId:"input-form-f2acf",storageBucket:"input-form-f2acf.firebasestorage.app",messagingSenderId:"238423529853",appId:"1:238423529853:web:fb1fd28a373d611afb5414"},J3=jA(zF),Vc=E8(J3);VF(J3);function Uh(n){let e=n[0],t=n[1],i=n[2];return Math.sqrt(e*e+t*t+i*i)}function V_(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n}function jF(n,e,t,i){return n[0]=e,n[1]=t,n[2]=i,n}function XS(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n}function $S(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n}function HF(n,e,t){return n[0]=e[0]*t[0],n[1]=e[1]*t[1],n[2]=e[2]*t[2],n}function qF(n,e,t){return n[0]=e[0]/t[0],n[1]=e[1]/t[1],n[2]=e[2]/t[2],n}function B1(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n}function GF(n,e){let t=e[0]-n[0],i=e[1]-n[1],r=e[2]-n[2];return Math.sqrt(t*t+i*i+r*r)}function WF(n,e){let t=e[0]-n[0],i=e[1]-n[1],r=e[2]-n[2];return t*t+i*i+r*r}function KS(n){let e=n[0],t=n[1],i=n[2];return e*e+t*t+i*i}function YF(n,e){return n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n}function XF(n,e){return n[0]=1/e[0],n[1]=1/e[1],n[2]=1/e[2],n}function U_(n,e){let t=e[0],i=e[1],r=e[2],s=t*t+i*i+r*r;return s>0&&(s=1/Math.sqrt(s)),n[0]=e[0]*s,n[1]=e[1]*s,n[2]=e[2]*s,n}function eC(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function QS(n,e,t){let i=e[0],r=e[1],s=e[2],o=t[0],c=t[1],h=t[2];return n[0]=r*h-s*c,n[1]=s*o-i*h,n[2]=i*c-r*o,n}function $F(n,e,t,i){let r=e[0],s=e[1],o=e[2];return n[0]=r+i*(t[0]-r),n[1]=s+i*(t[1]-s),n[2]=o+i*(t[2]-o),n}function KF(n,e,t,i,r){const s=Math.exp(-i*r);let o=e[0],c=e[1],h=e[2];return n[0]=t[0]+(o-t[0])*s,n[1]=t[1]+(c-t[1])*s,n[2]=t[2]+(h-t[2])*s,n}function QF(n,e,t){let i=e[0],r=e[1],s=e[2],o=t[3]*i+t[7]*r+t[11]*s+t[15];return o=o||1,n[0]=(t[0]*i+t[4]*r+t[8]*s+t[12])/o,n[1]=(t[1]*i+t[5]*r+t[9]*s+t[13])/o,n[2]=(t[2]*i+t[6]*r+t[10]*s+t[14])/o,n}function ZF(n,e,t){let i=e[0],r=e[1],s=e[2],o=t[3]*i+t[7]*r+t[11]*s+t[15];return o=o||1,n[0]=(t[0]*i+t[4]*r+t[8]*s)/o,n[1]=(t[1]*i+t[5]*r+t[9]*s)/o,n[2]=(t[2]*i+t[6]*r+t[10]*s)/o,n}function JF(n,e,t){let i=e[0],r=e[1],s=e[2];return n[0]=i*t[0]+r*t[3]+s*t[6],n[1]=i*t[1]+r*t[4]+s*t[7],n[2]=i*t[2]+r*t[5]+s*t[8],n}function eL(n,e,t){let i=e[0],r=e[1],s=e[2],o=t[0],c=t[1],h=t[2],f=t[3],m=c*s-h*r,p=h*i-o*s,v=o*r-c*i,x=c*v-h*p,T=h*m-o*v,E=o*p-c*m,S=f*2;return m*=S,p*=S,v*=S,x*=2,T*=2,E*=2,n[0]=i+m+x,n[1]=r+p+T,n[2]=s+v+E,n}const tL=(function(){const n=[0,0,0],e=[0,0,0];return function(t,i){V_(n,t),V_(e,i),U_(n,n),U_(e,e);let r=eC(n,e);return r>1?0:r<-1?Math.PI:Math.acos(r)}})();function nL(n,e){return n[0]===e[0]&&n[1]===e[1]&&n[2]===e[2]}class Qr extends Array{constructor(e=0,t=e,i=e){return super(e,t,i),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this[0]=e}set y(e){this[1]=e}set z(e){this[2]=e}set(e,t=e,i=e){return e.length?this.copy(e):(jF(this,e,t,i),this)}copy(e){return V_(this,e),this}add(e,t){return t?XS(this,e,t):XS(this,this,e),this}sub(e,t){return t?$S(this,e,t):$S(this,this,e),this}multiply(e){return e.length?HF(this,this,e):B1(this,this,e),this}divide(e){return e.length?qF(this,this,e):B1(this,this,1/e),this}inverse(e=this){return XF(this,e),this}len(){return Uh(this)}distance(e){return e?GF(this,e):Uh(this)}squaredLen(){return KS(this)}squaredDistance(e){return e?WF(this,e):KS(this)}negate(e=this){return YF(this,e),this}cross(e,t){return t?QS(this,e,t):QS(this,this,e),this}scale(e){return B1(this,this,e),this}normalize(){return U_(this,this),this}dot(e){return eC(this,e)}equals(e){return nL(this,e)}applyMatrix3(e){return JF(this,this,e),this}applyMatrix4(e){return QF(this,this,e),this}scaleRotateMatrix4(e){return ZF(this,this,e),this}applyQuaternion(e){return eL(this,this,e),this}angle(e){return tL(this,e)}lerp(e,t){return $F(this,this,e,t),this}smoothLerp(e,t,i){return KF(this,this,e,t,i),this}clone(){return new Qr(this[0],this[1],this[2])}fromArray(e,t=0){return this[0]=e[t],this[1]=e[t+1],this[2]=e[t+2],this}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e}transformDirection(e){const t=this[0],i=this[1],r=this[2];return this[0]=e[0]*t+e[4]*i+e[8]*r,this[1]=e[1]*t+e[5]*i+e[9]*r,this[2]=e[2]*t+e[6]*i+e[10]*r,this.normalize()}}const ZS=new Qr;let iL=1,rL=1,JS=!1;class sL{constructor(e,t={}){e.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=e,this.attributes=t,this.id=iL++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let i in t)this.addAttribute(i,t[i])}addAttribute(e,t){if(this.attributes[e]=t,t.id=rL++,t.size=t.size||1,t.type=t.type||(t.data.constructor===Float32Array?this.gl.FLOAT:t.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),t.target=e==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,t.normalized=t.normalized||!1,t.stride=t.stride||0,t.offset=t.offset||0,t.count=t.count||(t.stride?t.data.byteLength/t.stride:t.data.length/t.size),t.divisor=t.instanced||0,t.needsUpdate=!1,t.usage=t.usage||this.gl.STATIC_DRAW,t.buffer||this.updateAttribute(t),t.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==t.count*t.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,t.count*t.divisor);this.instancedCount=t.count*t.divisor}else e==="index"?this.drawRange.count=t.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,t.count))}updateAttribute(e){const t=!e.buffer;t&&(e.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==e.buffer&&(this.gl.bindBuffer(e.target,e.buffer),this.glState.boundBuffer=e.buffer),t?this.gl.bufferData(e.target,e.data,e.usage):this.gl.bufferSubData(e.target,0,e.data),e.needsUpdate=!1}setIndex(e){this.addAttribute("index",e)}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}setInstancedCount(e){this.instancedCount=e}createVAO(e){this.VAOs[e.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.bindAttributes(e)}bindAttributes(e){e.attributeLocations.forEach((t,{name:i,type:r})=>{if(!this.attributes[i]){console.warn(`active attribute ${i} not being supplied`);return}const s=this.attributes[i];this.gl.bindBuffer(s.target,s.buffer),this.glState.boundBuffer=s.buffer;let o=1;r===35674&&(o=2),r===35675&&(o=3),r===35676&&(o=4);const c=s.size/o,h=o===1?0:o*o*4,f=o===1?0:o*4;for(let m=0;m<o;m++)this.gl.vertexAttribPointer(t+m,c,s.type,s.normalized,s.stride+h,s.offset+m*f),this.gl.enableVertexAttribArray(t+m),this.gl.renderer.vertexAttribDivisor(t+m,s.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:e,mode:t=this.gl.TRIANGLES}){this.gl.renderer.currentGeometry!==`${this.id}_${e.attributeOrder}`&&(this.VAOs[e.attributeOrder]||this.createVAO(e),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${e.attributeOrder}`),e.attributeLocations.forEach((r,{name:s})=>{const o=this.attributes[s];o.needsUpdate&&this.updateAttribute(o)});let i=2;this.attributes.index?.type===this.gl.UNSIGNED_INT&&(i=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(t,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*i,this.instancedCount):this.gl.renderer.drawArraysInstanced(t,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(t,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*i):this.gl.drawArrays(t,this.drawRange.start,this.drawRange.count)}getPosition(){const e=this.attributes.position;if(e.data)return e;if(!JS)return console.warn("No position buffer data found to compute bounds"),JS=!0}computeBoundingBox(e){e||(e=this.getPosition());const t=e.data,i=e.size;this.bounds||(this.bounds={min:new Qr,max:new Qr,center:new Qr,scale:new Qr,radius:1/0});const r=this.bounds.min,s=this.bounds.max,o=this.bounds.center,c=this.bounds.scale;r.set(1/0),s.set(-1/0);for(let h=0,f=t.length;h<f;h+=i){const m=t[h],p=t[h+1],v=t[h+2];r.x=Math.min(m,r.x),r.y=Math.min(p,r.y),r.z=Math.min(v,r.z),s.x=Math.max(m,s.x),s.y=Math.max(p,s.y),s.z=Math.max(v,s.z)}c.sub(s,r),o.add(r,s).divide(2)}computeBoundingSphere(e){e||(e=this.getPosition());const t=e.data,i=e.size;this.bounds||this.computeBoundingBox(e);let r=0;for(let s=0,o=t.length;s<o;s+=i)ZS.fromArray(t,s),r=Math.max(r,this.bounds.center.squaredDistance(ZS));this.bounds.radius=Math.sqrt(r)}remove(){for(let e in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[e]),delete this.VAOs[e];for(let e in this.attributes)this.gl.deleteBuffer(this.attributes[e].buffer),delete this.attributes[e]}}let aL=1;const ew={};class oL{constructor(e,{vertex:t,fragment:i,uniforms:r={},transparent:s=!1,cullFace:o=e.BACK,frontFace:c=e.CCW,depthTest:h=!0,depthWrite:f=!0,depthFunc:m=e.LEQUAL}={}){e.canvas||console.error("gl not passed as first argument to Program"),this.gl=e,this.uniforms=r,this.id=aL++,t||console.warn("vertex shader not supplied"),i||console.warn("fragment shader not supplied"),this.transparent=s,this.cullFace=o,this.frontFace=c,this.depthTest=h,this.depthWrite=f,this.depthFunc=m,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=e.createShader(e.VERTEX_SHADER),this.fragmentShader=e.createShader(e.FRAGMENT_SHADER),this.program=e.createProgram(),e.attachShader(this.program,this.vertexShader),e.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:t,fragment:i})}setShaders({vertex:e,fragment:t}){if(e&&(this.gl.shaderSource(this.vertexShader,e),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${tw(e)}`)),t&&(this.gl.shaderSource(this.fragmentShader,t),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${tw(t)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let i=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let o=0;o<i;o++){let c=this.gl.getActiveUniform(this.program,o);this.uniformLocations.set(c,this.gl.getUniformLocation(this.program,c.name));const h=c.name.match(/(\w+)/g);c.uniformName=h[0],c.nameComponents=h.slice(1)}this.attributeLocations=new Map;const r=[],s=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let o=0;o<s;o++){const c=this.gl.getActiveAttrib(this.program,o),h=this.gl.getAttribLocation(this.program,c.name);h!==-1&&(r[h]=c.name,this.attributeLocations.set(c,h))}this.attributeOrder=r.join("")}setBlendFunc(e,t,i,r){this.blendFunc.src=e,this.blendFunc.dst=t,this.blendFunc.srcAlpha=i,this.blendFunc.dstAlpha=r,e&&(this.transparent=!0)}setBlendEquation(e,t){this.blendEquation.modeRGB=e,this.blendEquation.modeAlpha=t}setStencilFunc(e,t,i){this.stencilRef=t,this.stencilFunc.func=e,this.stencilFunc.ref=t,this.stencilFunc.mask=i}setStencilOp(e,t,i){this.stencilOp.stencilFail=e,this.stencilOp.depthFail=t,this.stencilOp.depthPass=i}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:e=!1}={}){let t=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((r,s)=>{let o=this.uniforms[s.uniformName];for(const c of s.nameComponents){if(!o)break;if(c in o)o=o[c];else{if(Array.isArray(o.value))break;o=void 0;break}}if(!o)return nw(`Active uniform ${s.name} has not been supplied`);if(o&&o.value===void 0)return nw(`${s.name} uniform is missing a value parameter`);if(o.value.texture)return t=t+1,o.value.update(t),V1(this.gl,s.type,r,t);if(o.value.length&&o.value[0].texture){const c=[];return o.value.forEach(h=>{t=t+1,h.update(t),c.push(t)}),V1(this.gl,s.type,r,c)}V1(this.gl,s.type,r,o.value)}),this.applyState(),e&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function V1(n,e,t,i){i=i.length?lL(i):i;const r=n.renderer.state.uniformLocations.get(t);if(i.length)if(r===void 0||r.length!==i.length)n.renderer.state.uniformLocations.set(t,i.slice(0));else{if(cL(r,i))return;r.set?r.set(i):uL(r,i),n.renderer.state.uniformLocations.set(t,r)}else{if(r===i)return;n.renderer.state.uniformLocations.set(t,i)}switch(e){case 5126:return i.length?n.uniform1fv(t,i):n.uniform1f(t,i);case 35664:return n.uniform2fv(t,i);case 35665:return n.uniform3fv(t,i);case 35666:return n.uniform4fv(t,i);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return i.length?n.uniform1iv(t,i):n.uniform1i(t,i);case 35671:case 35667:return n.uniform2iv(t,i);case 35672:case 35668:return n.uniform3iv(t,i);case 35673:case 35669:return n.uniform4iv(t,i);case 35674:return n.uniformMatrix2fv(t,!1,i);case 35675:return n.uniformMatrix3fv(t,!1,i);case 35676:return n.uniformMatrix4fv(t,!1,i)}}function tw(n){let e=n.split(`
`);for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join(`
`)}function lL(n){const e=n.length,t=n[0].length;if(t===void 0)return n;const i=e*t;let r=ew[i];r||(ew[i]=r=new Float32Array(i));for(let s=0;s<e;s++)r.set(n[s],s*t);return r}function cL(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function uL(n,e){for(let t=0,i=n.length;t<i;t++)n[t]=e[t]}let U1=0;function nw(n){U1>100||(console.warn(n),U1++,U1>100&&console.warn("More than 100 program warnings - stopping logs."))}const z1=new Qr;let hL=1;class fL{constructor({canvas:e=document.createElement("canvas"),width:t=300,height:i=150,dpr:r=1,alpha:s=!1,depth:o=!0,stencil:c=!1,antialias:h=!1,premultipliedAlpha:f=!1,preserveDrawingBuffer:m=!1,powerPreference:p="default",autoClear:v=!0,webgl:x=2}={}){const T={alpha:s,depth:o,stencil:c,antialias:h,premultipliedAlpha:f,preserveDrawingBuffer:m,powerPreference:p};this.dpr=r,this.alpha=s,this.color=!0,this.depth=o,this.stencil=c,this.premultipliedAlpha=f,this.autoClear=v,this.id=hL++,x===2&&(this.gl=e.getContext("webgl2",T)),this.isWebgl2=!!this.gl,this.gl||(this.gl=e.getContext("webgl",T)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(t,i),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(e,t){this.width=e,this.height=t,this.gl.canvas.width=e*this.dpr,this.gl.canvas.height=t*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:e+"px",height:t+"px"})}setViewport(e,t,i=0,r=0){this.state.viewport.width===e&&this.state.viewport.height===t||(this.state.viewport.width=e,this.state.viewport.height=t,this.state.viewport.x=i,this.state.viewport.y=r,this.gl.viewport(i,r,e,t))}setScissor(e,t,i=0,r=0){this.gl.scissor(i,r,e,t)}enable(e){this.state[e]!==!0&&(this.gl.enable(e),this.state[e]=!0)}disable(e){this.state[e]!==!1&&(this.gl.disable(e),this.state[e]=!1)}setBlendFunc(e,t,i,r){this.state.blendFunc.src===e&&this.state.blendFunc.dst===t&&this.state.blendFunc.srcAlpha===i&&this.state.blendFunc.dstAlpha===r||(this.state.blendFunc.src=e,this.state.blendFunc.dst=t,this.state.blendFunc.srcAlpha=i,this.state.blendFunc.dstAlpha=r,i!==void 0?this.gl.blendFuncSeparate(e,t,i,r):this.gl.blendFunc(e,t))}setBlendEquation(e,t){e=e||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===e&&this.state.blendEquation.modeAlpha===t)&&(this.state.blendEquation.modeRGB=e,this.state.blendEquation.modeAlpha=t,t!==void 0?this.gl.blendEquationSeparate(e,t):this.gl.blendEquation(e))}setCullFace(e){this.state.cullFace!==e&&(this.state.cullFace=e,this.gl.cullFace(e))}setFrontFace(e){this.state.frontFace!==e&&(this.state.frontFace=e,this.gl.frontFace(e))}setDepthMask(e){this.state.depthMask!==e&&(this.state.depthMask=e,this.gl.depthMask(e))}setDepthFunc(e){this.state.depthFunc!==e&&(this.state.depthFunc=e,this.gl.depthFunc(e))}setStencilMask(e){this.state.stencilMask!==e&&(this.state.stencilMask=e,this.gl.stencilMask(e))}setStencilFunc(e,t,i){this.state.stencilFunc===e&&this.state.stencilRef===t&&this.state.stencilFuncMask===i||(this.state.stencilFunc=e||this.gl.ALWAYS,this.state.stencilRef=t||0,this.state.stencilFuncMask=i||0,this.gl.stencilFunc(e||this.gl.ALWAYS,t||0,i||0))}setStencilOp(e,t,i){this.state.stencilFail===e&&this.state.stencilDepthFail===t&&this.state.stencilDepthPass===i||(this.state.stencilFail=e,this.state.stencilDepthFail=t,this.state.stencilDepthPass=i,this.gl.stencilOp(e,t,i))}activeTexture(e){this.state.activeTextureUnit!==e&&(this.state.activeTextureUnit=e,this.gl.activeTexture(this.gl.TEXTURE0+e))}bindFramebuffer({target:e=this.gl.FRAMEBUFFER,buffer:t=null}={}){this.state.framebuffer!==t&&(this.state.framebuffer=t,this.gl.bindFramebuffer(e,t))}getExtension(e,t,i){return t&&this.gl[t]?this.gl[t].bind(this.gl):(this.extensions[e]||(this.extensions[e]=this.gl.getExtension(e)),t?this.extensions[e]?this.extensions[e][i].bind(this.extensions[e]):null:this.extensions[e])}sortOpaque(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program.id!==t.program.id?e.program.id-t.program.id:e.zDepth!==t.zDepth?e.zDepth-t.zDepth:t.id-e.id}sortTransparent(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.zDepth!==t.zDepth?t.zDepth-e.zDepth:t.id-e.id}sortUI(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program.id!==t.program.id?e.program.id-t.program.id:t.id-e.id}getRenderList({scene:e,camera:t,frustumCull:i,sort:r}){let s=[];if(t&&i&&t.updateFrustum(),e.traverse(o=>{if(!o.visible)return!0;o.draw&&(i&&o.frustumCulled&&t&&!t.frustumIntersectsMesh(o)||s.push(o))}),r){const o=[],c=[],h=[];s.forEach(f=>{f.program.transparent?f.program.depthTest?c.push(f):h.push(f):o.push(f),f.zDepth=0,!(f.renderOrder!==0||!f.program.depthTest||!t)&&(f.worldMatrix.getTranslation(z1),z1.applyMatrix4(t.projectionViewMatrix),f.zDepth=z1.z)}),o.sort(this.sortOpaque),c.sort(this.sortTransparent),h.sort(this.sortUI),s=o.concat(c,h)}return s}render({scene:e,camera:t,target:i=null,update:r=!0,sort:s=!0,frustumCull:o=!0,clear:c}){i===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(i),this.setViewport(i.width,i.height)),(c||this.autoClear&&c!==!1)&&(this.depth&&(!i||i.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!i||i.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),r&&e.updateMatrixWorld(),t&&t.updateMatrixWorld(),this.getRenderList({scene:e,camera:t,frustumCull:o,sort:s}).forEach(f=>{f.draw({camera:t})})}}function dL(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n}function mL(n,e,t,i,r){return n[0]=e,n[1]=t,n[2]=i,n[3]=r,n}function gL(n,e){let t=e[0],i=e[1],r=e[2],s=e[3],o=t*t+i*i+r*r+s*s;return o>0&&(o=1/Math.sqrt(o)),n[0]=t*o,n[1]=i*o,n[2]=r*o,n[3]=s*o,n}function pL(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]+n[3]*e[3]}function _L(n){return n[0]=0,n[1]=0,n[2]=0,n[3]=1,n}function vL(n,e,t){t=t*.5;let i=Math.sin(t);return n[0]=i*e[0],n[1]=i*e[1],n[2]=i*e[2],n[3]=Math.cos(t),n}function iw(n,e,t){let i=e[0],r=e[1],s=e[2],o=e[3],c=t[0],h=t[1],f=t[2],m=t[3];return n[0]=i*m+o*c+r*f-s*h,n[1]=r*m+o*h+s*c-i*f,n[2]=s*m+o*f+i*h-r*c,n[3]=o*m-i*c-r*h-s*f,n}function yL(n,e,t){t*=.5;let i=e[0],r=e[1],s=e[2],o=e[3],c=Math.sin(t),h=Math.cos(t);return n[0]=i*h+o*c,n[1]=r*h+s*c,n[2]=s*h-r*c,n[3]=o*h-i*c,n}function xL(n,e,t){t*=.5;let i=e[0],r=e[1],s=e[2],o=e[3],c=Math.sin(t),h=Math.cos(t);return n[0]=i*h-s*c,n[1]=r*h+o*c,n[2]=s*h+i*c,n[3]=o*h-r*c,n}function EL(n,e,t){t*=.5;let i=e[0],r=e[1],s=e[2],o=e[3],c=Math.sin(t),h=Math.cos(t);return n[0]=i*h+r*c,n[1]=r*h-i*c,n[2]=s*h+o*c,n[3]=o*h-s*c,n}function TL(n,e,t,i){let r=e[0],s=e[1],o=e[2],c=e[3],h=t[0],f=t[1],m=t[2],p=t[3],v,x,T,E,S;return x=r*h+s*f+o*m+c*p,x<0&&(x=-x,h=-h,f=-f,m=-m,p=-p),1-x>1e-6?(v=Math.acos(x),T=Math.sin(v),E=Math.sin((1-i)*v)/T,S=Math.sin(i*v)/T):(E=1-i,S=i),n[0]=E*r+S*h,n[1]=E*s+S*f,n[2]=E*o+S*m,n[3]=E*c+S*p,n}function SL(n,e){let t=e[0],i=e[1],r=e[2],s=e[3],o=t*t+i*i+r*r+s*s,c=o?1/o:0;return n[0]=-t*c,n[1]=-i*c,n[2]=-r*c,n[3]=s*c,n}function wL(n,e){return n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n[3]=e[3],n}function bL(n,e){let t=e[0]+e[4]+e[8],i;if(t>0)i=Math.sqrt(t+1),n[3]=.5*i,i=.5/i,n[0]=(e[5]-e[7])*i,n[1]=(e[6]-e[2])*i,n[2]=(e[1]-e[3])*i;else{let r=0;e[4]>e[0]&&(r=1),e[8]>e[r*3+r]&&(r=2);let s=(r+1)%3,o=(r+2)%3;i=Math.sqrt(e[r*3+r]-e[s*3+s]-e[o*3+o]+1),n[r]=.5*i,i=.5/i,n[3]=(e[s*3+o]-e[o*3+s])*i,n[s]=(e[s*3+r]+e[r*3+s])*i,n[o]=(e[o*3+r]+e[r*3+o])*i}return n}function AL(n,e,t="YXZ"){let i=Math.sin(e[0]*.5),r=Math.cos(e[0]*.5),s=Math.sin(e[1]*.5),o=Math.cos(e[1]*.5),c=Math.sin(e[2]*.5),h=Math.cos(e[2]*.5);return t==="XYZ"?(n[0]=i*o*h+r*s*c,n[1]=r*s*h-i*o*c,n[2]=r*o*c+i*s*h,n[3]=r*o*h-i*s*c):t==="YXZ"?(n[0]=i*o*h+r*s*c,n[1]=r*s*h-i*o*c,n[2]=r*o*c-i*s*h,n[3]=r*o*h+i*s*c):t==="ZXY"?(n[0]=i*o*h-r*s*c,n[1]=r*s*h+i*o*c,n[2]=r*o*c+i*s*h,n[3]=r*o*h-i*s*c):t==="ZYX"?(n[0]=i*o*h-r*s*c,n[1]=r*s*h+i*o*c,n[2]=r*o*c-i*s*h,n[3]=r*o*h+i*s*c):t==="YZX"?(n[0]=i*o*h+r*s*c,n[1]=r*s*h+i*o*c,n[2]=r*o*c-i*s*h,n[3]=r*o*h-i*s*c):t==="XZY"&&(n[0]=i*o*h-r*s*c,n[1]=r*s*h-i*o*c,n[2]=r*o*c+i*s*h,n[3]=r*o*h+i*s*c),n}const CL=dL,RL=mL,IL=pL,DL=gL;class OL extends Array{constructor(e=0,t=0,i=0,r=1){super(e,t,i,r),this.onChange=()=>{},this._target=this;const s=["0","1","2","3"];return new Proxy(this,{set(o,c){const h=Reflect.set(...arguments);return h&&s.includes(c)&&o.onChange(),h}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set w(e){this._target[3]=e,this.onChange()}identity(){return _L(this._target),this.onChange(),this}set(e,t,i,r){return e.length?this.copy(e):(RL(this._target,e,t,i,r),this.onChange(),this)}rotateX(e){return yL(this._target,this._target,e),this.onChange(),this}rotateY(e){return xL(this._target,this._target,e),this.onChange(),this}rotateZ(e){return EL(this._target,this._target,e),this.onChange(),this}inverse(e=this._target){return SL(this._target,e),this.onChange(),this}conjugate(e=this._target){return wL(this._target,e),this.onChange(),this}copy(e){return CL(this._target,e),this.onChange(),this}normalize(e=this._target){return DL(this._target,e),this.onChange(),this}multiply(e,t){return t?iw(this._target,e,t):iw(this._target,this._target,e),this.onChange(),this}dot(e){return IL(this._target,e)}fromMatrix3(e){return bL(this._target,e),this.onChange(),this}fromEuler(e,t){return AL(this._target,e,e.order),t||this.onChange(),this}fromAxisAngle(e,t){return vL(this._target,e,t),this.onChange(),this}slerp(e,t){return TL(this._target,this._target,e,t),this.onChange(),this}fromArray(e,t=0){return this._target[0]=e[t],this._target[1]=e[t+1],this._target[2]=e[t+2],this._target[3]=e[t+3],this.onChange(),this}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e[t+3]=this[3],e}}const NL=1e-6;function ML(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n}function kL(n,e,t,i,r,s,o,c,h,f,m,p,v,x,T,E,S){return n[0]=e,n[1]=t,n[2]=i,n[3]=r,n[4]=s,n[5]=o,n[6]=c,n[7]=h,n[8]=f,n[9]=m,n[10]=p,n[11]=v,n[12]=x,n[13]=T,n[14]=E,n[15]=S,n}function PL(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function FL(n,e){let t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],c=e[5],h=e[6],f=e[7],m=e[8],p=e[9],v=e[10],x=e[11],T=e[12],E=e[13],S=e[14],C=e[15],O=t*c-i*o,N=t*h-r*o,H=t*f-s*o,Y=i*h-r*c,te=i*f-s*c,A=r*f-s*h,D=m*E-p*T,I=m*S-v*T,P=m*C-x*T,M=p*S-v*E,B=p*C-x*E,F=v*C-x*S,Te=O*F-N*B+H*M+Y*P-te*I+A*D;return Te?(Te=1/Te,n[0]=(c*F-h*B+f*M)*Te,n[1]=(r*B-i*F-s*M)*Te,n[2]=(E*A-S*te+C*Y)*Te,n[3]=(v*te-p*A-x*Y)*Te,n[4]=(h*P-o*F-f*I)*Te,n[5]=(t*F-r*P+s*I)*Te,n[6]=(S*H-T*A-C*N)*Te,n[7]=(m*A-v*H+x*N)*Te,n[8]=(o*B-c*P+f*D)*Te,n[9]=(i*P-t*B-s*D)*Te,n[10]=(T*te-E*H+C*O)*Te,n[11]=(p*H-m*te-x*O)*Te,n[12]=(c*I-o*M-h*D)*Te,n[13]=(t*M-i*I+r*D)*Te,n[14]=(E*N-T*Y-S*O)*Te,n[15]=(m*Y-p*N+v*O)*Te,n):null}function tC(n){let e=n[0],t=n[1],i=n[2],r=n[3],s=n[4],o=n[5],c=n[6],h=n[7],f=n[8],m=n[9],p=n[10],v=n[11],x=n[12],T=n[13],E=n[14],S=n[15],C=e*o-t*s,O=e*c-i*s,N=e*h-r*s,H=t*c-i*o,Y=t*h-r*o,te=i*h-r*c,A=f*T-m*x,D=f*E-p*x,I=f*S-v*x,P=m*E-p*T,M=m*S-v*T,B=p*S-v*E;return C*B-O*M+N*P+H*I-Y*D+te*A}function rw(n,e,t){let i=e[0],r=e[1],s=e[2],o=e[3],c=e[4],h=e[5],f=e[6],m=e[7],p=e[8],v=e[9],x=e[10],T=e[11],E=e[12],S=e[13],C=e[14],O=e[15],N=t[0],H=t[1],Y=t[2],te=t[3];return n[0]=N*i+H*c+Y*p+te*E,n[1]=N*r+H*h+Y*v+te*S,n[2]=N*s+H*f+Y*x+te*C,n[3]=N*o+H*m+Y*T+te*O,N=t[4],H=t[5],Y=t[6],te=t[7],n[4]=N*i+H*c+Y*p+te*E,n[5]=N*r+H*h+Y*v+te*S,n[6]=N*s+H*f+Y*x+te*C,n[7]=N*o+H*m+Y*T+te*O,N=t[8],H=t[9],Y=t[10],te=t[11],n[8]=N*i+H*c+Y*p+te*E,n[9]=N*r+H*h+Y*v+te*S,n[10]=N*s+H*f+Y*x+te*C,n[11]=N*o+H*m+Y*T+te*O,N=t[12],H=t[13],Y=t[14],te=t[15],n[12]=N*i+H*c+Y*p+te*E,n[13]=N*r+H*h+Y*v+te*S,n[14]=N*s+H*f+Y*x+te*C,n[15]=N*o+H*m+Y*T+te*O,n}function LL(n,e,t){let i=t[0],r=t[1],s=t[2],o,c,h,f,m,p,v,x,T,E,S,C;return e===n?(n[12]=e[0]*i+e[4]*r+e[8]*s+e[12],n[13]=e[1]*i+e[5]*r+e[9]*s+e[13],n[14]=e[2]*i+e[6]*r+e[10]*s+e[14],n[15]=e[3]*i+e[7]*r+e[11]*s+e[15]):(o=e[0],c=e[1],h=e[2],f=e[3],m=e[4],p=e[5],v=e[6],x=e[7],T=e[8],E=e[9],S=e[10],C=e[11],n[0]=o,n[1]=c,n[2]=h,n[3]=f,n[4]=m,n[5]=p,n[6]=v,n[7]=x,n[8]=T,n[9]=E,n[10]=S,n[11]=C,n[12]=o*i+m*r+T*s+e[12],n[13]=c*i+p*r+E*s+e[13],n[14]=h*i+v*r+S*s+e[14],n[15]=f*i+x*r+C*s+e[15]),n}function BL(n,e,t){let i=t[0],r=t[1],s=t[2];return n[0]=e[0]*i,n[1]=e[1]*i,n[2]=e[2]*i,n[3]=e[3]*i,n[4]=e[4]*r,n[5]=e[5]*r,n[6]=e[6]*r,n[7]=e[7]*r,n[8]=e[8]*s,n[9]=e[9]*s,n[10]=e[10]*s,n[11]=e[11]*s,n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n}function VL(n,e,t,i){let r=i[0],s=i[1],o=i[2],c=Math.hypot(r,s,o),h,f,m,p,v,x,T,E,S,C,O,N,H,Y,te,A,D,I,P,M,B,F,Te,Oe;return Math.abs(c)<NL?null:(c=1/c,r*=c,s*=c,o*=c,h=Math.sin(t),f=Math.cos(t),m=1-f,p=e[0],v=e[1],x=e[2],T=e[3],E=e[4],S=e[5],C=e[6],O=e[7],N=e[8],H=e[9],Y=e[10],te=e[11],A=r*r*m+f,D=s*r*m+o*h,I=o*r*m-s*h,P=r*s*m-o*h,M=s*s*m+f,B=o*s*m+r*h,F=r*o*m+s*h,Te=s*o*m-r*h,Oe=o*o*m+f,n[0]=p*A+E*D+N*I,n[1]=v*A+S*D+H*I,n[2]=x*A+C*D+Y*I,n[3]=T*A+O*D+te*I,n[4]=p*P+E*M+N*B,n[5]=v*P+S*M+H*B,n[6]=x*P+C*M+Y*B,n[7]=T*P+O*M+te*B,n[8]=p*F+E*Te+N*Oe,n[9]=v*F+S*Te+H*Oe,n[10]=x*F+C*Te+Y*Oe,n[11]=T*F+O*Te+te*Oe,e!==n&&(n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n)}function UL(n,e){return n[0]=e[12],n[1]=e[13],n[2]=e[14],n}function nC(n,e){let t=e[0],i=e[1],r=e[2],s=e[4],o=e[5],c=e[6],h=e[8],f=e[9],m=e[10];return n[0]=Math.hypot(t,i,r),n[1]=Math.hypot(s,o,c),n[2]=Math.hypot(h,f,m),n}function zL(n){let e=n[0],t=n[1],i=n[2],r=n[4],s=n[5],o=n[6],c=n[8],h=n[9],f=n[10];const m=e*e+t*t+i*i,p=r*r+s*s+o*o,v=c*c+h*h+f*f;return Math.sqrt(Math.max(m,p,v))}const iC=(function(){const n=[1,1,1];return function(e,t){let i=n;nC(i,t);let r=1/i[0],s=1/i[1],o=1/i[2],c=t[0]*r,h=t[1]*s,f=t[2]*o,m=t[4]*r,p=t[5]*s,v=t[6]*o,x=t[8]*r,T=t[9]*s,E=t[10]*o,S=c+p+E,C=0;return S>0?(C=Math.sqrt(S+1)*2,e[3]=.25*C,e[0]=(v-T)/C,e[1]=(x-f)/C,e[2]=(h-m)/C):c>p&&c>E?(C=Math.sqrt(1+c-p-E)*2,e[3]=(v-T)/C,e[0]=.25*C,e[1]=(h+m)/C,e[2]=(x+f)/C):p>E?(C=Math.sqrt(1+p-c-E)*2,e[3]=(x-f)/C,e[0]=(h+m)/C,e[1]=.25*C,e[2]=(v+T)/C):(C=Math.sqrt(1+E-c-p)*2,e[3]=(h-m)/C,e[0]=(x+f)/C,e[1]=(v+T)/C,e[2]=.25*C),e}})();function jL(n,e,t,i){let r=Uh([n[0],n[1],n[2]]);const s=Uh([n[4],n[5],n[6]]),o=Uh([n[8],n[9],n[10]]);tC(n)<0&&(r=-r),t[0]=n[12],t[1]=n[13],t[2]=n[14];const h=n.slice(),f=1/r,m=1/s,p=1/o;h[0]*=f,h[1]*=f,h[2]*=f,h[4]*=m,h[5]*=m,h[6]*=m,h[8]*=p,h[9]*=p,h[10]*=p,iC(e,h),i[0]=r,i[1]=s,i[2]=o}function HL(n,e,t,i){const r=n,s=e[0],o=e[1],c=e[2],h=e[3],f=s+s,m=o+o,p=c+c,v=s*f,x=s*m,T=s*p,E=o*m,S=o*p,C=c*p,O=h*f,N=h*m,H=h*p,Y=i[0],te=i[1],A=i[2];return r[0]=(1-(E+C))*Y,r[1]=(x+H)*Y,r[2]=(T-N)*Y,r[3]=0,r[4]=(x-H)*te,r[5]=(1-(v+C))*te,r[6]=(S+O)*te,r[7]=0,r[8]=(T+N)*A,r[9]=(S-O)*A,r[10]=(1-(v+E))*A,r[11]=0,r[12]=t[0],r[13]=t[1],r[14]=t[2],r[15]=1,r}function qL(n,e){let t=e[0],i=e[1],r=e[2],s=e[3],o=t+t,c=i+i,h=r+r,f=t*o,m=i*o,p=i*c,v=r*o,x=r*c,T=r*h,E=s*o,S=s*c,C=s*h;return n[0]=1-p-T,n[1]=m+C,n[2]=v-S,n[3]=0,n[4]=m-C,n[5]=1-f-T,n[6]=x+E,n[7]=0,n[8]=v+S,n[9]=x-E,n[10]=1-f-p,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function GL(n,e,t,i,r){let s=1/Math.tan(e/2),o=1/(i-r);return n[0]=s/t,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=s,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=(r+i)*o,n[11]=-1,n[12]=0,n[13]=0,n[14]=2*r*i*o,n[15]=0,n}function WL(n,e,t,i,r,s,o){let c=1/(e-t),h=1/(i-r),f=1/(s-o);return n[0]=-2*c,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=-2*h,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=2*f,n[11]=0,n[12]=(e+t)*c,n[13]=(r+i)*h,n[14]=(o+s)*f,n[15]=1,n}function YL(n,e,t,i){let r=e[0],s=e[1],o=e[2],c=i[0],h=i[1],f=i[2],m=r-t[0],p=s-t[1],v=o-t[2],x=m*m+p*p+v*v;x===0?v=1:(x=1/Math.sqrt(x),m*=x,p*=x,v*=x);let T=h*v-f*p,E=f*m-c*v,S=c*p-h*m;return x=T*T+E*E+S*S,x===0&&(f?c+=1e-6:h?f+=1e-6:h+=1e-6,T=h*v-f*p,E=f*m-c*v,S=c*p-h*m,x=T*T+E*E+S*S),x=1/Math.sqrt(x),T*=x,E*=x,S*=x,n[0]=T,n[1]=E,n[2]=S,n[3]=0,n[4]=p*S-v*E,n[5]=v*T-m*S,n[6]=m*E-p*T,n[7]=0,n[8]=m,n[9]=p,n[10]=v,n[11]=0,n[12]=r,n[13]=s,n[14]=o,n[15]=1,n}function sw(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3],n[4]=e[4]+t[4],n[5]=e[5]+t[5],n[6]=e[6]+t[6],n[7]=e[7]+t[7],n[8]=e[8]+t[8],n[9]=e[9]+t[9],n[10]=e[10]+t[10],n[11]=e[11]+t[11],n[12]=e[12]+t[12],n[13]=e[13]+t[13],n[14]=e[14]+t[14],n[15]=e[15]+t[15],n}function aw(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n[3]=e[3]-t[3],n[4]=e[4]-t[4],n[5]=e[5]-t[5],n[6]=e[6]-t[6],n[7]=e[7]-t[7],n[8]=e[8]-t[8],n[9]=e[9]-t[9],n[10]=e[10]-t[10],n[11]=e[11]-t[11],n[12]=e[12]-t[12],n[13]=e[13]-t[13],n[14]=e[14]-t[14],n[15]=e[15]-t[15],n}function XL(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n[4]=e[4]*t,n[5]=e[5]*t,n[6]=e[6]*t,n[7]=e[7]*t,n[8]=e[8]*t,n[9]=e[9]*t,n[10]=e[10]*t,n[11]=e[11]*t,n[12]=e[12]*t,n[13]=e[13]*t,n[14]=e[14]*t,n[15]=e[15]*t,n}class xm extends Array{constructor(e=1,t=0,i=0,r=0,s=0,o=1,c=0,h=0,f=0,m=0,p=1,v=0,x=0,T=0,E=0,S=1){return super(e,t,i,r,s,o,c,h,f,m,p,v,x,T,E,S),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(e){this[12]=e}set y(e){this[13]=e}set z(e){this[14]=e}set w(e){this[15]=e}set(e,t,i,r,s,o,c,h,f,m,p,v,x,T,E,S){return e.length?this.copy(e):(kL(this,e,t,i,r,s,o,c,h,f,m,p,v,x,T,E,S),this)}translate(e,t=this){return LL(this,t,e),this}rotate(e,t,i=this){return VL(this,i,e,t),this}scale(e,t=this){return BL(this,t,typeof e=="number"?[e,e,e]:e),this}add(e,t){return t?sw(this,e,t):sw(this,this,e),this}sub(e,t){return t?aw(this,e,t):aw(this,this,e),this}multiply(e,t){return e.length?t?rw(this,e,t):rw(this,this,e):XL(this,this,e),this}identity(){return PL(this),this}copy(e){return ML(this,e),this}fromPerspective({fov:e,aspect:t,near:i,far:r}={}){return GL(this,e,t,i,r),this}fromOrthogonal({left:e,right:t,bottom:i,top:r,near:s,far:o}){return WL(this,e,t,i,r,s,o),this}fromQuaternion(e){return qL(this,e),this}setPosition(e){return this.x=e[0],this.y=e[1],this.z=e[2],this}inverse(e=this){return FL(this,e),this}compose(e,t,i){return HL(this,e,t,i),this}decompose(e,t,i){return jL(this,e,t,i),this}getRotation(e){return iC(e,this),this}getTranslation(e){return UL(e,this),this}getScaling(e){return nC(e,this),this}getMaxScaleOnAxis(){return zL(this)}lookAt(e,t,i){return YL(this,e,t,i),this}determinant(){return tC(this)}fromArray(e,t=0){return this[0]=e[t],this[1]=e[t+1],this[2]=e[t+2],this[3]=e[t+3],this[4]=e[t+4],this[5]=e[t+5],this[6]=e[t+6],this[7]=e[t+7],this[8]=e[t+8],this[9]=e[t+9],this[10]=e[t+10],this[11]=e[t+11],this[12]=e[t+12],this[13]=e[t+13],this[14]=e[t+14],this[15]=e[t+15],this}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e[t+3]=this[3],e[t+4]=this[4],e[t+5]=this[5],e[t+6]=this[6],e[t+7]=this[7],e[t+8]=this[8],e[t+9]=this[9],e[t+10]=this[10],e[t+11]=this[11],e[t+12]=this[12],e[t+13]=this[13],e[t+14]=this[14],e[t+15]=this[15],e}}function $L(n,e,t="YXZ"){return t==="XYZ"?(n[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),Math.abs(e[8])<.99999?(n[0]=Math.atan2(-e[9],e[10]),n[2]=Math.atan2(-e[4],e[0])):(n[0]=Math.atan2(e[6],e[5]),n[2]=0)):t==="YXZ"?(n[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),Math.abs(e[9])<.99999?(n[1]=Math.atan2(e[8],e[10]),n[2]=Math.atan2(e[1],e[5])):(n[1]=Math.atan2(-e[2],e[0]),n[2]=0)):t==="ZXY"?(n[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),Math.abs(e[6])<.99999?(n[1]=Math.atan2(-e[2],e[10]),n[2]=Math.atan2(-e[4],e[5])):(n[1]=0,n[2]=Math.atan2(e[1],e[0]))):t==="ZYX"?(n[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),Math.abs(e[2])<.99999?(n[0]=Math.atan2(e[6],e[10]),n[2]=Math.atan2(e[1],e[0])):(n[0]=0,n[2]=Math.atan2(-e[4],e[5]))):t==="YZX"?(n[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),Math.abs(e[1])<.99999?(n[0]=Math.atan2(-e[9],e[5]),n[1]=Math.atan2(-e[2],e[0])):(n[0]=0,n[1]=Math.atan2(e[8],e[10]))):t==="XZY"&&(n[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),Math.abs(e[4])<.99999?(n[0]=Math.atan2(e[6],e[5]),n[1]=Math.atan2(e[8],e[0])):(n[0]=Math.atan2(-e[9],e[10]),n[1]=0)),n}const ow=new xm;class KL extends Array{constructor(e=0,t=e,i=e,r="YXZ"){super(e,t,i),this.order=r,this.onChange=()=>{},this._target=this;const s=["0","1","2"];return new Proxy(this,{set(o,c){const h=Reflect.set(...arguments);return h&&s.includes(c)&&o.onChange(),h}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set(e,t=e,i=e){return e.length?this.copy(e):(this._target[0]=e,this._target[1]=t,this._target[2]=i,this.onChange(),this)}copy(e){return this._target[0]=e[0],this._target[1]=e[1],this._target[2]=e[2],this.onChange(),this}reorder(e){return this._target.order=e,this.onChange(),this}fromRotationMatrix(e,t=this.order){return $L(this._target,e,t),this.onChange(),this}fromQuaternion(e,t=this.order,i){return ow.fromQuaternion(e),this._target.fromRotationMatrix(ow,t),i||this.onChange(),this}fromArray(e,t=0){return this._target[0]=e[t],this._target[1]=e[t+1],this._target[2]=e[t+2],this}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e}}class QL{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new xm,this.worldMatrix=new xm,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new Qr,this.quaternion=new OL,this.scale=new Qr(1),this.rotation=new KL,this.up=new Qr(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(e,t=!0){this.parent&&e!==this.parent&&this.parent.removeChild(this,!1),this.parent=e,t&&e&&e.addChild(this,!1)}addChild(e,t=!0){~this.children.indexOf(e)||this.children.push(e),t&&e.setParent(this,!1)}removeChild(e,t=!0){~this.children.indexOf(e)&&this.children.splice(this.children.indexOf(e),1),t&&e.setParent(null,!1)}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||e)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,e=!0);for(let t=0,i=this.children.length;t<i;t++)this.children[t].updateMatrixWorld(e)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(e){if(!e(this))for(let t=0,i=this.children.length;t<i;t++)this.children[t].traverse(e)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(e,t=!1){t?this.matrix.lookAt(this.position,e,this.up):this.matrix.lookAt(e,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}function ZL(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[4],n[4]=e[5],n[5]=e[6],n[6]=e[8],n[7]=e[9],n[8]=e[10],n}function JL(n,e){let t=e[0],i=e[1],r=e[2],s=e[3],o=t+t,c=i+i,h=r+r,f=t*o,m=i*o,p=i*c,v=r*o,x=r*c,T=r*h,E=s*o,S=s*c,C=s*h;return n[0]=1-p-T,n[3]=m-C,n[6]=v+S,n[1]=m+C,n[4]=1-f-T,n[7]=x-E,n[2]=v-S,n[5]=x+E,n[8]=1-f-p,n}function e9(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n}function t9(n,e,t,i,r,s,o,c,h,f){return n[0]=e,n[1]=t,n[2]=i,n[3]=r,n[4]=s,n[5]=o,n[6]=c,n[7]=h,n[8]=f,n}function n9(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=1,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n}function i9(n,e){let t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],c=e[5],h=e[6],f=e[7],m=e[8],p=m*o-c*f,v=-m*s+c*h,x=f*s-o*h,T=t*p+i*v+r*x;return T?(T=1/T,n[0]=p*T,n[1]=(-m*i+r*f)*T,n[2]=(c*i-r*o)*T,n[3]=v*T,n[4]=(m*t-r*h)*T,n[5]=(-c*t+r*s)*T,n[6]=x*T,n[7]=(-f*t+i*h)*T,n[8]=(o*t-i*s)*T,n):null}function lw(n,e,t){let i=e[0],r=e[1],s=e[2],o=e[3],c=e[4],h=e[5],f=e[6],m=e[7],p=e[8],v=t[0],x=t[1],T=t[2],E=t[3],S=t[4],C=t[5],O=t[6],N=t[7],H=t[8];return n[0]=v*i+x*o+T*f,n[1]=v*r+x*c+T*m,n[2]=v*s+x*h+T*p,n[3]=E*i+S*o+C*f,n[4]=E*r+S*c+C*m,n[5]=E*s+S*h+C*p,n[6]=O*i+N*o+H*f,n[7]=O*r+N*c+H*m,n[8]=O*s+N*h+H*p,n}function r9(n,e,t){let i=e[0],r=e[1],s=e[2],o=e[3],c=e[4],h=e[5],f=e[6],m=e[7],p=e[8],v=t[0],x=t[1];return n[0]=i,n[1]=r,n[2]=s,n[3]=o,n[4]=c,n[5]=h,n[6]=v*i+x*o+f,n[7]=v*r+x*c+m,n[8]=v*s+x*h+p,n}function s9(n,e,t){let i=e[0],r=e[1],s=e[2],o=e[3],c=e[4],h=e[5],f=e[6],m=e[7],p=e[8],v=Math.sin(t),x=Math.cos(t);return n[0]=x*i+v*o,n[1]=x*r+v*c,n[2]=x*s+v*h,n[3]=x*o-v*i,n[4]=x*c-v*r,n[5]=x*h-v*s,n[6]=f,n[7]=m,n[8]=p,n}function a9(n,e,t){let i=t[0],r=t[1];return n[0]=i*e[0],n[1]=i*e[1],n[2]=i*e[2],n[3]=r*e[3],n[4]=r*e[4],n[5]=r*e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n}function o9(n,e){let t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],c=e[5],h=e[6],f=e[7],m=e[8],p=e[9],v=e[10],x=e[11],T=e[12],E=e[13],S=e[14],C=e[15],O=t*c-i*o,N=t*h-r*o,H=t*f-s*o,Y=i*h-r*c,te=i*f-s*c,A=r*f-s*h,D=m*E-p*T,I=m*S-v*T,P=m*C-x*T,M=p*S-v*E,B=p*C-x*E,F=v*C-x*S,Te=O*F-N*B+H*M+Y*P-te*I+A*D;return Te?(Te=1/Te,n[0]=(c*F-h*B+f*M)*Te,n[1]=(h*P-o*F-f*I)*Te,n[2]=(o*B-c*P+f*D)*Te,n[3]=(r*B-i*F-s*M)*Te,n[4]=(t*F-r*P+s*I)*Te,n[5]=(i*P-t*B-s*D)*Te,n[6]=(E*A-S*te+C*Y)*Te,n[7]=(S*H-T*A-C*N)*Te,n[8]=(T*te-E*H+C*O)*Te,n):null}class l9 extends Array{constructor(e=1,t=0,i=0,r=0,s=1,o=0,c=0,h=0,f=1){return super(e,t,i,r,s,o,c,h,f),this}set(e,t,i,r,s,o,c,h,f){return e.length?this.copy(e):(t9(this,e,t,i,r,s,o,c,h,f),this)}translate(e,t=this){return r9(this,t,e),this}rotate(e,t=this){return s9(this,t,e),this}scale(e,t=this){return a9(this,t,e),this}multiply(e,t){return t?lw(this,e,t):lw(this,this,e),this}identity(){return n9(this),this}copy(e){return e9(this,e),this}fromMatrix4(e){return ZL(this,e),this}fromQuaternion(e){return JL(this,e),this}fromBasis(e,t,i){return this.set(e[0],e[1],e[2],t[0],t[1],t[2],i[0],i[1],i[2]),this}inverse(e=this){return i9(this,e),this}getNormalMatrix(e){return o9(this,e),this}}let c9=0;class u9 extends QL{constructor(e,{geometry:t,program:i,mode:r=e.TRIANGLES,frustumCulled:s=!0,renderOrder:o=0}={}){super(),e.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=e,this.id=c9++,this.geometry=t,this.program=i,this.mode=r,this.frustumCulled=s,this.renderOrder=o,this.modelViewMatrix=new xm,this.normalMatrix=new l9,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(e){return this.beforeRenderCallbacks.push(e),this}onAfterRender(e){return this.afterRenderCallbacks.push(e),this}draw({camera:e}={}){e&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=e.projectionMatrix,this.program.uniforms.cameraPosition.value=e.worldPosition,this.program.uniforms.viewMatrix.value=e.viewMatrix,this.modelViewMatrix.multiply(e.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(i=>i&&i({mesh:this,camera:e}));let t=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:t}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(i=>i&&i({mesh:this,camera:e}))}}function h9(n,e){return n[0]=e[0],n[1]=e[1],n}function f9(n,e,t){return n[0]=e,n[1]=t,n}function cw(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n}function uw(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n}function d9(n,e,t){return n[0]=e[0]*t[0],n[1]=e[1]*t[1],n}function m9(n,e,t){return n[0]=e[0]/t[0],n[1]=e[1]/t[1],n}function j1(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n}function g9(n,e){var t=e[0]-n[0],i=e[1]-n[1];return Math.sqrt(t*t+i*i)}function p9(n,e){var t=e[0]-n[0],i=e[1]-n[1];return t*t+i*i}function hw(n){var e=n[0],t=n[1];return Math.sqrt(e*e+t*t)}function _9(n){var e=n[0],t=n[1];return e*e+t*t}function v9(n,e){return n[0]=-e[0],n[1]=-e[1],n}function y9(n,e){return n[0]=1/e[0],n[1]=1/e[1],n}function x9(n,e){var t=e[0],i=e[1],r=t*t+i*i;return r>0&&(r=1/Math.sqrt(r)),n[0]=e[0]*r,n[1]=e[1]*r,n}function E9(n,e){return n[0]*e[0]+n[1]*e[1]}function fw(n,e){return n[0]*e[1]-n[1]*e[0]}function T9(n,e,t,i){var r=e[0],s=e[1];return n[0]=r+i*(t[0]-r),n[1]=s+i*(t[1]-s),n}function S9(n,e,t,i,r){const s=Math.exp(-i*r);let o=e[0],c=e[1];return n[0]=t[0]+(o-t[0])*s,n[1]=t[1]+(c-t[1])*s,n}function w9(n,e,t){var i=e[0],r=e[1];return n[0]=t[0]*i+t[3]*r+t[6],n[1]=t[1]*i+t[4]*r+t[7],n}function b9(n,e,t){let i=e[0],r=e[1];return n[0]=t[0]*i+t[4]*r+t[12],n[1]=t[1]*i+t[5]*r+t[13],n}function A9(n,e){return n[0]===e[0]&&n[1]===e[1]}class Qv extends Array{constructor(e=0,t=e){return super(e,t),this}get x(){return this[0]}get y(){return this[1]}set x(e){this[0]=e}set y(e){this[1]=e}set(e,t=e){return e.length?this.copy(e):(f9(this,e,t),this)}copy(e){return h9(this,e),this}add(e,t){return t?cw(this,e,t):cw(this,this,e),this}sub(e,t){return t?uw(this,e,t):uw(this,this,e),this}multiply(e){return e.length?d9(this,this,e):j1(this,this,e),this}divide(e){return e.length?m9(this,this,e):j1(this,this,1/e),this}inverse(e=this){return y9(this,e),this}len(){return hw(this)}distance(e){return e?g9(this,e):hw(this)}squaredLen(){return this.squaredDistance()}squaredDistance(e){return e?p9(this,e):_9(this)}negate(e=this){return v9(this,e),this}cross(e,t){return t?fw(e,t):fw(this,e)}scale(e){return j1(this,this,e),this}normalize(){return x9(this,this),this}dot(e){return E9(this,e)}equals(e){return A9(this,e)}applyMatrix3(e){return w9(this,this,e),this}applyMatrix4(e){return b9(this,this,e),this}lerp(e,t){return T9(this,this,e,t),this}smoothLerp(e,t,i){return S9(this,this,e,t,i),this}clone(){return new Qv(this[0],this[1])}fromArray(e,t=0){return this[0]=e[t],this[1]=e[t+1],this}toArray(e=[],t=0){return e[t]=this[0],e[t+1]=this[1],e}}class C9 extends sL{constructor(e,{attributes:t={}}={}){Object.assign(t,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(e,t)}}const R9=`
attribute vec2 position;
void main(){gl_Position=vec4(position,0.0,1.0);}
`,I9=`
#ifdef GL_ES
precision lowp float;
#endif
uniform vec2 uResolution;
uniform float uTime;
uniform float uHueShift;
uniform float uNoise;
uniform float uScan;
uniform float uScanFreq;
uniform float uWarp;
#define iTime uTime
#define iResolution uResolution

vec4 buf[8];
float rand(vec2 c){return fract(sin(dot(c,vec2(12.9898,78.233)))*43758.5453);}

mat3 rgb2yiq=mat3(0.299,0.587,0.114,0.596,-0.274,-0.322,0.211,-0.523,0.312);
mat3 yiq2rgb=mat3(1.0,0.956,0.621,1.0,-0.272,-0.647,1.0,-1.106,1.703);

vec3 hueShiftRGB(vec3 col,float deg){
    vec3 yiq=rgb2yiq*col;
    float rad=radians(deg);
    float cosh=cos(rad),sinh=sin(rad);
    vec3 yiqShift=vec3(yiq.x,yiq.y*cosh-yiq.z*sinh,yiq.y*sinh+yiq.z*cosh);
    return clamp(yiq2rgb*yiqShift,0.0,1.0);
}

vec4 sigmoid(vec4 x){return 1./(1.+exp(-x));}

vec4 cppn_fn(vec2 coordinate,float in0,float in1,float in2){
    buf[6]=vec4(coordinate.x,coordinate.y,0.3948333106474662+in0,0.36+in1);
    buf[7]=vec4(0.14+in2,sqrt(coordinate.x*coordinate.x+coordinate.y*coordinate.y),0.,0.);
    buf[0]=mat4(vec4(6.5404263,-3.6126034,0.7590882,-1.13613),vec4(2.4582713,3.1660357,1.2219609,0.06276096),vec4(-5.478085,-6.159632,1.8701609,-4.7742867),vec4(6.039214,-5.542865,-0.90925294,3.251348))*buf[6]+mat4(vec4(0.8473259,-5.722911,3.975766,1.6522468),vec4(-0.24321538,0.5839259,-1.7661959,-5.350116),vec4(0.,0.,0.,0.),vec4(0.,0.,0.,0.))*buf[7]+vec4(0.21808943,1.1243913,-1.7969975,5.0294676);
    buf[1]=mat4(vec4(-3.3522482,-6.0612736,0.55641043,-4.4719114),vec4(0.8631464,1.7432913,5.643898,1.6106541),vec4(2.4941394,-3.5012043,1.7184316,6.357333),vec4(3.310376,8.209261,1.1355612,-1.165539))*buf[6]+mat4(vec4(5.24046,-13.034365,0.009859298,15.870829),vec4(2.987511,3.129433,-0.89023495,-1.6822904),vec4(0.,0.,0.,0.),vec4(0.,0.,0.,0.))*buf[7]+vec4(-5.9457836,-6.573602,-0.8812491,1.5436668);
    buf[0]=sigmoid(buf[0]);buf[1]=sigmoid(buf[1]);
    buf[2]=mat4(vec4(-15.219568,8.095543,-2.429353,-1.9381982),vec4(-5.951362,4.3115187,2.6393783,1.274315),vec4(-7.3145227,6.7297835,5.2473326,5.9411426),vec4(5.0796127,8.979051,-1.7278991,-1.158976))*buf[6]+mat4(vec4(-11.967154,-11.608155,6.1486754,11.237008),vec4(2.124141,-6.263192,-1.7050359,-0.7021966),vec4(0.,0.,0.,0.),vec4(0.,0.,0.,0.))*buf[7]+vec4(-4.17164,-3.2281182,-4.576417,-3.6401186);
    buf[3]=mat4(vec4(3.1832156,-13.738922,1.879223,3.233465),vec4(0.64300746,12.768129,1.9141049,0.50990224),vec4(-0.049295485,4.4807224,1.4733979,1.801449),vec4(5.0039253,13.000481,3.3991797,-4.5561905))*buf[6]+mat4(vec4(-0.1285731,7.720628,-3.1425676,4.742367),vec4(0.6393625,3.714393,-0.8108378,-0.39174938),vec4(0.,0.,0.,0.),vec4(0.,0.,0.,0.))*buf[7]+vec4(-1.1811101,-21.621881,0.7851888,1.2329718);
    buf[2]=sigmoid(buf[2]);buf[3]=sigmoid(buf[3]);
    buf[4]=mat4(vec4(5.214916,-7.183024,2.7228765,2.6592617),vec4(-5.601878,-25.3591,4.067988,0.4602802),vec4(-10.57759,24.286327,21.102104,37.546658),vec4(4.3024497,-1.9625226,2.3458803,-1.372816))*buf[0]+mat4(vec4(-17.6526,-10.507558,2.2587414,12.462782),vec4(6.265566,-502.75443,-12.642513,0.9112289),vec4(-10.983244,20.741234,-9.701768,-0.7635988),vec4(5.383626,1.4819539,-4.1911616,-4.8444734))*buf[1]+mat4(vec4(12.785233,-16.345072,-0.39901125,1.7955981),vec4(-30.48365,-1.8345358,1.4542528,-1.1118771),vec4(19.872723,-7.337935,-42.941723,-98.52709),vec4(8.337645,-2.7312303,-2.2927687,-36.142323))*buf[2]+mat4(vec4(-16.298317,3.5471997,-0.44300047,-9.444417),vec4(57.5077,-35.609753,16.163465,-4.1534753),vec4(-0.07470326,-3.8656476,-7.0901804,3.1523974),vec4(-12.559385,-7.077619,1.490437,-0.8211543))*buf[3]+vec4(-7.67914,15.927437,1.3207729,-1.6686112);
    buf[5]=mat4(vec4(-1.4109162,-0.372762,-3.770383,-21.367174),vec4(-6.2103205,-9.35908,0.92529047,8.82561),vec4(11.460242,-22.348068,13.625772,-18.693201),vec4(-0.3429052,-3.9905605,-2.4626114,-0.45033523))*buf[0]+mat4(vec4(7.3481627,-4.3661838,-6.3037653,-3.868115),vec4(1.5462853,6.5488915,1.9701879,-0.58291394),vec4(6.5858274,-2.2180402,3.7127688,-1.3730392),vec4(-5.7973905,10.134961,-2.3395722,-5.965605))*buf[1]+mat4(vec4(-2.5132585,-6.6685553,-1.4029363,-0.16285264),vec4(-0.37908727,0.53738135,4.389061,-1.3024765),vec4(-0.70647055,2.0111287,-5.1659346,-3.728635),vec4(-13.562562,10.487719,-0.9173751,-2.6487076))*buf[2]+mat4(vec4(-8.645013,6.5546675,-6.3944063,-5.5933375),vec4(-0.57783127,-1.077275,36.91025,5.736769),vec4(14.283112,3.7146652,7.1452246,-4.5958776),vec4(2.7192075,3.6021907,-4.366337,-2.3653464))*buf[3]+vec4(-5.9000807,-4.329569,1.2427121,8.59503);
    buf[4]=sigmoid(buf[4]);buf[5]=sigmoid(buf[5]);
    buf[6]=mat4(vec4(-1.61102,0.7970257,1.4675229,0.20917463),vec4(-28.793737,-7.1390953,1.5025433,4.656581),vec4(-10.94861,39.66238,0.74318546,-10.095605),vec4(-0.7229728,-1.5483948,0.7301322,2.1687684))*buf[0]+mat4(vec4(3.2547753,21.489103,-1.0194173,-3.3100595),vec4(-3.7316632,-3.3792162,-7.223193,-0.23685838),vec4(13.1804495,0.7916005,5.338587,5.687114),vec4(-4.167605,-17.798311,-6.815736,-1.6451967))*buf[1]+mat4(vec4(0.604885,-7.800309,-7.213122,-2.741014),vec4(-3.522382,-0.12359311,-0.5258442,0.43852118),vec4(9.6752825,-22.853785,2.062431,0.099892326),vec4(-4.3196306,-17.730087,2.5184598,5.30267))*buf[2]+mat4(vec4(-6.545563,-15.790176,-6.0438633,-5.415399),vec4(-43.591583,28.551912,-16.00161,18.84728),vec4(4.212382,8.394307,3.0958717,8.657522),vec4(-5.0237565,-4.450633,-4.4768,-5.5010443))*buf[3]+mat4(vec4(1.6985557,-67.05806,6.897715,1.9004834),vec4(1.8680354,2.3915145,2.5231109,4.081538),vec4(11.158006,1.7294737,2.0738268,7.386411),vec4(-4.256034,-306.24686,8.258898,-17.132736))*buf[4]+mat4(vec4(1.6889864,-4.5852966,3.8534803,-6.3482175),vec4(1.3543309,-1.2640043,9.932754,2.9079645),vec4(-5.2770967,0.07150358,-0.13962056,3.3269649),vec4(28.34703,-4.918278,6.1044083,4.085355))*buf[5]+vec4(6.6818056,12.522166,-3.7075126,-4.104386);
    buf[7]=mat4(vec4(-8.265602,-4.7027016,5.098234,0.7509808),vec4(8.6507845,-17.15949,16.51939,-8.884479),vec4(-4.036479,-2.3946867,-2.6055532,-1.9866527),vec4(-2.2167742,-1.8135649,-5.9759874,4.8846445))*buf[0]+mat4(vec4(6.7790847,3.5076547,-2.8191125,-2.7028968),vec4(-5.743024,-0.27844876,1.4958696,-5.0517144),vec4(13.122226,15.735168,-2.9397483,-4.101023),vec4(-14.375265,-5.030483,-6.2599335,2.9848232))*buf[1]+mat4(vec4(4.0950394,-0.94011575,-5.674733,4.755022),vec4(4.3809423,4.8310084,1.7425908,-3.437416),vec4(2.117492,0.16342592,-104.56341,16.949184),vec4(-5.22543,-2.994248,3.8350096,-1.9364246))*buf[2]+mat4(vec4(-5.900337,1.7946124,-13.604192,-3.8060522),vec4(6.6583457,31.911177,25.164474,91.81147),vec4(11.840538,4.1503043,-0.7314397,6.768467),vec4(-6.3967767,4.034772,6.1714606,-0.32874924))*buf[3]+mat4(vec4(3.4992442,-196.91893,-8.923708,2.8142626),vec4(3.4806502,-3.1846354,5.1725626,5.1804223),vec4(-2.4009497,15.585794,1.2863957,2.0252278),vec4(-71.25271,-62.441242,-8.138444,0.50670296))*buf[4]+mat4(vec4(-12.291733,-11.176166,-7.3474145,4.390294),vec4(10.805477,5.6337385,-0.9385842,-4.7348723),vec4(-12.869276,-7.039391,5.3029537,7.5436664),vec4(1.4593618,8.91898,3.5101583,5.840625))*buf[5]+vec4(2.2415268,-6.705987,-0.98861027,-2.117676);
    buf[6]=sigmoid(buf[6]);buf[7]=sigmoid(buf[7]);
    buf[0]=mat4(vec4(1.6794263,1.3817469,2.9625452,0.),vec4(-1.8834411,-1.4806935,-3.5924516,0.),vec4(-1.3279216,-1.0918057,-2.3124623,0.),vec4(0.2662234,0.23235129,0.44178495,0.))*buf[0]+mat4(vec4(-0.6299101,-0.5945583,-0.9125601,0.),vec4(0.17828953,0.18300213,0.18182953,0.),vec4(-2.96544,-2.5819945,-4.9001055,0.),vec4(1.4195864,1.1868085,2.5176322,0.))*buf[1]+mat4(vec4(-1.2584374,-1.0552157,-2.1688404,0.),vec4(-0.7200217,-0.52666044,-1.438251,0.),vec4(0.15345335,0.15196142,0.272854,0.),vec4(0.945728,0.8861938,1.2766753,0.))*buf[2]+mat4(vec4(-2.4218085,-1.968602,-4.35166,0.),vec4(-22.683098,-18.0544,-41.954372,0.),vec4(0.63792,0.5470648,1.1078634,0.),vec4(-1.5489894,-1.3075932,-2.6444845,0.))*buf[3]+mat4(vec4(-0.49252132,-0.39877754,-0.91366625,0.),vec4(0.95609266,0.7923952,1.640221,0.),vec4(0.30616966,0.15693925,0.8639857,0.),vec4(1.1825981,0.94504964,2.176963,0.))*buf[4]+mat4(vec4(0.35446745,0.3293795,0.59547555,0.),vec4(-0.58784515,-0.48177817,-1.0614829,0.),vec4(2.5271258,1.9991658,4.6846647,0.),vec4(0.13042648,0.08864098,0.30187556,0.))*buf[5]+mat4(vec4(-1.7718065,-1.4033192,-3.3355875,0.),vec4(3.1664357,2.638297,5.378702,0.),vec4(-3.1724713,-2.6107926,-5.549295,0.),vec4(-2.851368,-2.249092,-5.3013067,0.))*buf[6]+mat4(vec4(1.5203838,1.2212278,2.8404984,0.),vec4(1.5210563,1.2651345,2.683903,0.),vec4(2.9789467,2.4364579,5.2347264,0.),vec4(2.2270417,1.8825914,3.8028636,0.))*buf[7]+vec4(-1.5468478,-3.6171484,0.24762098,0.);
    buf[0]=sigmoid(buf[0]);
    return vec4(buf[0].x,buf[0].y,buf[0].z,1.);
}

void mainImage(out vec4 fragColor,in vec2 fragCoord){
    vec2 uv=fragCoord/uResolution.xy*2.-1.;
    uv.y*=-1.;
    uv+=uWarp*vec2(sin(uv.y*6.283+uTime*0.5),cos(uv.x*6.283+uTime*0.5))*0.05;
    fragColor=cppn_fn(uv,0.1*sin(0.3*uTime),0.1*sin(0.69*uTime),0.1*sin(0.44*uTime));
}

void main(){
    vec4 col;mainImage(col,gl_FragCoord.xy);
    col.rgb=hueShiftRGB(col.rgb,uHueShift);
    float scanline_val=sin(gl_FragCoord.y*uScanFreq)*0.5+0.5;
    col.rgb*=1.-(scanline_val*scanline_val)*uScan;
    col.rgb+=(rand(gl_FragCoord.xy+uTime)-0.5)*uNoise;
    gl_FragColor=vec4(clamp(col.rgb,0.0,1.0),1.0);
}
`;function Zv({hueShift:n=0,noiseIntensity:e=.02,scanlineIntensity:t=0,speed:i=.5,scanlineFrequency:r=0,warpAmount:s=0,resolutionScale:o=1}){const c=oe.useRef(null);return oe.useEffect(()=>{const h=c.current,f=h.parentElement,m=new fL({dpr:Math.min(window.devicePixelRatio,2),canvas:h}),p=m.gl,v=new C9(p),x=new oL(p,{vertex:R9,fragment:I9,uniforms:{uTime:{value:0},uResolution:{value:new Qv},uHueShift:{value:n},uNoise:{value:e},uScan:{value:t},uScanFreq:{value:r},uWarp:{value:s}}}),T=new u9(p,{geometry:v,program:x}),E=()=>{const N=f.clientWidth,H=f.clientHeight;m.setSize(N*o,H*o),x.uniforms.uResolution.value.set(N,H)};window.addEventListener("resize",E),E();const S=performance.now();let C=0;const O=()=>{x.uniforms.uTime.value=(performance.now()-S)/1e3*i,x.uniforms.uHueShift.value=n,x.uniforms.uNoise.value=e,x.uniforms.uScan.value=t,x.uniforms.uScanFreq.value=r,x.uniforms.uWarp.value=s,m.render({scene:T}),C=requestAnimationFrame(O)};return O(),()=>{cancelAnimationFrame(C),window.removeEventListener("resize",E)}},[n,e,t,i,r,s,o]),q.jsx("div",{className:"animated-background",children:q.jsx("canvas",{ref:c,className:"background-canvas"})})}const D9=()=>{const[n,e]=oe.useState({firstName:"",middleName:"",surname:"",contactNumber:"",email:"",branch:"",year:"",division:"",rollNumber:"",zprnNumber:""}),[t,i]=oe.useState(!1),[r,s]=oe.useState(null);oe.useEffect(()=>{const f=m=>{m.ctrlKey&&m.shiftKey&&m.altKey&&m.key==="A"&&(m.preventDefault(),window.location.hash="/admin")};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[]);const o=f=>{const{name:m,value:p}=f.target,v=m==="division"?p.toUpperCase():p;e(x=>({...x,[m]:v}))},c=()=>{const f=["firstName","surname","contactNumber","email","branch","year","division","rollNumber","zprnNumber"];for(const v of f)if(!n[v])return s({type:"error",message:"Please fill in all required fields!"}),!1;return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)?/^[0-9]{10}$/.test(n.contactNumber)?!0:(s({type:"error",message:"Please enter a valid 10-digit contact number!"}),!1):(s({type:"error",message:"Please enter a valid email address!"}),!1)},h=async f=>{if(f.preventDefault(),s(null),!!c()){i(!0);try{await V8(Nv(Vc,"students"),{...n,submittedAt:U8()}),s({type:"success",message:" Form submitted successfully! Thank you for registering."}),e({firstName:"",middleName:"",surname:"",contactNumber:"",email:"",branch:"",year:"",division:"",rollNumber:"",zprnNumber:""})}catch(m){console.error("Error submitting form:",m),s({type:"error",message:"Failed to submit form. Please try again later."})}finally{i(!1)}}};return q.jsxs("div",{className:"student-form-container",children:[q.jsx(Zv,{}),q.jsxs("div",{className:"form-wrapper",children:[q.jsx("h1",{className:"form-title",children:"Student Registration Form"}),q.jsx("p",{className:"form-subtitle",children:"Please fill in all the required fields marked with *"}),r&&q.jsx("div",{className:`feedback-message ${r.type}`,children:r.message}),q.jsxs("form",{onSubmit:h,className:"student-form",children:[q.jsxs("div",{className:"form-row",children:[q.jsxs("div",{className:"form-group",children:[q.jsx("label",{htmlFor:"firstName",children:"First Name *"}),q.jsx("input",{type:"text",id:"firstName",name:"firstName",value:n.firstName,onChange:o,required:!0,placeholder:"Enter first name"})]}),q.jsxs("div",{className:"form-group",children:[q.jsx("label",{htmlFor:"middleName",children:"Middle Name"}),q.jsx("input",{type:"text",id:"middleName",name:"middleName",value:n.middleName,onChange:o,placeholder:"Enter middle name"})]}),q.jsxs("div",{className:"form-group",children:[q.jsx("label",{htmlFor:"surname",children:"Surname *"}),q.jsx("input",{type:"text",id:"surname",name:"surname",value:n.surname,onChange:o,required:!0,placeholder:"Enter surname"})]})]}),q.jsxs("div",{className:"form-row",children:[q.jsxs("div",{className:"form-group",children:[q.jsx("label",{htmlFor:"contactNumber",children:"Contact Number *"}),q.jsx("input",{type:"tel",id:"contactNumber",name:"contactNumber",value:n.contactNumber,onChange:o,required:!0,pattern:"[0-9]{10}",placeholder:"10-digit number"})]}),q.jsxs("div",{className:"form-group",children:[q.jsx("label",{htmlFor:"email",children:"E-mail *"}),q.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:o,required:!0,placeholder:"example@email.com"})]})]}),q.jsxs("div",{className:"form-row",children:[q.jsxs("div",{className:"form-group",children:[q.jsx("label",{htmlFor:"branch",children:"Branch *"}),q.jsxs("select",{id:"branch",name:"branch",value:n.branch,onChange:o,required:!0,children:[q.jsx("option",{value:"",children:"Select Branch"}),q.jsx("option",{value:"Computer",children:"Computer"}),q.jsx("option",{value:"IT",children:"IT"}),q.jsx("option",{value:"Mechanical",children:"Mechanical"}),q.jsx("option",{value:"Electrical",children:"Electrical"}),q.jsx("option",{value:"Electronics",children:"Electronics"}),q.jsx("option",{value:"Civil",children:"Civil"})]})]}),q.jsxs("div",{className:"form-group",children:[q.jsx("label",{htmlFor:"year",children:"Year *"}),q.jsxs("select",{id:"year",name:"year",value:n.year,onChange:o,required:!0,children:[q.jsx("option",{value:"",children:"Select Year"}),q.jsx("option",{value:"FY",children:"FY"}),q.jsx("option",{value:"SY",children:"SY"}),q.jsx("option",{value:"TY",children:"TY"}),q.jsx("option",{value:"Final Year",children:"Final Year"})]})]}),q.jsxs("div",{className:"form-group",children:[q.jsx("label",{htmlFor:"division",children:"Division *"}),q.jsx("input",{type:"text",id:"division",name:"division",value:n.division,onChange:o,required:!0,placeholder:"A, B, C, ...",maxLength:1})]})]}),q.jsxs("div",{className:"form-row",children:[q.jsxs("div",{className:"form-group",children:[q.jsx("label",{htmlFor:"rollNumber",children:"Roll Number *"}),q.jsx("input",{type:"text",id:"rollNumber",name:"rollNumber",value:n.rollNumber,onChange:o,required:!0,maxLength:15,placeholder:"Enter roll number"})]}),q.jsxs("div",{className:"form-group",children:[q.jsx("label",{htmlFor:"zprnNumber",children:"ZPRN Number *"}),q.jsx("input",{type:"text",id:"zprnNumber",name:"zprnNumber",value:n.zprnNumber,onChange:o,required:!0,maxLength:15,placeholder:"Enter ZPRN number"})]})]}),q.jsx("button",{type:"submit",className:"submit-button",disabled:t,children:t?"Submitting...":"Submit Form"}),q.jsx("div",{style:{marginTop:"20px",textAlign:"center",fontSize:"10px",opacity:.3,color:"#ffffff",fontFamily:"monospace"},children:"Admin? Try Ctrl+Shift+Alt+A"})]})]})]})},O9=({onLogin:n})=>{const[e,t]=oe.useState({username:"",password:""}),[i,r]=oe.useState(!1),[s,o]=oe.useState(""),c=f=>{const{name:m,value:p}=f.target;t(v=>({...v,[m]:p}))},h=async f=>{f.preventDefault(),o(""),r(!0);try{const m=y3(Nv(Vc,"admins"),CS("username","==",e.username),CS("password","==",e.password));(await E3(m)).empty?o("Invalid username or password"):n()}catch(m){console.error("Error logging in:",m),o("Failed to login. Please try again.")}finally{r(!1)}};return q.jsxs("div",{className:"admin-login-container",children:[q.jsx(Zv,{}),q.jsxs("div",{className:"login-wrapper",children:[q.jsx("h1",{className:"login-title",children:"Admin Login"}),q.jsx("p",{className:"login-subtitle",children:"Please enter your credentials to access the admin panel"}),s&&q.jsx("div",{className:"error-message",children:s}),q.jsxs("form",{onSubmit:h,className:"login-form",children:[q.jsxs("div",{className:"form-group",children:[q.jsx("label",{htmlFor:"username",children:"Username"}),q.jsx("input",{type:"text",id:"username",name:"username",value:e.username,onChange:c,required:!0,placeholder:"Enter username",autoComplete:"username"})]}),q.jsxs("div",{className:"form-group",children:[q.jsx("label",{htmlFor:"password",children:"Password"}),q.jsx("input",{type:"password",id:"password",name:"password",value:e.password,onChange:c,required:!0,placeholder:"Enter password",autoComplete:"current-password"})]}),q.jsx("button",{type:"submit",className:"login-button",disabled:i,children:i?"Logging in...":"Login"})]}),q.jsx("div",{className:"login-info",children:q.jsx("p",{children:" This is a secure admin area. Unauthorized access is prohibited."})})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Em={};Em.version="0.18.5";var rC=1252,N9=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],sC=function(n){N9.indexOf(n)!=-1&&(rC=n)};function M9(){sC(1252)}var cf=function(n){sC(n)};function k9(){cf(1200),M9()}var v0=function(e){return String.fromCharCode(e)},dw=function(e){return String.fromCharCode(e)},Tm,ho="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function uf(n){for(var e="",t=0,i=0,r=0,s=0,o=0,c=0,h=0,f=0;f<n.length;)t=n.charCodeAt(f++),s=t>>2,i=n.charCodeAt(f++),o=(t&3)<<4|i>>4,r=n.charCodeAt(f++),c=(i&15)<<2|r>>6,h=r&63,isNaN(i)?c=h=64:isNaN(r)&&(h=64),e+=ho.charAt(s)+ho.charAt(o)+ho.charAt(c)+ho.charAt(h);return e}function ya(n){var e="",t=0,i=0,r=0,s=0,o=0,c=0,h=0;n=n.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<n.length;)s=ho.indexOf(n.charAt(f++)),o=ho.indexOf(n.charAt(f++)),t=s<<2|o>>4,e+=String.fromCharCode(t),c=ho.indexOf(n.charAt(f++)),i=(o&15)<<4|c>>2,c!==64&&(e+=String.fromCharCode(i)),h=ho.indexOf(n.charAt(f++)),r=(c&3)<<6|h,h!==64&&(e+=String.fromCharCode(r));return e}var Mt=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Sa=(function(){if(typeof Buffer<"u"){var n=!Buffer.from;if(!n)try{Buffer.from("foo","utf8")}catch{n=!0}return n?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Cl(n){return Mt?Buffer.alloc?Buffer.alloc(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}function mw(n){return Mt?Buffer.allocUnsafe?Buffer.allocUnsafe(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}var $r=function(e){return Mt?Sa(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function fg(n){if(typeof ArrayBuffer>"u")return $r(n);for(var e=new ArrayBuffer(n.length),t=new Uint8Array(e),i=0;i!=n.length;++i)t[i]=n.charCodeAt(i)&255;return e}function Vf(n){if(Array.isArray(n))return n.map(function(i){return String.fromCharCode(i)}).join("");for(var e=[],t=0;t<n.length;++t)e[t]=String.fromCharCode(n[t]);return e.join("")}function P9(n){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(n)}var hi=Mt?function(n){return Buffer.concat(n.map(function(e){return Buffer.isBuffer(e)?e:Sa(e)}))}:function(n){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<n.length;++e)t+=n[e].length;var i=new Uint8Array(t),r=0;for(e=0,t=0;e<n.length;t+=r,++e)if(r=n[e].length,n[e]instanceof Uint8Array)i.set(n[e],t);else{if(typeof n[e]=="string")throw"wtf";i.set(new Uint8Array(n[e]),t)}return i}return[].concat.apply([],n.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function F9(n){for(var e=[],t=0,i=n.length+250,r=Cl(n.length+255),s=0;s<n.length;++s){var o=n.charCodeAt(s);if(o<128)r[t++]=o;else if(o<2048)r[t++]=192|o>>6&31,r[t++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var c=n.charCodeAt(++s)&1023;r[t++]=240|o>>8&7,r[t++]=128|o>>2&63,r[t++]=128|c>>6&15|(o&3)<<4,r[t++]=128|c&63}else r[t++]=224|o>>12&15,r[t++]=128|o>>6&63,r[t++]=128|o&63;t>i&&(e.push(r.slice(0,t)),t=0,r=Cl(65535),i=65530)}return e.push(r.slice(0,t)),hi(e)}var zh=/\u0000/g,y0=/[\u0001-\u0006]/g;function Yc(n){for(var e="",t=n.length-1;t>=0;)e+=n.charAt(t--);return e}function Zr(n,e){var t=""+n;return t.length>=e?t:yn("0",e-t.length)+t}function Jv(n,e){var t=""+n;return t.length>=e?t:yn(" ",e-t.length)+t}function Sm(n,e){var t=""+n;return t.length>=e?t:t+yn(" ",e-t.length)}function L9(n,e){var t=""+Math.round(n);return t.length>=e?t:yn("0",e-t.length)+t}function B9(n,e){var t=""+n;return t.length>=e?t:yn("0",e-t.length)+t}var gw=Math.pow(2,32);function Rc(n,e){if(n>gw||n<-gw)return L9(n,e);var t=Math.round(n);return B9(t,e)}function wm(n,e){return e=e||0,n.length>=7+e&&(n.charCodeAt(e)|32)===103&&(n.charCodeAt(e+1)|32)===101&&(n.charCodeAt(e+2)|32)===110&&(n.charCodeAt(e+3)|32)===101&&(n.charCodeAt(e+4)|32)===114&&(n.charCodeAt(e+5)|32)===97&&(n.charCodeAt(e+6)|32)===108}var pw=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],H1=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function V9(n){return n||(n={}),n[0]="General",n[1]="0",n[2]="0.00",n[3]="#,##0",n[4]="#,##0.00",n[9]="0%",n[10]="0.00%",n[11]="0.00E+00",n[12]="# ?/?",n[13]="# ??/??",n[14]="m/d/yy",n[15]="d-mmm-yy",n[16]="d-mmm",n[17]="mmm-yy",n[18]="h:mm AM/PM",n[19]="h:mm:ss AM/PM",n[20]="h:mm",n[21]="h:mm:ss",n[22]="m/d/yy h:mm",n[37]="#,##0 ;(#,##0)",n[38]="#,##0 ;[Red](#,##0)",n[39]="#,##0.00;(#,##0.00)",n[40]="#,##0.00;[Red](#,##0.00)",n[45]="mm:ss",n[46]="[h]:mm:ss",n[47]="mmss.0",n[48]="##0.0E+0",n[49]="@",n[56]='"/ "hh""mm""ss" "',n}var En={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},_w={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},U9={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function bm(n,e,t){for(var i=n<0?-1:1,r=n*i,s=0,o=1,c=0,h=1,f=0,m=0,p=Math.floor(r);f<e&&(p=Math.floor(r),c=p*o+s,m=p*f+h,!(r-p<5e-8));)r=1/(r-p),s=o,o=c,h=f,f=m;if(m>e&&(f>e?(m=h,c=s):(m=f,c=o)),!t)return[0,i*c,m];var v=Math.floor(i*c/m);return[v,i*c-v*m,m]}function x0(n,e,t){if(n>2958465||n<0)return null;var i=n|0,r=Math.floor(86400*(n-i)),s=0,o=[],c={D:i,T:r,u:86400*(n-i)-r,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),e&&e.date1904&&(i+=1462),c.u>.9999&&(c.u=0,++r==86400&&(c.T=r=0,++i,++c.D)),i===60)o=t?[1317,10,29]:[1900,2,29],s=3;else if(i===0)o=t?[1317,8,29]:[1900,1,0],s=6;else{i>60&&--i;var h=new Date(1900,0,1);h.setDate(h.getDate()+i-1),o=[h.getFullYear(),h.getMonth()+1,h.getDate()],s=h.getDay(),i<60&&(s=(s+6)%7),t&&(s=Y9(h,o))}return c.y=o[0],c.m=o[1],c.d=o[2],c.S=r%60,r=Math.floor(r/60),c.M=r%60,r=Math.floor(r/60),c.H=r,c.q=s,c}var aC=new Date(1899,11,31,0,0,0),z9=aC.getTime(),j9=new Date(1900,2,1,0,0,0);function oC(n,e){var t=n.getTime();return e?t-=1461*24*60*60*1e3:n>=j9&&(t+=1440*60*1e3),(t-(z9+(n.getTimezoneOffset()-aC.getTimezoneOffset())*6e4))/(1440*60*1e3)}function ey(n){return n.indexOf(".")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function H9(n){return n.indexOf("E")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function q9(n){var e=n<0?12:11,t=ey(n.toFixed(12));return t.length<=e||(t=n.toPrecision(10),t.length<=e)?t:n.toExponential(5)}function G9(n){var e=ey(n.toFixed(11));return e.length>(n<0?12:11)||e==="0"||e==="-0"?n.toPrecision(6):e}function W9(n){var e=Math.floor(Math.log(Math.abs(n))*Math.LOG10E),t;return e>=-4&&e<=-1?t=n.toPrecision(10+e):Math.abs(e)<=9?t=q9(n):e===10?t=n.toFixed(10).substr(0,12):t=G9(n),ey(H9(t.toUpperCase()))}function z_(n,e){switch(typeof n){case"string":return n;case"boolean":return n?"TRUE":"FALSE";case"number":return(n|0)===n?n.toString(10):W9(n);case"undefined":return"";case"object":if(n==null)return"";if(n instanceof Date)return Do(14,oC(n,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+n)}function Y9(n,e){e[0]-=581;var t=n.getDay();return n<60&&(t=(t+6)%7),t}function X9(n,e,t,i){var r="",s=0,o=0,c=t.y,h,f=0;switch(n){case 98:c=t.y+543;case 121:switch(e.length){case 1:case 2:h=c%100,f=2;break;default:h=c%1e4,f=4;break}break;case 109:switch(e.length){case 1:case 2:h=t.m,f=e.length;break;case 3:return H1[t.m-1][1];case 5:return H1[t.m-1][0];default:return H1[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:h=t.d,f=e.length;break;case 3:return pw[t.q][0];default:return pw[t.q][1]}break;case 104:switch(e.length){case 1:case 2:h=1+(t.H+11)%12,f=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:h=t.H,f=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:h=t.M,f=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?Zr(t.S,e.length):(i>=2?o=i===3?1e3:100:o=i===1?10:1,s=Math.round(o*(t.S+t.u)),s>=60*o&&(s=0),e==="s"?s===0?"0":""+s/o:(r=Zr(s,2+i),e==="ss"?r.substr(0,2):"."+r.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":h=t.D*24+t.H;break;case"[m]":case"[mm]":h=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":h=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}f=e.length===3?1:2;break;case 101:h=c,f=1;break}var m=f>0?Zr(h,f):"";return m}function fo(n){var e=3;if(n.length<=e)return n;for(var t=n.length%e,i=n.substr(0,t);t!=n.length;t+=e)i+=(i.length>0?",":"")+n.substr(t,e);return i}var lC=/%/g;function $9(n,e,t){var i=e.replace(lC,""),r=e.length-i.length;return ua(n,i,t*Math.pow(10,2*r))+yn("%",r)}function K9(n,e,t){for(var i=e.length-1;e.charCodeAt(i-1)===44;)--i;return ua(n,e.substr(0,i),t/Math.pow(10,3*(e.length-i)))}function cC(n,e){var t,i=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+cC(n,-e);var r=n.indexOf(".");r===-1&&(r=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%r;if(s<0&&(s+=r),t=(e/Math.pow(10,s)).toPrecision(i+1+(r+s)%r),t.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(o-t.length+s):t+="E+"+(o-s);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,r)+"."+t.substr(2+r),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,h,f,m){return h+f+m.substr(0,(r+s)%r)+"."+m.substr(s)+"E"})}else t=e.toExponential(i);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var uC=/# (\?+)( ?)\/( ?)(\d+)/;function Q9(n,e,t){var i=parseInt(n[4],10),r=Math.round(e*i),s=Math.floor(r/i),o=r-s*i,c=i;return t+(s===0?"":""+s)+" "+(o===0?yn(" ",n[1].length+1+n[4].length):Jv(o,n[1].length)+n[2]+"/"+n[3]+Zr(c,n[4].length))}function Z9(n,e,t){return t+(e===0?"":""+e)+yn(" ",n[1].length+2+n[4].length)}var hC=/^#*0*\.([0#]+)/,fC=/\).*[0#]/,dC=/\(###\) ###\\?-####/;function Mi(n){for(var e="",t,i=0;i!=n.length;++i)switch(t=n.charCodeAt(i)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function vw(n,e){var t=Math.pow(10,e);return""+Math.round(n*t)/t}function yw(n,e){var t=n-Math.floor(n),i=Math.pow(10,e);return e<(""+Math.round(t*i)).length?0:Math.round(t*i)}function J9(n,e){return e<(""+Math.round((n-Math.floor(n))*Math.pow(10,e))).length?1:0}function e7(n){return n<2147483647&&n>-2147483648?""+(n>=0?n|0:n-1|0):""+Math.floor(n)}function Rr(n,e,t){if(n.charCodeAt(0)===40&&!e.match(fC)){var i=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Rr("n",i,t):"("+Rr("n",i,-t)+")"}if(e.charCodeAt(e.length-1)===44)return K9(n,e,t);if(e.indexOf("%")!==-1)return $9(n,e,t);if(e.indexOf("E")!==-1)return cC(e,t);if(e.charCodeAt(0)===36)return"$"+Rr(n,e.substr(e.charAt(1)==" "?2:1),t);var r,s,o,c,h=Math.abs(t),f=t<0?"-":"";if(e.match(/^00+$/))return f+Rc(h,e.length);if(e.match(/^[#?]+$/))return r=Rc(t,0),r==="0"&&(r=""),r.length>e.length?r:Mi(e.substr(0,e.length-r.length))+r;if(s=e.match(uC))return Q9(s,h,f);if(e.match(/^#+0+$/))return f+Rc(h,e.length-e.indexOf("0"));if(s=e.match(hC))return r=vw(t,s[1].length).replace(/^([^\.]+)$/,"$1."+Mi(s[1])).replace(/\.$/,"."+Mi(s[1])).replace(/\.(\d*)$/,function(T,E){return"."+E+yn("0",Mi(s[1]).length-E.length)}),e.indexOf("0.")!==-1?r:r.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return f+vw(h,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return f+fo(Rc(h,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Rr(n,e,-t):fo(""+(Math.floor(t)+J9(t,s[1].length)))+"."+Zr(yw(t,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Rr(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return r=Yc(Rr(n,e.replace(/[\\-]/g,""),t)),o=0,Yc(Yc(e.replace(/\\/g,"")).replace(/[0#]/g,function(T){return o<r.length?r.charAt(o++):T==="0"?"0":""}));if(e.match(dC))return r=Rr(n,"##########",t),"("+r.substr(0,3)+") "+r.substr(3,3)+"-"+r.substr(6);var m="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),c=bm(h,Math.pow(10,o)-1,!1),r=""+f,m=ua("n",s[1],c[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),r+=m+s[2]+"/"+s[3],m=Sm(c[2],o),m.length<s[4].length&&(m=Mi(s[4].substr(s[4].length-m.length))+m),r+=m,r;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),c=bm(h,Math.pow(10,o)-1,!0),f+(c[0]||(c[1]?"":"0"))+" "+(c[1]?Jv(c[1],o)+s[2]+"/"+s[3]+Sm(c[2],o):yn(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return r=Rc(t,0),e.length<=r.length?r:Mi(e.substr(0,e.length-r.length))+r;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){r=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=r.indexOf(".");var p=e.indexOf(".")-o,v=e.length-r.length-p;return Mi(e.substr(0,p)+r+e.substr(e.length-v))}if(s=e.match(/^00,000\.([#0]*0)$/))return o=yw(t,s[1].length),t<0?"-"+Rr(n,e,-t):fo(e7(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(T){return"00,"+(T.length<3?Zr(0,3-T.length):"")+T})+"."+Zr(o,s[1].length);switch(e){case"###,##0.00":return Rr(n,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var x=fo(Rc(h,0));return x!=="0"?f+x:"";case"###,###.00":return Rr(n,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return Rr(n,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function t7(n,e,t){for(var i=e.length-1;e.charCodeAt(i-1)===44;)--i;return ua(n,e.substr(0,i),t/Math.pow(10,3*(e.length-i)))}function n7(n,e,t){var i=e.replace(lC,""),r=e.length-i.length;return ua(n,i,t*Math.pow(10,2*r))+yn("%",r)}function mC(n,e){var t,i=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+mC(n,-e);var r=n.indexOf(".");r===-1&&(r=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%r;if(s<0&&(s+=r),t=(e/Math.pow(10,s)).toPrecision(i+1+(r+s)%r),!t.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(o-t.length+s):t+="E+"+(o-s),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,h,f,m){return h+f+m.substr(0,(r+s)%r)+"."+m.substr(s)+"E"})}else t=e.toExponential(i);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function ps(n,e,t){if(n.charCodeAt(0)===40&&!e.match(fC)){var i=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?ps("n",i,t):"("+ps("n",i,-t)+")"}if(e.charCodeAt(e.length-1)===44)return t7(n,e,t);if(e.indexOf("%")!==-1)return n7(n,e,t);if(e.indexOf("E")!==-1)return mC(e,t);if(e.charCodeAt(0)===36)return"$"+ps(n,e.substr(e.charAt(1)==" "?2:1),t);var r,s,o,c,h=Math.abs(t),f=t<0?"-":"";if(e.match(/^00+$/))return f+Zr(h,e.length);if(e.match(/^[#?]+$/))return r=""+t,t===0&&(r=""),r.length>e.length?r:Mi(e.substr(0,e.length-r.length))+r;if(s=e.match(uC))return Z9(s,h,f);if(e.match(/^#+0+$/))return f+Zr(h,e.length-e.indexOf("0"));if(s=e.match(hC))return r=(""+t).replace(/^([^\.]+)$/,"$1."+Mi(s[1])).replace(/\.$/,"."+Mi(s[1])),r=r.replace(/\.(\d*)$/,function(T,E){return"."+E+yn("0",Mi(s[1]).length-E.length)}),e.indexOf("0.")!==-1?r:r.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return f+(""+h).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return f+fo(""+h);if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+ps(n,e,-t):fo(""+t)+"."+yn("0",s[1].length);if(s=e.match(/^#,#*,#0/))return ps(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return r=Yc(ps(n,e.replace(/[\\-]/g,""),t)),o=0,Yc(Yc(e.replace(/\\/g,"")).replace(/[0#]/g,function(T){return o<r.length?r.charAt(o++):T==="0"?"0":""}));if(e.match(dC))return r=ps(n,"##########",t),"("+r.substr(0,3)+") "+r.substr(3,3)+"-"+r.substr(6);var m="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),c=bm(h,Math.pow(10,o)-1,!1),r=""+f,m=ua("n",s[1],c[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),r+=m+s[2]+"/"+s[3],m=Sm(c[2],o),m.length<s[4].length&&(m=Mi(s[4].substr(s[4].length-m.length))+m),r+=m,r;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),c=bm(h,Math.pow(10,o)-1,!0),f+(c[0]||(c[1]?"":"0"))+" "+(c[1]?Jv(c[1],o)+s[2]+"/"+s[3]+Sm(c[2],o):yn(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return r=""+t,e.length<=r.length?r:Mi(e.substr(0,e.length-r.length))+r;if(s=e.match(/^([#0]+)\.([#0]+)$/)){r=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=r.indexOf(".");var p=e.indexOf(".")-o,v=e.length-r.length-p;return Mi(e.substr(0,p)+r+e.substr(e.length-v))}if(s=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+ps(n,e,-t):fo(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(T){return"00,"+(T.length<3?Zr(0,3-T.length):"")+T})+"."+Zr(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var x=fo(""+h);return x!=="0"?f+x:"";default:if(e.match(/\.[0#?]*$/))return ps(n,e.slice(0,e.lastIndexOf(".")),t)+Mi(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function ua(n,e,t){return(t|0)===t?ps(n,e,t):Rr(n,e,t)}function i7(n){for(var e=[],t=!1,i=0,r=0;i<n.length;++i)switch(n.charCodeAt(i)){case 34:t=!t;break;case 95:case 42:case 92:++i;break;case 59:e[e.length]=n.substr(r,i-r),r=i+1}if(e[e.length]=n.substr(r),t===!0)throw new Error("Format |"+n+"| unterminated string ");return e}var gC=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function pC(n){for(var e=0,t="",i="";e<n.length;)switch(t=n.charAt(e)){case"G":wm(n,e)&&(e+=6),e++;break;case'"':for(;n.charCodeAt(++e)!==34&&e<n.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(n.charAt(e+1)==="1"||n.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(n.substr(e,3).toUpperCase()==="A/P"||n.substr(e,5).toUpperCase()==="AM/PM"||n.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(i=t;n.charAt(e++)!=="]"&&e<n.length;)i+=n.charAt(e);if(i.match(gC))return!0;break;case".":case"0":case"#":for(;e<n.length&&("0#?.,E+-%".indexOf(t=n.charAt(++e))>-1||t=="\\"&&n.charAt(e+1)=="-"&&"0#".indexOf(n.charAt(e+2))>-1););break;case"?":for(;n.charAt(++e)===t;);break;case"*":++e,(n.charAt(e)==" "||n.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<n.length&&"0123456789".indexOf(n.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function r7(n,e,t,i){for(var r=[],s="",o=0,c="",h="t",f,m,p,v="H";o<n.length;)switch(c=n.charAt(o)){case"G":if(!wm(n,o))throw new Error("unrecognized character "+c+" in "+n);r[r.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(p=n.charCodeAt(++o))!==34&&o<n.length;)s+=String.fromCharCode(p);r[r.length]={t:"t",v:s},++o;break;case"\\":var x=n.charAt(++o),T=x==="("||x===")"?x:"t";r[r.length]={t:T,v:x},++o;break;case"_":r[r.length]={t:"t",v:" "},o+=2;break;case"@":r[r.length]={t:"T",v:e},++o;break;case"B":case"b":if(n.charAt(o+1)==="1"||n.charAt(o+1)==="2"){if(f==null&&(f=x0(e,t,n.charAt(o+1)==="2"),f==null))return"";r[r.length]={t:"X",v:n.substr(o,2)},h=c,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||f==null&&(f=x0(e,t),f==null))return"";for(s=c;++o<n.length&&n.charAt(o).toLowerCase()===c;)s+=c;c==="m"&&h.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=v),r[r.length]={t:c,v:s},h=c;break;case"A":case"a":case"":var E={t:c,v:c};if(f==null&&(f=x0(e,t)),n.substr(o,3).toUpperCase()==="A/P"?(f!=null&&(E.v=f.H>=12?"P":"A"),E.t="T",v="h",o+=3):n.substr(o,5).toUpperCase()==="AM/PM"?(f!=null&&(E.v=f.H>=12?"PM":"AM"),E.t="T",o+=5,v="h"):n.substr(o,5).toUpperCase()==="/"?(f!=null&&(E.v=f.H>=12?"":""),E.t="T",o+=5,v="h"):(E.t="t",++o),f==null&&E.t==="T")return"";r[r.length]=E,h=c;break;case"[":for(s=c;n.charAt(o++)!=="]"&&o<n.length;)s+=n.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(gC)){if(f==null&&(f=x0(e,t),f==null))return"";r[r.length]={t:"Z",v:s.toLowerCase()},h=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",pC(n)||(r[r.length]={t:"t",v:s}));break;case".":if(f!=null){for(s=c;++o<n.length&&(c=n.charAt(o))==="0";)s+=c;r[r.length]={t:"s",v:s};break}case"0":case"#":for(s=c;++o<n.length&&"0#?.,E+-%".indexOf(c=n.charAt(o))>-1;)s+=c;r[r.length]={t:"n",v:s};break;case"?":for(s=c;n.charAt(++o)===c;)s+=c;r[r.length]={t:c,v:s},h=c;break;case"*":++o,(n.charAt(o)==" "||n.charAt(o)=="*")&&++o;break;case"(":case")":r[r.length]={t:i===1?"t":c,v:c},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=c;o<n.length&&"0123456789".indexOf(n.charAt(++o))>-1;)s+=n.charAt(o);r[r.length]={t:"D",v:s};break;case" ":r[r.length]={t:c,v:c},++o;break;case"$":r[r.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+n);r[r.length]={t:"t",v:c},++o;break}var S=0,C=0,O;for(o=r.length-1,h="t";o>=0;--o)switch(r[o].t){case"h":case"H":r[o].t=v,h="h",S<1&&(S=1);break;case"s":(O=r[o].v.match(/\.0+$/))&&(C=Math.max(C,O[0].length-1)),S<3&&(S=3);case"d":case"y":case"M":case"e":h=r[o].t;break;case"m":h==="s"&&(r[o].t="M",S<2&&(S=2));break;case"X":break;case"Z":S<1&&r[o].v.match(/[Hh]/)&&(S=1),S<2&&r[o].v.match(/[Mm]/)&&(S=2),S<3&&r[o].v.match(/[Ss]/)&&(S=3)}switch(S){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var N="",H;for(o=0;o<r.length;++o)switch(r[o].t){case"t":case"T":case" ":case"D":break;case"X":r[o].v="",r[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":r[o].v=X9(r[o].t.charCodeAt(0),r[o].v,f,C),r[o].t="t";break;case"n":case"?":for(H=o+1;r[H]!=null&&((c=r[H].t)==="?"||c==="D"||(c===" "||c==="t")&&r[H+1]!=null&&(r[H+1].t==="?"||r[H+1].t==="t"&&r[H+1].v==="/")||r[o].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(r[H].v==="/"||r[H].v===" "&&r[H+1]!=null&&r[H+1].t=="?"));)r[o].v+=r[H].v,r[H]={v:"",t:";"},++H;N+=r[o].v,o=H-1;break;case"G":r[o].t="t",r[o].v=z_(e,t);break}var Y="",te,A;if(N.length>0){N.charCodeAt(0)==40?(te=e<0&&N.charCodeAt(0)===45?-e:e,A=ua("n",N,te)):(te=e<0&&i>1?-e:e,A=ua("n",N,te),te<0&&r[0]&&r[0].t=="t"&&(A=A.substr(1),r[0].v="-"+r[0].v)),H=A.length-1;var D=r.length;for(o=0;o<r.length;++o)if(r[o]!=null&&r[o].t!="t"&&r[o].v.indexOf(".")>-1){D=o;break}var I=r.length;if(D===r.length&&A.indexOf("E")===-1){for(o=r.length-1;o>=0;--o)r[o]==null||"n?".indexOf(r[o].t)===-1||(H>=r[o].v.length-1?(H-=r[o].v.length,r[o].v=A.substr(H+1,r[o].v.length)):H<0?r[o].v="":(r[o].v=A.substr(0,H+1),H=-1),r[o].t="t",I=o);H>=0&&I<r.length&&(r[I].v=A.substr(0,H+1)+r[I].v)}else if(D!==r.length&&A.indexOf("E")===-1){for(H=A.indexOf(".")-1,o=D;o>=0;--o)if(!(r[o]==null||"n?".indexOf(r[o].t)===-1)){for(m=r[o].v.indexOf(".")>-1&&o===D?r[o].v.indexOf(".")-1:r[o].v.length-1,Y=r[o].v.substr(m+1);m>=0;--m)H>=0&&(r[o].v.charAt(m)==="0"||r[o].v.charAt(m)==="#")&&(Y=A.charAt(H--)+Y);r[o].v=Y,r[o].t="t",I=o}for(H>=0&&I<r.length&&(r[I].v=A.substr(0,H+1)+r[I].v),H=A.indexOf(".")+1,o=D;o<r.length;++o)if(!(r[o]==null||"n?(".indexOf(r[o].t)===-1&&o!==D)){for(m=r[o].v.indexOf(".")>-1&&o===D?r[o].v.indexOf(".")+1:0,Y=r[o].v.substr(0,m);m<r[o].v.length;++m)H<A.length&&(Y+=A.charAt(H++));r[o].v=Y,r[o].t="t",I=o}}}for(o=0;o<r.length;++o)r[o]!=null&&"n?".indexOf(r[o].t)>-1&&(te=i>1&&e<0&&o>0&&r[o-1].v==="-"?-e:e,r[o].v=ua(r[o].t,r[o].v,te),r[o].t="t");var P="";for(o=0;o!==r.length;++o)r[o]!=null&&(P+=r[o].v);return P}var xw=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Ew(n,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(n==t)return!0;break;case">":if(n>t)return!0;break;case"<":if(n<t)return!0;break;case"<>":if(n!=t)return!0;break;case">=":if(n>=t)return!0;break;case"<=":if(n<=t)return!0;break}return!1}function s7(n,e){var t=i7(n),i=t.length,r=t[i-1].indexOf("@");if(i<4&&r>-1&&--i,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||r>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=r>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=r>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=r>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var s=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[i,s];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var o=t[0].match(xw),c=t[1].match(xw);return Ew(e,o)?[i,t[0]]:Ew(e,c)?[i,t[1]]:[i,t[o!=null&&c!=null?2:1]]}return[i,s]}function Do(n,e,t){t==null&&(t={});var i="";switch(typeof n){case"string":n=="m/d/yy"&&t.dateNF?i=t.dateNF:i=n;break;case"number":n==14&&t.dateNF?i=t.dateNF:i=(t.table!=null?t.table:En)[n],i==null&&(i=t.table&&t.table[_w[n]]||En[_w[n]]),i==null&&(i=U9[n]||"General");break}if(wm(i,0))return z_(e,t);e instanceof Date&&(e=oC(e,t.date1904));var r=s7(i,e);if(wm(r[1]))return z_(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return r7(r[1],e,t,r[0])}function _C(n,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(En[t]==null){e<0&&(e=t);continue}if(En[t]==n){e=t;break}}e<0&&(e=391)}return En[e]=n,e}function dg(n){for(var e=0;e!=392;++e)n[e]!==void 0&&_C(n[e],e)}function mg(){En=V9()}var vC=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function a7(n){var e=typeof n=="number"?En[n]:n;return e=e.replace(vC,"(\\d+)"),new RegExp("^"+e+"$")}function o7(n,e,t){var i=-1,r=-1,s=-1,o=-1,c=-1,h=-1;(e.match(vC)||[]).forEach(function(p,v){var x=parseInt(t[v+1],10);switch(p.toLowerCase().charAt(0)){case"y":i=x;break;case"d":s=x;break;case"h":o=x;break;case"s":h=x;break;case"m":o>=0?c=x:r=x;break}}),h>=0&&c==-1&&r>=0&&(c=r,r=-1);var f=(""+(i>=0?i:new Date().getFullYear())).slice(-4)+"-"+("00"+(r>=1?r:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var m=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(h>=0?h:0)).slice(-2);return o==-1&&c==-1&&h==-1?f:i==-1&&r==-1&&s==-1?m:f+"T"+m}var l7=(function(){var n={};n.version="1.2.0";function e(){for(var A=0,D=new Array(256),I=0;I!=256;++I)A=I,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,D[I]=A;return typeof Int32Array<"u"?new Int32Array(D):D}var t=e();function i(A){var D=0,I=0,P=0,M=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(P=0;P!=256;++P)M[P]=A[P];for(P=0;P!=256;++P)for(I=A[P],D=256+P;D<4096;D+=256)I=M[D]=I>>>8^A[I&255];var B=[];for(P=1;P!=16;++P)B[P-1]=typeof Int32Array<"u"?M.subarray(P*256,P*256+256):M.slice(P*256,P*256+256);return B}var r=i(t),s=r[0],o=r[1],c=r[2],h=r[3],f=r[4],m=r[5],p=r[6],v=r[7],x=r[8],T=r[9],E=r[10],S=r[11],C=r[12],O=r[13],N=r[14];function H(A,D){for(var I=D^-1,P=0,M=A.length;P<M;)I=I>>>8^t[(I^A.charCodeAt(P++))&255];return~I}function Y(A,D){for(var I=D^-1,P=A.length-15,M=0;M<P;)I=N[A[M++]^I&255]^O[A[M++]^I>>8&255]^C[A[M++]^I>>16&255]^S[A[M++]^I>>>24]^E[A[M++]]^T[A[M++]]^x[A[M++]]^v[A[M++]]^p[A[M++]]^m[A[M++]]^f[A[M++]]^h[A[M++]]^c[A[M++]]^o[A[M++]]^s[A[M++]]^t[A[M++]];for(P+=15;M<P;)I=I>>>8^t[(I^A[M++])&255];return~I}function te(A,D){for(var I=D^-1,P=0,M=A.length,B=0,F=0;P<M;)B=A.charCodeAt(P++),B<128?I=I>>>8^t[(I^B)&255]:B<2048?(I=I>>>8^t[(I^(192|B>>6&31))&255],I=I>>>8^t[(I^(128|B&63))&255]):B>=55296&&B<57344?(B=(B&1023)+64,F=A.charCodeAt(P++)&1023,I=I>>>8^t[(I^(240|B>>8&7))&255],I=I>>>8^t[(I^(128|B>>2&63))&255],I=I>>>8^t[(I^(128|F>>6&15|(B&3)<<4))&255],I=I>>>8^t[(I^(128|F&63))&255]):(I=I>>>8^t[(I^(224|B>>12&15))&255],I=I>>>8^t[(I^(128|B>>6&63))&255],I=I>>>8^t[(I^(128|B&63))&255]);return~I}return n.table=t,n.bstr=H,n.buf=Y,n.str=te,n})(),Jt=(function(){var e={};e.version="1.2.1";function t(k,W){for(var U=k.split("/"),j=W.split("/"),G=0,X=0,ce=Math.min(U.length,j.length);G<ce;++G){if(X=U[G].length-j[G].length)return X;if(U[G]!=j[G])return U[G]<j[G]?-1:1}return U.length-j.length}function i(k){if(k.charAt(k.length-1)=="/")return k.slice(0,-1).indexOf("/")===-1?k:i(k.slice(0,-1));var W=k.lastIndexOf("/");return W===-1?k:k.slice(0,W+1)}function r(k){if(k.charAt(k.length-1)=="/")return r(k.slice(0,-1));var W=k.lastIndexOf("/");return W===-1?k:k.slice(W+1)}function s(k,W){typeof W=="string"&&(W=new Date(W));var U=W.getHours();U=U<<6|W.getMinutes(),U=U<<5|W.getSeconds()>>>1,k.write_shift(2,U);var j=W.getFullYear()-1980;j=j<<4|W.getMonth()+1,j=j<<5|W.getDate(),k.write_shift(2,j)}function o(k){var W=k.read_shift(2)&65535,U=k.read_shift(2)&65535,j=new Date,G=U&31;U>>>=5;var X=U&15;U>>>=4,j.setMilliseconds(0),j.setFullYear(U+1980),j.setMonth(X-1),j.setDate(G);var ce=W&31;W>>>=5;var ye=W&63;return W>>>=6,j.setHours(W),j.setMinutes(ye),j.setSeconds(ce<<1),j}function c(k){cr(k,0);for(var W={},U=0;k.l<=k.length-4;){var j=k.read_shift(2),G=k.read_shift(2),X=k.l+G,ce={};switch(j){case 21589:U=k.read_shift(1),U&1&&(ce.mtime=k.read_shift(4)),G>5&&(U&2&&(ce.atime=k.read_shift(4)),U&4&&(ce.ctime=k.read_shift(4))),ce.mtime&&(ce.mt=new Date(ce.mtime*1e3));break}k.l=X,W[j]=ce}return W}var h;function f(){return h||(h={})}function m(k,W){if(k[0]==80&&k[1]==75)return Qi(k,W);if((k[0]|32)==109&&(k[1]|32)==105)return ks(k,W);if(k.length<512)throw new Error("CFB file size "+k.length+" < 512");var U=3,j=512,G=0,X=0,ce=0,ye=0,ue=0,me=[],de=k.slice(0,512);cr(de,0);var De=p(de);switch(U=De[0],U){case 3:j=512;break;case 4:j=4096;break;case 0:if(De[1]==0)return Qi(k,W);default:throw new Error("Major Version: Expected 3 or 4 saw "+U)}j!==512&&(de=k.slice(0,j),cr(de,28));var Me=k.slice(0,j);v(de,U);var ze=de.read_shift(4,"i");if(U===3&&ze!==0)throw new Error("# Directory Sectors: Expected 0 saw "+ze);de.l+=4,ce=de.read_shift(4,"i"),de.l+=4,de.chk("00100000","Mini Stream Cutoff Size: "),ye=de.read_shift(4,"i"),G=de.read_shift(4,"i"),ue=de.read_shift(4,"i"),X=de.read_shift(4,"i");for(var Ie=-1,Ve=0;Ve<109&&(Ie=de.read_shift(4,"i"),!(Ie<0));++Ve)me[Ve]=Ie;var Xe=x(k,j);S(ue,X,Xe,j,me);var Bt=O(Xe,ce,me,j);Bt[ce].name="!Directory",G>0&&ye!==F&&(Bt[ye].name="!MiniFAT"),Bt[me[0]].name="!FAT",Bt.fat_addrs=me,Bt.ssz=j;var Vt={},tn=[],_i=[],Fr=[];N(ce,Bt,Xe,tn,G,Vt,_i,ye),T(_i,Fr,tn),tn.shift();var Lr={FileIndex:_i,FullPaths:Fr};return W&&W.raw&&(Lr.raw={header:Me,sectors:Xe}),Lr}function p(k){if(k[k.l]==80&&k[k.l+1]==75)return[0,0];k.chk(Te,"Header Signature: "),k.l+=16;var W=k.read_shift(2,"u");return[k.read_shift(2,"u"),W]}function v(k,W){var U=9;switch(k.l+=2,U=k.read_shift(2)){case 9:if(W!=3)throw new Error("Sector Shift: Expected 9 saw "+U);break;case 12:if(W!=4)throw new Error("Sector Shift: Expected 12 saw "+U);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+U)}k.chk("0600","Mini Sector Shift: "),k.chk("000000000000","Reserved: ")}function x(k,W){for(var U=Math.ceil(k.length/W)-1,j=[],G=1;G<U;++G)j[G-1]=k.slice(G*W,(G+1)*W);return j[U-1]=k.slice(U*W),j}function T(k,W,U){for(var j=0,G=0,X=0,ce=0,ye=0,ue=U.length,me=[],de=[];j<ue;++j)me[j]=de[j]=j,W[j]=U[j];for(;ye<de.length;++ye)j=de[ye],G=k[j].L,X=k[j].R,ce=k[j].C,me[j]===j&&(G!==-1&&me[G]!==G&&(me[j]=me[G]),X!==-1&&me[X]!==X&&(me[j]=me[X])),ce!==-1&&(me[ce]=j),G!==-1&&j!=me[j]&&(me[G]=me[j],de.lastIndexOf(G)<ye&&de.push(G)),X!==-1&&j!=me[j]&&(me[X]=me[j],de.lastIndexOf(X)<ye&&de.push(X));for(j=1;j<ue;++j)me[j]===j&&(X!==-1&&me[X]!==X?me[j]=me[X]:G!==-1&&me[G]!==G&&(me[j]=me[G]));for(j=1;j<ue;++j)if(k[j].type!==0){if(ye=j,ye!=me[ye])do ye=me[ye],W[j]=W[ye]+"/"+W[j];while(ye!==0&&me[ye]!==-1&&ye!=me[ye]);me[j]=-1}for(W[0]+="/",j=1;j<ue;++j)k[j].type!==2&&(W[j]+="/")}function E(k,W,U){for(var j=k.start,G=k.size,X=[],ce=j;U&&G>0&&ce>=0;)X.push(W.slice(ce*B,ce*B+B)),G-=B,ce=gl(U,ce*4);return X.length===0?ve(0):hi(X).slice(0,k.size)}function S(k,W,U,j,G){var X=F;if(k===F){if(W!==0)throw new Error("DIFAT chain shorter than expected")}else if(k!==-1){var ce=U[k],ye=(j>>>2)-1;if(!ce)return;for(var ue=0;ue<ye&&(X=gl(ce,ue*4))!==F;++ue)G.push(X);S(gl(ce,j-4),W-1,U,j,G)}}function C(k,W,U,j,G){var X=[],ce=[];G||(G=[]);var ye=j-1,ue=0,me=0;for(ue=W;ue>=0;){G[ue]=!0,X[X.length]=ue,ce.push(k[ue]);var de=U[Math.floor(ue*4/j)];if(me=ue*4&ye,j<4+me)throw new Error("FAT boundary crossed: "+ue+" 4 "+j);if(!k[de])break;ue=gl(k[de],me)}return{nodes:X,data:Iw([ce])}}function O(k,W,U,j){var G=k.length,X=[],ce=[],ye=[],ue=[],me=j-1,de=0,De=0,Me=0,ze=0;for(de=0;de<G;++de)if(ye=[],Me=de+W,Me>=G&&(Me-=G),!ce[Me]){ue=[];var Ie=[];for(De=Me;De>=0;){Ie[De]=!0,ce[De]=!0,ye[ye.length]=De,ue.push(k[De]);var Ve=U[Math.floor(De*4/j)];if(ze=De*4&me,j<4+ze)throw new Error("FAT boundary crossed: "+De+" 4 "+j);if(!k[Ve]||(De=gl(k[Ve],ze),Ie[De]))break}X[Me]={nodes:ye,data:Iw([ue])}}return X}function N(k,W,U,j,G,X,ce,ye){for(var ue=0,me=j.length?2:0,de=W[k].data,De=0,Me=0,ze;De<de.length;De+=128){var Ie=de.slice(De,De+128);cr(Ie,64),Me=Ie.read_shift(2),ze=sy(Ie,0,Me-me),j.push(ze);var Ve={name:ze,type:Ie.read_shift(1),color:Ie.read_shift(1),L:Ie.read_shift(4,"i"),R:Ie.read_shift(4,"i"),C:Ie.read_shift(4,"i"),clsid:Ie.read_shift(16),state:Ie.read_shift(4,"i"),start:0,size:0},Xe=Ie.read_shift(2)+Ie.read_shift(2)+Ie.read_shift(2)+Ie.read_shift(2);Xe!==0&&(Ve.ct=H(Ie,Ie.l-8));var Bt=Ie.read_shift(2)+Ie.read_shift(2)+Ie.read_shift(2)+Ie.read_shift(2);Bt!==0&&(Ve.mt=H(Ie,Ie.l-8)),Ve.start=Ie.read_shift(4,"i"),Ve.size=Ie.read_shift(4,"i"),Ve.size<0&&Ve.start<0&&(Ve.size=Ve.type=0,Ve.start=F,Ve.name=""),Ve.type===5?(ue=Ve.start,G>0&&ue!==F&&(W[ue].name="!StreamData")):Ve.size>=4096?(Ve.storage="fat",W[Ve.start]===void 0&&(W[Ve.start]=C(U,Ve.start,W.fat_addrs,W.ssz)),W[Ve.start].name=Ve.name,Ve.content=W[Ve.start].data.slice(0,Ve.size)):(Ve.storage="minifat",Ve.size<0?Ve.size=0:ue!==F&&Ve.start!==F&&W[ue]&&(Ve.content=E(Ve,W[ue].data,(W[ye]||{}).data))),Ve.content&&cr(Ve.content,0),X[ze]=Ve,ce.push(Ve)}}function H(k,W){return new Date((hr(k,W+4)/1e7*Math.pow(2,32)+hr(k,W)/1e7-11644473600)*1e3)}function Y(k,W){return f(),m(h.readFileSync(k),W)}function te(k,W){var U=W&&W.type;switch(U||Mt&&Buffer.isBuffer(k)&&(U="buffer"),U||"base64"){case"file":return Y(k,W);case"base64":return m($r(ya(k)),W);case"binary":return m($r(k),W)}return m(k,W)}function A(k,W){var U=W||{},j=U.root||"Root Entry";if(k.FullPaths||(k.FullPaths=[]),k.FileIndex||(k.FileIndex=[]),k.FullPaths.length!==k.FileIndex.length)throw new Error("inconsistent CFB structure");k.FullPaths.length===0&&(k.FullPaths[0]=j+"/",k.FileIndex[0]={name:j,type:5}),U.CLSID&&(k.FileIndex[0].clsid=U.CLSID),D(k)}function D(k){var W="Sh33tJ5";if(!Jt.find(k,"/"+W)){var U=ve(4);U[0]=55,U[1]=U[3]=50,U[2]=54,k.FileIndex.push({name:W,type:2,content:U,size:4,L:69,R:69,C:69}),k.FullPaths.push(k.FullPaths[0]+W),I(k)}}function I(k,W){A(k);for(var U=!1,j=!1,G=k.FullPaths.length-1;G>=0;--G){var X=k.FileIndex[G];switch(X.type){case 0:j?U=!0:(k.FileIndex.pop(),k.FullPaths.pop());break;case 1:case 2:case 5:j=!0,isNaN(X.R*X.L*X.C)&&(U=!0),X.R>-1&&X.L>-1&&X.R==X.L&&(U=!0);break;default:U=!0;break}}if(!(!U&&!W)){var ce=new Date(1987,1,19),ye=0,ue=Object.create?Object.create(null):{},me=[];for(G=0;G<k.FullPaths.length;++G)ue[k.FullPaths[G]]=!0,k.FileIndex[G].type!==0&&me.push([k.FullPaths[G],k.FileIndex[G]]);for(G=0;G<me.length;++G){var de=i(me[G][0]);j=ue[de],j||(me.push([de,{name:r(de).replace("/",""),type:1,clsid:se,ct:ce,mt:ce,content:null}]),ue[de]=!0)}for(me.sort(function(ze,Ie){return t(ze[0],Ie[0])}),k.FullPaths=[],k.FileIndex=[],G=0;G<me.length;++G)k.FullPaths[G]=me[G][0],k.FileIndex[G]=me[G][1];for(G=0;G<me.length;++G){var De=k.FileIndex[G],Me=k.FullPaths[G];if(De.name=r(Me).replace("/",""),De.L=De.R=De.C=-(De.color=1),De.size=De.content?De.content.length:0,De.start=0,De.clsid=De.clsid||se,G===0)De.C=me.length>1?1:-1,De.size=0,De.type=5;else if(Me.slice(-1)=="/"){for(ye=G+1;ye<me.length&&i(k.FullPaths[ye])!=Me;++ye);for(De.C=ye>=me.length?-1:ye,ye=G+1;ye<me.length&&i(k.FullPaths[ye])!=i(Me);++ye);De.R=ye>=me.length?-1:ye,De.type=1}else i(k.FullPaths[G+1]||"")==i(Me)&&(De.R=G+1),De.type=2}}}function P(k,W){var U=W||{};if(U.fileType=="mad")return bu(k,U);switch(I(k),U.fileType){case"zip":return pn(k,U)}var j=(function(ze){for(var Ie=0,Ve=0,Xe=0;Xe<ze.FileIndex.length;++Xe){var Bt=ze.FileIndex[Xe];if(Bt.content){var Vt=Bt.content.length;Vt>0&&(Vt<4096?Ie+=Vt+63>>6:Ve+=Vt+511>>9)}}for(var tn=ze.FullPaths.length+3>>2,_i=Ie+7>>3,Fr=Ie+127>>7,Lr=_i+Ve+tn+Fr,Ji=Lr+127>>7,Aa=Ji<=109?0:Math.ceil((Ji-109)/127);Lr+Ji+Aa+127>>7>Ji;)Aa=++Ji<=109?0:Math.ceil((Ji-109)/127);var vi=[1,Aa,Ji,Fr,tn,Ve,Ie,0];return ze.FileIndex[0].size=Ie<<6,vi[7]=(ze.FileIndex[0].start=vi[0]+vi[1]+vi[2]+vi[3]+vi[4]+vi[5])+(vi[6]+7>>3),vi})(k),G=ve(j[7]<<9),X=0,ce=0;{for(X=0;X<8;++X)G.write_shift(1,Oe[X]);for(X=0;X<8;++X)G.write_shift(2,0);for(G.write_shift(2,62),G.write_shift(2,3),G.write_shift(2,65534),G.write_shift(2,9),G.write_shift(2,6),X=0;X<3;++X)G.write_shift(2,0);for(G.write_shift(4,0),G.write_shift(4,j[2]),G.write_shift(4,j[0]+j[1]+j[2]+j[3]-1),G.write_shift(4,0),G.write_shift(4,4096),G.write_shift(4,j[3]?j[0]+j[1]+j[2]-1:F),G.write_shift(4,j[3]),G.write_shift(-4,j[1]?j[0]-1:F),G.write_shift(4,j[1]),X=0;X<109;++X)G.write_shift(-4,X<j[2]?j[1]+X:-1)}if(j[1])for(ce=0;ce<j[1];++ce){for(;X<236+ce*127;++X)G.write_shift(-4,X<j[2]?j[1]+X:-1);G.write_shift(-4,ce===j[1]-1?F:ce+1)}var ye=function(ze){for(ce+=ze;X<ce-1;++X)G.write_shift(-4,X+1);ze&&(++X,G.write_shift(-4,F))};for(ce=X=0,ce+=j[1];X<ce;++X)G.write_shift(-4,Ee.DIFSECT);for(ce+=j[2];X<ce;++X)G.write_shift(-4,Ee.FATSECT);ye(j[3]),ye(j[4]);for(var ue=0,me=0,de=k.FileIndex[0];ue<k.FileIndex.length;++ue)de=k.FileIndex[ue],de.content&&(me=de.content.length,!(me<4096)&&(de.start=ce,ye(me+511>>9)));for(ye(j[6]+7>>3);G.l&511;)G.write_shift(-4,Ee.ENDOFCHAIN);for(ce=X=0,ue=0;ue<k.FileIndex.length;++ue)de=k.FileIndex[ue],de.content&&(me=de.content.length,!(!me||me>=4096)&&(de.start=ce,ye(me+63>>6)));for(;G.l&511;)G.write_shift(-4,Ee.ENDOFCHAIN);for(X=0;X<j[4]<<2;++X){var De=k.FullPaths[X];if(!De||De.length===0){for(ue=0;ue<17;++ue)G.write_shift(4,0);for(ue=0;ue<3;++ue)G.write_shift(4,-1);for(ue=0;ue<12;++ue)G.write_shift(4,0);continue}de=k.FileIndex[X],X===0&&(de.start=de.size?de.start-1:F);var Me=X===0&&U.root||de.name;if(me=2*(Me.length+1),G.write_shift(64,Me,"utf16le"),G.write_shift(2,me),G.write_shift(1,de.type),G.write_shift(1,de.color),G.write_shift(-4,de.L),G.write_shift(-4,de.R),G.write_shift(-4,de.C),de.clsid)G.write_shift(16,de.clsid,"hex");else for(ue=0;ue<4;++ue)G.write_shift(4,0);G.write_shift(4,de.state||0),G.write_shift(4,0),G.write_shift(4,0),G.write_shift(4,0),G.write_shift(4,0),G.write_shift(4,de.start),G.write_shift(4,de.size),G.write_shift(4,0)}for(X=1;X<k.FileIndex.length;++X)if(de=k.FileIndex[X],de.size>=4096)if(G.l=de.start+1<<9,Mt&&Buffer.isBuffer(de.content))de.content.copy(G,G.l,0,de.size),G.l+=de.size+511&-512;else{for(ue=0;ue<de.size;++ue)G.write_shift(1,de.content[ue]);for(;ue&511;++ue)G.write_shift(1,0)}for(X=1;X<k.FileIndex.length;++X)if(de=k.FileIndex[X],de.size>0&&de.size<4096)if(Mt&&Buffer.isBuffer(de.content))de.content.copy(G,G.l,0,de.size),G.l+=de.size+63&-64;else{for(ue=0;ue<de.size;++ue)G.write_shift(1,de.content[ue]);for(;ue&63;++ue)G.write_shift(1,0)}if(Mt)G.l=G.length;else for(;G.l<G.length;)G.write_shift(1,0);return G}function M(k,W){var U=k.FullPaths.map(function(ue){return ue.toUpperCase()}),j=U.map(function(ue){var me=ue.split("/");return me[me.length-(ue.slice(-1)=="/"?2:1)]}),G=!1;W.charCodeAt(0)===47?(G=!0,W=U[0].slice(0,-1)+W):G=W.indexOf("/")!==-1;var X=W.toUpperCase(),ce=G===!0?U.indexOf(X):j.indexOf(X);if(ce!==-1)return k.FileIndex[ce];var ye=!X.match(y0);for(X=X.replace(zh,""),ye&&(X=X.replace(y0,"!")),ce=0;ce<U.length;++ce)if((ye?U[ce].replace(y0,"!"):U[ce]).replace(zh,"")==X||(ye?j[ce].replace(y0,"!"):j[ce]).replace(zh,"")==X)return k.FileIndex[ce];return null}var B=64,F=-2,Te="d0cf11e0a1b11ae1",Oe=[208,207,17,224,161,177,26,225],se="00000000000000000000000000000000",Ee={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:F,FREESECT:-1,HEADER_SIGNATURE:Te,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:se,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Ue(k,W,U){f();var j=P(k,U);h.writeFileSync(W,j)}function He(k){for(var W=new Array(k.length),U=0;U<k.length;++U)W[U]=String.fromCharCode(k[U]);return W.join("")}function Je(k,W){var U=P(k,W);switch(W&&W.type||"buffer"){case"file":return f(),h.writeFileSync(W.filename,U),U;case"binary":return typeof U=="string"?U:He(U);case"base64":return uf(typeof U=="string"?U:He(U));case"buffer":if(Mt)return Buffer.isBuffer(U)?U:Sa(U);case"array":return typeof U=="string"?$r(U):U}return U}var ee;function V(k){try{var W=k.InflateRaw,U=new W;if(U._processChunk(new Uint8Array([3,0]),U._finishFlushFlag),U.bytesRead)ee=k;else throw new Error("zlib does not expose bytesRead")}catch(j){console.error("cannot use native zlib: "+(j.message||j))}}function Z(k,W){if(!ee)return Ns(k,W);var U=ee.InflateRaw,j=new U,G=j._processChunk(k.slice(k.l),j._finishFlushFlag);return k.l+=j.bytesRead,G}function K(k){return ee?ee.deflateRawSync(k):en(k)}var Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],fe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ne=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function je(k){var W=(k<<1|k<<11)&139536|(k<<5|k<<15)&558144;return(W>>16|W>>8|W)&255}for(var ke=typeof Uint8Array<"u",Le=ke?new Uint8Array(256):[],pt=0;pt<256;++pt)Le[pt]=je(pt);function ot(k,W){var U=Le[k&255];return W<=8?U>>>8-W:(U=U<<8|Le[k>>8&255],W<=16?U>>>16-W:(U=U<<8|Le[k>>16&255],U>>>24-W))}function At(k,W){var U=W&7,j=W>>>3;return(k[j]|(U<=6?0:k[j+1]<<8))>>>U&3}function rt(k,W){var U=W&7,j=W>>>3;return(k[j]|(U<=5?0:k[j+1]<<8))>>>U&7}function Gn(k,W){var U=W&7,j=W>>>3;return(k[j]|(U<=4?0:k[j+1]<<8))>>>U&15}function Ct(k,W){var U=W&7,j=W>>>3;return(k[j]|(U<=3?0:k[j+1]<<8))>>>U&31}function qe(k,W){var U=W&7,j=W>>>3;return(k[j]|(U<=1?0:k[j+1]<<8))>>>U&127}function sn(k,W,U){var j=W&7,G=W>>>3,X=(1<<U)-1,ce=k[G]>>>j;return U<8-j||(ce|=k[G+1]<<8-j,U<16-j)||(ce|=k[G+2]<<16-j,U<24-j)||(ce|=k[G+3]<<24-j),ce&X}function dt(k,W,U){var j=W&7,G=W>>>3;return j<=5?k[G]|=(U&7)<<j:(k[G]|=U<<j&255,k[G+1]=(U&7)>>8-j),W+3}function kt(k,W,U){var j=W&7,G=W>>>3;return U=(U&1)<<j,k[G]|=U,W+1}function Jn(k,W,U){var j=W&7,G=W>>>3;return U<<=j,k[G]|=U&255,U>>>=8,k[G+1]=U,W+8}function ba(k,W,U){var j=W&7,G=W>>>3;return U<<=j,k[G]|=U&255,U>>>=8,k[G+1]=U&255,k[G+2]=U>>>8,W+16}function is(k,W){var U=k.length,j=2*U>W?2*U:W+5,G=0;if(U>=W)return k;if(Mt){var X=mw(j);if(k.copy)k.copy(X);else for(;G<k.length;++G)X[G]=k[G];return X}else if(ke){var ce=new Uint8Array(j);if(ce.set)ce.set(k);else for(;G<U;++G)ce[G]=k[G];return ce}return k.length=j,k}function ie(k){for(var W=new Array(k),U=0;U<k;++U)W[U]=0;return W}function Ce(k,W,U){var j=1,G=0,X=0,ce=0,ye=0,ue=k.length,me=ke?new Uint16Array(32):ie(32);for(X=0;X<32;++X)me[X]=0;for(X=ue;X<U;++X)k[X]=0;ue=k.length;var de=ke?new Uint16Array(ue):ie(ue);for(X=0;X<ue;++X)me[G=k[X]]++,j<G&&(j=G),de[X]=0;for(me[0]=0,X=1;X<=j;++X)me[X+16]=ye=ye+me[X-1]<<1;for(X=0;X<ue;++X)ye=k[X],ye!=0&&(de[X]=me[ye+16]++);var De=0;for(X=0;X<ue;++X)if(De=k[X],De!=0)for(ye=ot(de[X],j)>>j-De,ce=(1<<j+4-De)-1;ce>=0;--ce)W[ye|ce<<De]=De&15|X<<4;return j}var $e=ke?new Uint16Array(512):ie(512),Pt=ke?new Uint16Array(32):ie(32);if(!ke){for(var wt=0;wt<512;++wt)$e[wt]=0;for(wt=0;wt<32;++wt)Pt[wt]=0}(function(){for(var k=[],W=0;W<32;W++)k.push(5);Ce(k,Pt,32);var U=[];for(W=0;W<=143;W++)U.push(8);for(;W<=255;W++)U.push(9);for(;W<=279;W++)U.push(7);for(;W<=287;W++)U.push(8);Ce(U,$e,288)})();var pi=(function(){for(var W=ke?new Uint8Array(32768):[],U=0,j=0;U<Ne.length-1;++U)for(;j<Ne[U+1];++j)W[j]=U;for(;j<32768;++j)W[j]=29;var G=ke?new Uint8Array(259):[];for(U=0,j=0;U<fe.length-1;++U)for(;j<fe[U+1];++j)G[j]=U;function X(ye,ue){for(var me=0;me<ye.length;){var de=Math.min(65535,ye.length-me),De=me+de==ye.length;for(ue.write_shift(1,+De),ue.write_shift(2,de),ue.write_shift(2,~de&65535);de-- >0;)ue[ue.l++]=ye[me++]}return ue.l}function ce(ye,ue){for(var me=0,de=0,De=ke?new Uint16Array(32768):[];de<ye.length;){var Me=Math.min(65535,ye.length-de);if(Me<10){for(me=dt(ue,me,+(de+Me==ye.length)),me&7&&(me+=8-(me&7)),ue.l=me/8|0,ue.write_shift(2,Me),ue.write_shift(2,~Me&65535);Me-- >0;)ue[ue.l++]=ye[de++];me=ue.l*8;continue}me=dt(ue,me,+(de+Me==ye.length)+2);for(var ze=0;Me-- >0;){var Ie=ye[de];ze=(ze<<5^Ie)&32767;var Ve=-1,Xe=0;if((Ve=De[ze])&&(Ve|=de&-32768,Ve>de&&(Ve-=32768),Ve<de))for(;ye[Ve+Xe]==ye[de+Xe]&&Xe<250;)++Xe;if(Xe>2){Ie=G[Xe],Ie<=22?me=Jn(ue,me,Le[Ie+1]>>1)-1:(Jn(ue,me,3),me+=5,Jn(ue,me,Le[Ie-23]>>5),me+=3);var Bt=Ie<8?0:Ie-4>>2;Bt>0&&(ba(ue,me,Xe-fe[Ie]),me+=Bt),Ie=W[de-Ve],me=Jn(ue,me,Le[Ie]>>3),me-=3;var Vt=Ie<4?0:Ie-2>>1;Vt>0&&(ba(ue,me,de-Ve-Ne[Ie]),me+=Vt);for(var tn=0;tn<Xe;++tn)De[ze]=de&32767,ze=(ze<<5^ye[de])&32767,++de;Me-=Xe-1}else Ie<=143?Ie=Ie+48:me=kt(ue,me,1),me=Jn(ue,me,Le[Ie]),De[ze]=de&32767,++de}me=Jn(ue,me,0)-1}return ue.l=(me+7)/8|0,ue.l}return function(ue,me){return ue.length<8?X(ue,me):ce(ue,me)}})();function en(k){var W=ve(50+Math.floor(k.length*1.1)),U=pi(k,W);return W.slice(0,U)}var Wn=ke?new Uint16Array(32768):ie(32768),ei=ke?new Uint16Array(32768):ie(32768),ti=ke?new Uint16Array(128):ie(128),Cn=1,Ii=1;function dn(k,W){var U=Ct(k,W)+257;W+=5;var j=Ct(k,W)+1;W+=5;var G=Gn(k,W)+4;W+=4;for(var X=0,ce=ke?new Uint8Array(19):ie(19),ye=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ue=1,me=ke?new Uint8Array(8):ie(8),de=ke?new Uint8Array(8):ie(8),De=ce.length,Me=0;Me<G;++Me)ce[Q[Me]]=X=rt(k,W),ue<X&&(ue=X),me[X]++,W+=3;var ze=0;for(me[0]=0,Me=1;Me<=ue;++Me)de[Me]=ze=ze+me[Me-1]<<1;for(Me=0;Me<De;++Me)(ze=ce[Me])!=0&&(ye[Me]=de[ze]++);var Ie=0;for(Me=0;Me<De;++Me)if(Ie=ce[Me],Ie!=0){ze=Le[ye[Me]]>>8-Ie;for(var Ve=(1<<7-Ie)-1;Ve>=0;--Ve)ti[ze|Ve<<Ie]=Ie&7|Me<<3}var Xe=[];for(ue=1;Xe.length<U+j;)switch(ze=ti[qe(k,W)],W+=ze&7,ze>>>=3){case 16:for(X=3+At(k,W),W+=2,ze=Xe[Xe.length-1];X-- >0;)Xe.push(ze);break;case 17:for(X=3+rt(k,W),W+=3;X-- >0;)Xe.push(0);break;case 18:for(X=11+qe(k,W),W+=7;X-- >0;)Xe.push(0);break;default:Xe.push(ze),ue<ze&&(ue=ze);break}var Bt=Xe.slice(0,U),Vt=Xe.slice(U);for(Me=U;Me<286;++Me)Bt[Me]=0;for(Me=j;Me<30;++Me)Vt[Me]=0;return Cn=Ce(Bt,Wn,286),Ii=Ce(Vt,ei,30),W}function Hl(k,W){if(k[0]==3&&!(k[1]&3))return[Cl(W),2];for(var U=0,j=0,G=mw(W||1<<18),X=0,ce=G.length>>>0,ye=0,ue=0;(j&1)==0;){if(j=rt(k,U),U+=3,j>>>1)j>>1==1?(ye=9,ue=5):(U=dn(k,U),ye=Cn,ue=Ii);else{U&7&&(U+=8-(U&7));var me=k[U>>>3]|k[(U>>>3)+1]<<8;if(U+=32,me>0)for(!W&&ce<X+me&&(G=is(G,X+me),ce=G.length);me-- >0;)G[X++]=k[U>>>3],U+=8;continue}for(;;){!W&&ce<X+32767&&(G=is(G,X+32767),ce=G.length);var de=sn(k,U,ye),De=j>>>1==1?$e[de]:Wn[de];if(U+=De&15,De>>>=4,(De>>>8&255)===0)G[X++]=De;else{if(De==256)break;De-=257;var Me=De<8?0:De-4>>2;Me>5&&(Me=0);var ze=X+fe[De];Me>0&&(ze+=sn(k,U,Me),U+=Me),de=sn(k,U,ue),De=j>>>1==1?Pt[de]:ei[de],U+=De&15,De>>>=4;var Ie=De<4?0:De-2>>1,Ve=Ne[De];for(Ie>0&&(Ve+=sn(k,U,Ie),U+=Ie),!W&&ce<ze&&(G=is(G,ze+100),ce=G.length);X<ze;)G[X]=G[X-Ve],++X}}}return W?[G,U+7>>>3]:[G.slice(0,X),U+7>>>3]}function Ns(k,W){var U=k.slice(k.l||0),j=Hl(U,W);return k.l+=j[1],j[0]}function Lo(k,W){if(k)typeof console<"u"&&console.error(W);else throw new Error(W)}function Qi(k,W){var U=k;cr(U,0);var j=[],G=[],X={FileIndex:j,FullPaths:G};A(X,{root:W.root});for(var ce=U.length-4;(U[ce]!=80||U[ce+1]!=75||U[ce+2]!=5||U[ce+3]!=6)&&ce>=0;)--ce;U.l=ce+4,U.l+=4;var ye=U.read_shift(2);U.l+=6;var ue=U.read_shift(4);for(U.l=ue,ce=0;ce<ye;++ce){U.l+=20;var me=U.read_shift(4),de=U.read_shift(4),De=U.read_shift(2),Me=U.read_shift(2),ze=U.read_shift(2);U.l+=8;var Ie=U.read_shift(4),Ve=c(U.slice(U.l+De,U.l+De+Me));U.l+=De+Me+ze;var Xe=U.l;U.l=Ie+4,Ms(U,me,de,X,Ve),U.l=Xe}return X}function Ms(k,W,U,j,G){k.l+=2;var X=k.read_shift(2),ce=k.read_shift(2),ye=o(k);if(X&8257)throw new Error("Unsupported ZIP encryption");for(var ue=k.read_shift(4),me=k.read_shift(4),de=k.read_shift(4),De=k.read_shift(2),Me=k.read_shift(2),ze="",Ie=0;Ie<De;++Ie)ze+=String.fromCharCode(k[k.l++]);if(Me){var Ve=c(k.slice(k.l,k.l+Me));(Ve[21589]||{}).mt&&(ye=Ve[21589].mt),((G||{})[21589]||{}).mt&&(ye=G[21589].mt)}k.l+=Me;var Xe=k.slice(k.l,k.l+me);switch(ce){case 8:Xe=Z(k,de);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ce)}var Bt=!1;X&8&&(ue=k.read_shift(4),ue==134695760&&(ue=k.read_shift(4),Bt=!0),me=k.read_shift(4),de=k.read_shift(4)),me!=W&&Lo(Bt,"Bad compressed size: "+W+" != "+me),de!=U&&Lo(Bt,"Bad uncompressed size: "+U+" != "+de),Fs(j,ze,Xe,{unsafe:!0,mt:ye})}function pn(k,W){var U=W||{},j=[],G=[],X=ve(1),ce=U.compression?8:0,ye=0,ue=0,me=0,de=0,De=0,Me=k.FullPaths[0],ze=Me,Ie=k.FileIndex[0],Ve=[],Xe=0;for(ue=1;ue<k.FullPaths.length;++ue)if(ze=k.FullPaths[ue].slice(Me.length),Ie=k.FileIndex[ue],!(!Ie.size||!Ie.content||ze=="Sh33tJ5")){var Bt=de,Vt=ve(ze.length);for(me=0;me<ze.length;++me)Vt.write_shift(1,ze.charCodeAt(me)&127);Vt=Vt.slice(0,Vt.l),Ve[De]=l7.buf(Ie.content,0);var tn=Ie.content;ce==8&&(tn=K(tn)),X=ve(30),X.write_shift(4,67324752),X.write_shift(2,20),X.write_shift(2,ye),X.write_shift(2,ce),Ie.mt?s(X,Ie.mt):X.write_shift(4,0),X.write_shift(-4,Ve[De]),X.write_shift(4,tn.length),X.write_shift(4,Ie.content.length),X.write_shift(2,Vt.length),X.write_shift(2,0),de+=X.length,j.push(X),de+=Vt.length,j.push(Vt),de+=tn.length,j.push(tn),X=ve(46),X.write_shift(4,33639248),X.write_shift(2,0),X.write_shift(2,20),X.write_shift(2,ye),X.write_shift(2,ce),X.write_shift(4,0),X.write_shift(-4,Ve[De]),X.write_shift(4,tn.length),X.write_shift(4,Ie.content.length),X.write_shift(2,Vt.length),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(4,0),X.write_shift(4,Bt),Xe+=X.l,G.push(X),Xe+=Vt.length,G.push(Vt),++De}return X=ve(22),X.write_shift(4,101010256),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(2,De),X.write_shift(2,De),X.write_shift(4,Xe),X.write_shift(4,de),X.write_shift(2,0),hi([hi(j),hi(G),X])}var Di={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function mr(k,W){if(k.ctype)return k.ctype;var U=k.name||"",j=U.match(/\.([^\.]+)$/);return j&&Di[j[1]]||W&&(j=(U=W).match(/[\.\\]([^\.\\])+$/),j&&Di[j[1]])?Di[j[1]]:"application/octet-stream"}function Zi(k){for(var W=uf(k),U=[],j=0;j<W.length;j+=76)U.push(W.slice(j,j+76));return U.join(`\r
`)+`\r
`}function wu(k){var W=k.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(me){var de=me.charCodeAt(0).toString(16).toUpperCase();return"="+(de.length==1?"0"+de:de)});W=W.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),W.charAt(0)==`
`&&(W="=0D"+W.slice(1)),W=W.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var U=[],j=W.split(`\r
`),G=0;G<j.length;++G){var X=j[G];if(X.length==0){U.push("");continue}for(var ce=0;ce<X.length;){var ye=76,ue=X.slice(ce,ce+ye);ue.charAt(ye-1)=="="?ye--:ue.charAt(ye-2)=="="?ye-=2:ue.charAt(ye-3)=="="&&(ye-=3),ue=X.slice(ce,ce+ye),ce+=ye,ce<X.length&&(ue+="="),U.push(ue)}}return U.join(`\r
`)}function ql(k){for(var W=[],U=0;U<k.length;++U){for(var j=k[U];U<=k.length&&j.charAt(j.length-1)=="=";)j=j.slice(0,j.length-1)+k[++U];W.push(j)}for(var G=0;G<W.length;++G)W[G]=W[G].replace(/[=][0-9A-Fa-f]{2}/g,function(X){return String.fromCharCode(parseInt(X.slice(1),16))});return $r(W.join(`\r
`))}function gr(k,W,U){for(var j="",G="",X="",ce,ye=0;ye<10;++ye){var ue=W[ye];if(!ue||ue.match(/^\s*$/))break;var me=ue.match(/^(.*?):\s*([^\s].*)$/);if(me)switch(me[1].toLowerCase()){case"content-location":j=me[2].trim();break;case"content-type":X=me[2].trim();break;case"content-transfer-encoding":G=me[2].trim();break}}switch(++ye,G.toLowerCase()){case"base64":ce=$r(ya(W.slice(ye).join("")));break;case"quoted-printable":ce=ql(W.slice(ye));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+G)}var de=Fs(k,j.slice(U.length),ce,{unsafe:!0});X&&(de.ctype=X)}function ks(k,W){if(He(k.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var U=W&&W.root||"",j=(Mt&&Buffer.isBuffer(k)?k.toString("binary"):He(k)).split(`\r
`),G=0,X="";for(G=0;G<j.length;++G)if(X=j[G],!!/^Content-Location:/i.test(X)&&(X=X.slice(X.indexOf("file")),U||(U=X.slice(0,X.lastIndexOf("/")+1)),X.slice(0,U.length)!=U))for(;U.length>0&&(U=U.slice(0,U.length-1),U=U.slice(0,U.lastIndexOf("/")+1),X.slice(0,U.length)!=U););var ce=(j[1]||"").match(/boundary="(.*?)"/);if(!ce)throw new Error("MAD cannot find boundary");var ye="--"+(ce[1]||""),ue=[],me=[],de={FileIndex:ue,FullPaths:me};A(de);var De,Me=0;for(G=0;G<j.length;++G){var ze=j[G];ze!==ye&&ze!==ye+"--"||(Me++&&gr(de,j.slice(De,G),U),De=G)}return de}function bu(k,W){var U=W||{},j=U.boundary||"SheetJS";j="------="+j;for(var G=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+j.slice(2)+'"',"","",""],X=k.FullPaths[0],ce=X,ye=k.FileIndex[0],ue=1;ue<k.FullPaths.length;++ue)if(ce=k.FullPaths[ue].slice(X.length),ye=k.FileIndex[ue],!(!ye.size||!ye.content||ce=="Sh33tJ5")){ce=ce.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Xe){return"_x"+Xe.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Xe){return"_u"+Xe.charCodeAt(0).toString(16)+"_"});for(var me=ye.content,de=Mt&&Buffer.isBuffer(me)?me.toString("binary"):He(me),De=0,Me=Math.min(1024,de.length),ze=0,Ie=0;Ie<=Me;++Ie)(ze=de.charCodeAt(Ie))>=32&&ze<128&&++De;var Ve=De>=Me*4/5;G.push(j),G.push("Content-Location: "+(U.root||"file:///C:/SheetJS/")+ce),G.push("Content-Transfer-Encoding: "+(Ve?"quoted-printable":"base64")),G.push("Content-Type: "+mr(ye,ce)),G.push(""),G.push(Ve?wu(de):Zi(de))}return G.push(j+`--\r
`),G.join(`\r
`)}function Ps(k){var W={};return A(W,k),W}function Fs(k,W,U,j){var G=j&&j.unsafe;G||A(k);var X=!G&&Jt.find(k,W);if(!X){var ce=k.FullPaths[0];W.slice(0,ce.length)==ce?ce=W:(ce.slice(-1)!="/"&&(ce+="/"),ce=(ce+W).replace("//","/")),X={name:r(W),type:2},k.FileIndex.push(X),k.FullPaths.push(ce),G||Jt.utils.cfb_gc(k)}return X.content=U,X.size=U?U.length:0,j&&(j.CLSID&&(X.clsid=j.CLSID),j.mt&&(X.mt=j.mt),j.ct&&(X.ct=j.ct)),X}function Bo(k,W){A(k);var U=Jt.find(k,W);if(U){for(var j=0;j<k.FileIndex.length;++j)if(k.FileIndex[j]==U)return k.FileIndex.splice(j,1),k.FullPaths.splice(j,1),!0}return!1}function Ls(k,W,U){A(k);var j=Jt.find(k,W);if(j){for(var G=0;G<k.FileIndex.length;++G)if(k.FileIndex[G]==j)return k.FileIndex[G].name=r(U),k.FullPaths[G]=U,!0}return!1}function Pr(k){I(k,!0)}return e.find=M,e.read=te,e.parse=m,e.write=Je,e.writeFile=Ue,e.utils={cfb_new:Ps,cfb_add:Fs,cfb_del:Bo,cfb_mov:Ls,cfb_gc:Pr,ReadShift:Hh,CheckField:FC,prep_blob:cr,bconcat:hi,use_zlib:V,_deflateRaw:en,_inflateRaw:Ns,consts:Ee},e})();function c7(n){return typeof n=="string"?fg(n):Array.isArray(n)?P9(n):n}function Uf(n,e,t){if(typeof Deno<"u"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=fg(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(n,e)}var i=t=="utf8"?ff(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(i,n);if(typeof Blob<"u"){var r=new Blob([c7(i)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(r,n);if(typeof saveAs<"u")return saveAs(r,n);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(r);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:n,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=n,o.href=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var c=File(n);return c.open("w"),c.encoding="binary",Array.isArray(e)&&(e=Vf(e)),c.write(e),c.close(),e}catch(h){if(!h.message||!h.message.match(/onstruct/))throw h}throw new Error("cannot save file "+n)}function gi(n){for(var e=Object.keys(n),t=[],i=0;i<e.length;++i)Object.prototype.hasOwnProperty.call(n,e[i])&&t.push(e[i]);return t}function Tw(n,e){for(var t=[],i=gi(n),r=0;r!==i.length;++r)t[n[i[r]][e]]==null&&(t[n[i[r]][e]]=i[r]);return t}function ty(n){for(var e=[],t=gi(n),i=0;i!==t.length;++i)e[n[t[i]]]=t[i];return e}function gg(n){for(var e=[],t=gi(n),i=0;i!==t.length;++i)e[n[t[i]]]=parseInt(t[i],10);return e}function u7(n){for(var e=[],t=gi(n),i=0;i!==t.length;++i)e[n[t[i]]]==null&&(e[n[t[i]]]=[]),e[n[t[i]]].push(t[i]);return e}var Am=new Date(1899,11,30,0,0,0);function $i(n,e){var t=n.getTime(),i=Am.getTime()+(n.getTimezoneOffset()-Am.getTimezoneOffset())*6e4;return(t-i)/(1440*60*1e3)}var yC=new Date,h7=Am.getTime()+(yC.getTimezoneOffset()-Am.getTimezoneOffset())*6e4,Sw=yC.getTimezoneOffset();function xC(n){var e=new Date;return e.setTime(n*24*60*60*1e3+h7),e.getTimezoneOffset()!==Sw&&e.setTime(e.getTime()+(e.getTimezoneOffset()-Sw)*6e4),e}var ww=new Date("2017-02-19T19:06:09.000Z"),EC=isNaN(ww.getFullYear())?new Date("2/19/17"):ww,f7=EC.getFullYear()==2017;function Pi(n,e){var t=new Date(n);if(f7)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(n instanceof Date)return n;if(EC.getFullYear()==1917&&!isNaN(t.getFullYear())){var i=t.getFullYear();return n.indexOf(""+i)>-1||t.setFullYear(t.getFullYear()+100),t}var r=n.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+r[0],+r[1]-1,+r[2],+r[3]||0,+r[4]||0,+r[5]||0);return n.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function pg(n,e){if(Mt&&Buffer.isBuffer(n))return n.toString("binary");if(typeof TextDecoder<"u")try{var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(n)&&(n=new Uint8Array(n)),new TextDecoder("latin1").decode(n).replace(/[]/g,function(s){return t[s]||s})}catch{}for(var i=[],r=0;r!=n.length;++r)i.push(String.fromCharCode(n[r]));return i.join("")}function Ki(n){if(typeof JSON<"u"&&!Array.isArray(n))return JSON.parse(JSON.stringify(n));if(typeof n!="object"||n==null)return n;if(n instanceof Date)return new Date(n.getTime());var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=Ki(n[t]));return e}function yn(n,e){for(var t="";t.length<e;)t+=n;return t}function ha(n){var e=Number(n);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(n))return e;var t=1,i=n.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(i))||(i=i.replace(/[(](.*)[)]/,function(r,s){return t=-t,s}),!isNaN(e=Number(i)))?e/t:e}var d7=["january","february","march","april","may","june","july","august","september","october","november","december"];function hf(n){var e=new Date(n),t=new Date(NaN),i=e.getYear(),r=e.getMonth(),s=e.getDate();if(isNaN(s))return t;var o=n.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&d7.indexOf(o)==-1)return t}else if(o.match(/[a-z]/))return t;return i<0||i>8099?t:(r>0||s>1)&&i!=101?e:n.match(/[^-0-9:,\/\\]/)?t:e}function ht(n,e,t){if(n.FullPaths){if(typeof t=="string"){var i;return Mt?i=Sa(t):i=F9(t),Jt.utils.cfb_add(n,e,i)}Jt.utils.cfb_add(n,e,t)}else n.file(e,t)}function ny(){return Jt.utils.cfb_new()}var Bn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,m7={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},iy=ty(m7),ry=/[&<>'"]/g,g7=/[\u0000-\u0008\u000b-\u001f]/g;function Yt(n){var e=n+"";return e.replace(ry,function(t){return iy[t]}).replace(g7,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function bw(n){return Yt(n).replace(/ /g,"_x0020_")}var TC=/[\u0000-\u001f]/g;function p7(n){var e=n+"";return e.replace(ry,function(t){return iy[t]}).replace(/\n/g,"<br/>").replace(TC,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function _7(n){var e=n+"";return e.replace(ry,function(t){return iy[t]}).replace(TC,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}function v7(n){return n.replace(/(\r\n|[\r\n])/g,"&#10;")}function y7(n){switch(n){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function q1(n){for(var e="",t=0,i=0,r=0,s=0,o=0,c=0;t<n.length;){if(i=n.charCodeAt(t++),i<128){e+=String.fromCharCode(i);continue}if(r=n.charCodeAt(t++),i>191&&i<224){o=(i&31)<<6,o|=r&63,e+=String.fromCharCode(o);continue}if(s=n.charCodeAt(t++),i<240){e+=String.fromCharCode((i&15)<<12|(r&63)<<6|s&63);continue}o=n.charCodeAt(t++),c=((i&7)<<18|(r&63)<<12|(s&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(c>>>10&1023)),e+=String.fromCharCode(56320+(c&1023))}return e}function Aw(n){var e=Cl(2*n.length),t,i,r=1,s=0,o=0,c;for(i=0;i<n.length;i+=r)r=1,(c=n.charCodeAt(i))<128?t=c:c<224?(t=(c&31)*64+(n.charCodeAt(i+1)&63),r=2):c<240?(t=(c&15)*4096+(n.charCodeAt(i+1)&63)*64+(n.charCodeAt(i+2)&63),r=3):(r=4,t=(c&7)*262144+(n.charCodeAt(i+1)&63)*4096+(n.charCodeAt(i+2)&63)*64+(n.charCodeAt(i+3)&63),t-=65536,o=55296+(t>>>10&1023),t=56320+(t&1023)),o!==0&&(e[s++]=o&255,e[s++]=o>>>8,o=0),e[s++]=t%256,e[s++]=t>>>8;return e.slice(0,s).toString("ucs2")}function Cw(n){return Sa(n,"binary").toString("utf8")}var E0="foo bar baz",jh=Mt&&(Cw(E0)==q1(E0)&&Cw||Aw(E0)==q1(E0)&&Aw)||q1,ff=Mt?function(n){return Sa(n,"utf8").toString("binary")}:function(n){for(var e=[],t=0,i=0,r=0;t<n.length;)switch(i=n.charCodeAt(t++),!0){case i<128:e.push(String.fromCharCode(i));break;case i<2048:e.push(String.fromCharCode(192+(i>>6))),e.push(String.fromCharCode(128+(i&63)));break;case(i>=55296&&i<57344):i-=55296,r=n.charCodeAt(t++)-56320+(i<<10),e.push(String.fromCharCode(240+(r>>18&7))),e.push(String.fromCharCode(144+(r>>12&63))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)));break;default:e.push(String.fromCharCode(224+(i>>12))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)))}return e.join("")},x7=(function(){var n=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var i=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),r=0;r<n.length;++r)i=i.replace(n[r][0],n[r][1]);return i}})(),SC=/(^\s|\s$|\n)/;function fi(n,e){return"<"+n+(e.match(SC)?' xml:space="preserve"':"")+">"+e+"</"+n+">"}function df(n){return gi(n).map(function(e){return" "+e+'="'+n[e]+'"'}).join("")}function Pe(n,e,t){return"<"+n+(t!=null?df(t):"")+(e!=null?(e.match(SC)?' xml:space="preserve"':"")+">"+e+"</"+n:"/")+">"}function j_(n,e){try{return n.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function E7(n,e){switch(typeof n){case"string":var t=Pe("vt:lpwstr",Yt(n));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return Pe((n|0)==n?"vt:i4":"vt:r8",Yt(String(n)));case"boolean":return Pe("vt:bool",n?"true":"false")}if(n instanceof Date)return Pe("vt:filetime",j_(n));throw new Error("Unable to serialize "+n)}var Kn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},yu=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ur={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function T7(n,e){for(var t=1-2*(n[e+7]>>>7),i=((n[e+7]&127)<<4)+(n[e+6]>>>4&15),r=n[e+6]&15,s=5;s>=0;--s)r=r*256+n[e+s];return i==2047?r==0?t*(1/0):NaN:(i==0?i=-1022:(i-=1023,r+=Math.pow(2,52)),t*Math.pow(2,i-52)*r)}function S7(n,e,t){var i=(e<0||1/e==-1/0?1:0)<<7,r=0,s=0,o=i?-e:e;isFinite(o)?o==0?r=s=0:(r=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-r),r<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?r=-1022:(s-=Math.pow(2,52),r+=1023)):(r=2047,s=isNaN(e)?26985:0);for(var c=0;c<=5;++c,s/=256)n[t+c]=s&255;n[t+6]=(r&15)<<4|s&15,n[t+7]=r>>4|i}var Rw=function(n){for(var e=[],t=10240,i=0;i<n[0].length;++i)if(n[0][i])for(var r=0,s=n[0][i].length;r<s;r+=t)e.push.apply(e,n[0][i].slice(r,r+t));return e},Iw=Mt?function(n){return n[0].length>0&&Buffer.isBuffer(n[0][0])?Buffer.concat(n[0].map(function(e){return Buffer.isBuffer(e)?e:Sa(e)})):Rw(n)}:Rw,Dw=function(n,e,t){for(var i=[],r=e;r<t;r+=2)i.push(String.fromCharCode(Dh(n,r)));return i.join("").replace(zh,"")},sy=Mt?function(n,e,t){return Buffer.isBuffer(n)?n.toString("utf16le",e,t).replace(zh,""):Dw(n,e,t)}:Dw,Ow=function(n,e,t){for(var i=[],r=e;r<e+t;++r)i.push(("0"+n[r].toString(16)).slice(-2));return i.join("")},wC=Mt?function(n,e,t){return Buffer.isBuffer(n)?n.toString("hex",e,e+t):Ow(n,e,t)}:Ow,Nw=function(n,e,t){for(var i=[],r=e;r<t;r++)i.push(String.fromCharCode(Lc(n,r)));return i.join("")},zf=Mt?function(e,t,i){return Buffer.isBuffer(e)?e.toString("utf8",t,i):Nw(e,t,i)}:Nw,bC=function(n,e){var t=hr(n,e);return t>0?zf(n,e+4,e+4+t-1):""},AC=bC,CC=function(n,e){var t=hr(n,e);return t>0?zf(n,e+4,e+4+t-1):""},RC=CC,IC=function(n,e){var t=2*hr(n,e);return t>0?zf(n,e+4,e+4+t-1):""},DC=IC,OC=function(e,t){var i=hr(e,t);return i>0?sy(e,t+4,t+4+i):""},NC=OC,MC=function(n,e){var t=hr(n,e);return t>0?zf(n,e+4,e+4+t):""},kC=MC,PC=function(n,e){return T7(n,e)},Cm=PC,ay=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Mt&&(AC=function(e,t){if(!Buffer.isBuffer(e))return bC(e,t);var i=e.readUInt32LE(t);return i>0?e.toString("utf8",t+4,t+4+i-1):""},RC=function(e,t){if(!Buffer.isBuffer(e))return CC(e,t);var i=e.readUInt32LE(t);return i>0?e.toString("utf8",t+4,t+4+i-1):""},DC=function(e,t){if(!Buffer.isBuffer(e))return IC(e,t);var i=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+i-1)},NC=function(e,t){if(!Buffer.isBuffer(e))return OC(e,t);var i=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+i)},kC=function(e,t){if(!Buffer.isBuffer(e))return MC(e,t);var i=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+i)},Cm=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):PC(e,t)},ay=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Lc=function(n,e){return n[e]},Dh=function(n,e){return n[e+1]*256+n[e]},w7=function(n,e){var t=n[e+1]*256+n[e];return t<32768?t:(65535-t+1)*-1},hr=function(n,e){return n[e+3]*(1<<24)+(n[e+2]<<16)+(n[e+1]<<8)+n[e]},gl=function(n,e){return n[e+3]<<24|n[e+2]<<16|n[e+1]<<8|n[e]},b7=function(n,e){return n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3]};function Hh(n,e){var t="",i,r,s=[],o,c,h,f;switch(e){case"dbcs":if(f=this.l,Mt&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*n).toString("utf16le");else for(h=0;h<n;++h)t+=String.fromCharCode(Dh(this,f)),f+=2;n*=2;break;case"utf8":t=zf(this,this.l,this.l+n);break;case"utf16le":n*=2,t=sy(this,this.l,this.l+n);break;case"wstr":return Hh.call(this,n,"dbcs");case"lpstr-ansi":t=AC(this,this.l),n=4+hr(this,this.l);break;case"lpstr-cp":t=RC(this,this.l),n=4+hr(this,this.l);break;case"lpwstr":t=DC(this,this.l),n=4+2*hr(this,this.l);break;case"lpp4":n=4+hr(this,this.l),t=NC(this,this.l),n&2&&(n+=2);break;case"8lpp4":n=4+hr(this,this.l),t=kC(this,this.l),n&3&&(n+=4-(n&3));break;case"cstr":for(n=0,t="";(o=Lc(this,this.l+n++))!==0;)s.push(v0(o));t=s.join("");break;case"_wstr":for(n=0,t="";(o=Dh(this,this.l+n))!==0;)s.push(v0(o)),n+=2;n+=2,t=s.join("");break;case"dbcs-cont":for(t="",f=this.l,h=0;h<n;++h){if(this.lens&&this.lens.indexOf(f)!==-1)return o=Lc(this,f),this.l=f+1,c=Hh.call(this,n-h,o?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(v0(Dh(this,f))),f+=2}t=s.join(""),n*=2;break;case"cpstr":case"sbcs-cont":for(t="",f=this.l,h=0;h!=n;++h){if(this.lens&&this.lens.indexOf(f)!==-1)return o=Lc(this,f),this.l=f+1,c=Hh.call(this,n-h,o?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(v0(Lc(this,f))),f+=1}t=s.join("");break;default:switch(n){case 1:return i=Lc(this,this.l),this.l++,i;case 2:return i=(e==="i"?w7:Dh)(this,this.l),this.l+=2,i;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(i=(n>0?gl:b7)(this,this.l),this.l+=4,i):(r=hr(this,this.l),this.l+=4,r);case 8:case-8:if(e==="f")return n==8?r=Cm(this,this.l):r=Cm([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,r;n=8;case 16:t=wC(this,this.l,n);break}}return this.l+=n,t}var A7=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255,n[t+2]=e>>>16&255,n[t+3]=e>>>24&255},C7=function(n,e,t){n[t]=e&255,n[t+1]=e>>8&255,n[t+2]=e>>16&255,n[t+3]=e>>24&255},R7=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255};function I7(n,e,t){var i=0,r=0;if(t==="dbcs"){for(r=0;r!=e.length;++r)R7(this,e.charCodeAt(r),this.l+2*r);i=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),r=0;r!=e.length;++r)this[this.l+r]=e.charCodeAt(r)&255;i=e.length}else if(t==="hex"){for(;r<n;++r)this[this.l++]=parseInt(e.slice(2*r,2*r+2),16)||0;return this}else if(t==="utf16le"){var s=Math.min(this.l+n,this.length);for(r=0;r<Math.min(e.length,n);++r){var o=e.charCodeAt(r);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(n){case 1:i=1,this[this.l]=e&255;break;case 2:i=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:i=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:i=4,A7(this,e,this.l);break;case 8:if(i=8,t==="f"){S7(this,e,this.l);break}case 16:break;case-4:i=4,C7(this,e,this.l);break}return this.l+=i,this}function FC(n,e){var t=wC(this,this.l,n.length>>1);if(t!==n)throw new Error(e+"Expected "+n+" saw "+t);this.l+=n.length>>1}function cr(n,e){n.l=e,n.read_shift=Hh,n.chk=FC,n.write_shift=I7}function Ds(n,e){n.l+=e}function ve(n){var e=Cl(n);return cr(e,0),e}function Xi(){var n=[],e=Mt?256:2048,t=function(f){var m=ve(f);return cr(m,0),m},i=t(e),r=function(){i&&(i.length>i.l&&(i=i.slice(0,i.l),i.l=i.length),i.length>0&&n.push(i),i=null)},s=function(f){return i&&f<i.length-i.l?i:(r(),i=t(Math.max(f+1,e)))},o=function(){return r(),hi(n)},c=function(f){r(),i=f,i.l==null&&(i.l=i.length),s(e)};return{next:s,push:c,end:o,_bufs:n}}function Re(n,e,t,i){var r=+e,s;if(!isNaN(r)){i||(i=TH[r].p||(t||[]).length||0),s=1+(r>=128?1:0)+1,i>=128&&++s,i>=16384&&++s,i>=2097152&&++s;var o=n.next(s);r<=127?o.write_shift(1,r):(o.write_shift(1,(r&127)+128),o.write_shift(1,r>>7));for(var c=0;c!=4;++c)if(i>=128)o.write_shift(1,(i&127)+128),i>>=7;else{o.write_shift(1,i);break}i>0&&ay(t)&&n.push(t)}}function qh(n,e,t){var i=Ki(n);if(e.s?(i.cRel&&(i.c+=e.s.c),i.rRel&&(i.r+=e.s.r)):(i.cRel&&(i.c+=e.c),i.rRel&&(i.r+=e.r)),!t||t.biff<12){for(;i.c>=256;)i.c-=256;for(;i.r>=65536;)i.r-=65536}return i}function Mw(n,e,t){var i=Ki(n);return i.s=qh(i.s,e.s,t),i.e=qh(i.e,e.s,t),i}function Gh(n,e){if(n.cRel&&n.c<0)for(n=Ki(n);n.c<0;)n.c+=e>8?16384:256;if(n.rRel&&n.r<0)for(n=Ki(n);n.r<0;)n.r+=e>8?1048576:e>5?65536:16384;var t=Xt(n);return!n.cRel&&n.cRel!=null&&(t=N7(t)),!n.rRel&&n.rRel!=null&&(t=D7(t)),t}function G1(n,e){return n.s.r==0&&!n.s.rRel&&n.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!n.e.rRel?(n.s.cRel?"":"$")+Ai(n.s.c)+":"+(n.e.cRel?"":"$")+Ai(n.e.c):n.s.c==0&&!n.s.cRel&&n.e.c==(e.biff>=12?16383:255)&&!n.e.cRel?(n.s.rRel?"":"$")+di(n.s.r)+":"+(n.e.rRel?"":"$")+di(n.e.r):Gh(n.s,e.biff)+":"+Gh(n.e,e.biff)}function oy(n){return parseInt(O7(n),10)-1}function di(n){return""+(n+1)}function D7(n){return n.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function O7(n){return n.replace(/\$(\d+)$/,"$1")}function ly(n){for(var e=M7(n),t=0,i=0;i!==e.length;++i)t=26*t+e.charCodeAt(i)-64;return t-1}function Ai(n){if(n<0)throw new Error("invalid column "+n);var e="";for(++n;n;n=Math.floor((n-1)/26))e=String.fromCharCode((n-1)%26+65)+e;return e}function N7(n){return n.replace(/^([A-Z])/,"$$$1")}function M7(n){return n.replace(/^\$([A-Z])/,"$1")}function k7(n){return n.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Qn(n){for(var e=0,t=0,i=0;i<n.length;++i){var r=n.charCodeAt(i);r>=48&&r<=57?e=10*e+(r-48):r>=65&&r<=90&&(t=26*t+(r-64))}return{c:t-1,r:e-1}}function Xt(n){for(var e=n.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(n.r+1)}function dr(n){var e=n.indexOf(":");return e==-1?{s:Qn(n),e:Qn(n)}:{s:Qn(n.slice(0,e)),e:Qn(n.slice(e+1))}}function Ln(n,e){return typeof e>"u"||typeof e=="number"?Ln(n.s,n.e):(typeof n!="string"&&(n=Xt(n)),typeof e!="string"&&(e=Xt(e)),n==e?n:n+":"+e)}function un(n){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,i=0,r=0,s=n.length;for(t=0;i<s&&!((r=n.charCodeAt(i)-64)<1||r>26);++i)t=26*t+r;for(e.s.c=--t,t=0;i<s&&!((r=n.charCodeAt(i)-48)<0||r>9);++i)t=10*t+r;if(e.s.r=--t,i===s||r!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++i,t=0;i!=s&&!((r=n.charCodeAt(i)-64)<1||r>26);++i)t=26*t+r;for(e.e.c=--t,t=0;i!=s&&!((r=n.charCodeAt(i)-48)<0||r>9);++i)t=10*t+r;return e.e.r=--t,e}function kw(n,e){var t=n.t=="d"&&e instanceof Date;if(n.z!=null)try{return n.w=Do(n.z,t?$i(e):e)}catch{}try{return n.w=Do((n.XF||{}).numFmtId||(t?14:0),t?$i(e):e)}catch{return""+e}}function xa(n,e,t){return n==null||n.t==null||n.t=="z"?"":n.w!==void 0?n.w:(n.t=="d"&&!n.z&&t&&t.dateNF&&(n.z=t.dateNF),n.t=="e"?jf[n.v]||n.v:e==null?kw(n,n.v):kw(n,e))}function Ll(n,e){var t=e&&e.sheet?e.sheet:"Sheet1",i={};return i[t]=n,{SheetNames:[t],Sheets:i}}function LC(n,e,t){var i=t||{},r=n?Array.isArray(n):i.dense,s=n||(r?[]:{}),o=0,c=0;if(s&&i.origin!=null){if(typeof i.origin=="number")o=i.origin;else{var h=typeof i.origin=="string"?Qn(i.origin):i.origin;o=h.r,c=h.c}s["!ref"]||(s["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var m=un(s["!ref"]);f.s.c=m.s.c,f.s.r=m.s.r,f.e.c=Math.max(f.e.c,m.e.c),f.e.r=Math.max(f.e.r,m.e.r),o==-1&&(f.e.r=o=m.e.r+1)}for(var p=0;p!=e.length;++p)if(e[p]){if(!Array.isArray(e[p]))throw new Error("aoa_to_sheet expects an array of arrays");for(var v=0;v!=e[p].length;++v)if(!(typeof e[p][v]>"u")){var x={v:e[p][v]},T=o+p,E=c+v;if(f.s.r>T&&(f.s.r=T),f.s.c>E&&(f.s.c=E),f.e.r<T&&(f.e.r=T),f.e.c<E&&(f.e.c=E),e[p][v]&&typeof e[p][v]=="object"&&!Array.isArray(e[p][v])&&!(e[p][v]instanceof Date))x=e[p][v];else if(Array.isArray(x.v)&&(x.f=e[p][v][1],x.v=x.v[0]),x.v===null)if(x.f)x.t="n";else if(i.nullError)x.t="e",x.v=0;else if(i.sheetStubs)x.t="z";else continue;else typeof x.v=="number"?x.t="n":typeof x.v=="boolean"?x.t="b":x.v instanceof Date?(x.z=i.dateNF||En[14],i.cellDates?(x.t="d",x.w=Do(x.z,$i(x.v))):(x.t="n",x.v=$i(x.v),x.w=Do(x.z,x.v))):x.t="s";if(r)s[T]||(s[T]=[]),s[T][E]&&s[T][E].z&&(x.z=s[T][E].z),s[T][E]=x;else{var S=Xt({c:E,r:T});s[S]&&s[S].z&&(x.z=s[S].z),s[S]=x}}}return f.s.c<1e7&&(s["!ref"]=Ln(f)),s}function xu(n,e){return LC(null,n,e)}function P7(n){return n.read_shift(4,"i")}function es(n,e){return e||(e=ve(4)),e.write_shift(4,n),e}function Ci(n){var e=n.read_shift(4);return e===0?"":n.read_shift(e,"dbcs")}function Zn(n,e){var t=!1;return e==null&&(t=!0,e=ve(4+2*n.length)),e.write_shift(4,n.length),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}function F7(n){return{ich:n.read_shift(2),ifnt:n.read_shift(2)}}function L7(n,e){return e||(e=ve(4)),e.write_shift(2,0),e.write_shift(2,0),e}function cy(n,e){var t=n.l,i=n.read_shift(1),r=Ci(n),s=[],o={t:r,h:r};if((i&1)!==0){for(var c=n.read_shift(4),h=0;h!=c;++h)s.push(F7(n));o.r=s}else o.r=[{ich:0,ifnt:0}];return n.l=t+e,o}function B7(n,e){var t=!1;return e==null&&(t=!0,e=ve(15+4*n.t.length)),e.write_shift(1,0),Zn(n.t,e),t?e.slice(0,e.l):e}var V7=cy;function U7(n,e){var t=!1;return e==null&&(t=!0,e=ve(23+4*n.t.length)),e.write_shift(1,1),Zn(n.t,e),e.write_shift(4,1),L7({},e),t?e.slice(0,e.l):e}function kr(n){var e=n.read_shift(4),t=n.read_shift(2);return t+=n.read_shift(1)<<16,n.l++,{c:e,iStyleRef:t}}function Bl(n,e){return e==null&&(e=ve(8)),e.write_shift(-4,n.c),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}function Vl(n){var e=n.read_shift(2);return e+=n.read_shift(1)<<16,n.l++,{c:-1,iStyleRef:e}}function Ul(n,e){return e==null&&(e=ve(4)),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}var z7=Ci,BC=Zn;function uy(n){var e=n.read_shift(4);return e===0||e===4294967295?"":n.read_shift(e,"dbcs")}function Rm(n,e){var t=!1;return e==null&&(t=!0,e=ve(127)),e.write_shift(4,n.length>0?n.length:4294967295),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}var j7=Ci,H_=uy,hy=Rm;function VC(n){var e=n.slice(n.l,n.l+4),t=e[0]&1,i=e[0]&2;n.l+=4;var r=i===0?Cm([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):gl(e,0)>>2;return t?r/100:r}function UC(n,e){e==null&&(e=ve(4));var t=0,i=0,r=n*100;if(n==(n|0)&&n>=-536870912&&n<1<<29?i=1:r==(r|0)&&r>=-536870912&&r<1<<29&&(i=1,t=1),i)e.write_shift(-4,((t?r:n)<<2)+(t+2));else throw new Error("unsupported RkNumber "+n)}function zC(n){var e={s:{},e:{}};return e.s.r=n.read_shift(4),e.e.r=n.read_shift(4),e.s.c=n.read_shift(4),e.e.c=n.read_shift(4),e}function H7(n,e){return e||(e=ve(16)),e.write_shift(4,n.s.r),e.write_shift(4,n.e.r),e.write_shift(4,n.s.c),e.write_shift(4,n.e.c),e}var zl=zC,Eu=H7;function Tu(n){if(n.length-n.l<8)throw"XLS Xnum Buffer underflow";return n.read_shift(8,"f")}function Rl(n,e){return(e||ve(8)).write_shift(8,n,"f")}function q7(n){var e={},t=n.read_shift(1),i=t>>>1,r=n.read_shift(1),s=n.read_shift(2,"i"),o=n.read_shift(1),c=n.read_shift(1),h=n.read_shift(1);switch(n.l++,i){case 0:e.auto=1;break;case 1:e.index=r;var f=J7[r];f&&(e.rgb=Gw(f));break;case 2:e.rgb=Gw([o,c,h]);break;case 3:e.theme=r;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function Im(n,e){if(e||(e=ve(8)),!n||n.auto)return e.write_shift(4,0),e.write_shift(4,0),e;n.index!=null?(e.write_shift(1,2),e.write_shift(1,n.index)):n.theme!=null?(e.write_shift(1,6),e.write_shift(1,n.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=n.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!n.rgb||n.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var i=n.rgb||"FFFFFF";typeof i=="number"&&(i=("000000"+i.toString(16)).slice(-6)),e.write_shift(1,parseInt(i.slice(0,2),16)),e.write_shift(1,parseInt(i.slice(2,4),16)),e.write_shift(1,parseInt(i.slice(4,6),16)),e.write_shift(1,255)}return e}function G7(n){var e=n.read_shift(1);n.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function W7(n,e){e||(e=ve(2));var t=(n.italic?2:0)|(n.strike?8:0)|(n.outline?16:0)|(n.shadow?32:0)|(n.condense?64:0)|(n.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}var jC=2,lr=3,T0=11,Dm=19,S0=64,Y7=65,X7=71,$7=4108,K7=4126,li=80,Pw={1:{n:"CodePage",t:jC},2:{n:"Category",t:li},3:{n:"PresentationFormat",t:li},4:{n:"ByteCount",t:lr},5:{n:"LineCount",t:lr},6:{n:"ParagraphCount",t:lr},7:{n:"SlideCount",t:lr},8:{n:"NoteCount",t:lr},9:{n:"HiddenCount",t:lr},10:{n:"MultimediaClipCount",t:lr},11:{n:"ScaleCrop",t:T0},12:{n:"HeadingPairs",t:$7},13:{n:"TitlesOfParts",t:K7},14:{n:"Manager",t:li},15:{n:"Company",t:li},16:{n:"LinksUpToDate",t:T0},17:{n:"CharacterCount",t:lr},19:{n:"SharedDoc",t:T0},22:{n:"HyperlinksChanged",t:T0},23:{n:"AppVersion",t:lr,p:"version"},24:{n:"DigSig",t:Y7},26:{n:"ContentType",t:li},27:{n:"ContentStatus",t:li},28:{n:"Language",t:li},29:{n:"Version",t:li},255:{},2147483648:{n:"Locale",t:Dm},2147483651:{n:"Behavior",t:Dm},1919054434:{}},Fw={1:{n:"CodePage",t:jC},2:{n:"Title",t:li},3:{n:"Subject",t:li},4:{n:"Author",t:li},5:{n:"Keywords",t:li},6:{n:"Comments",t:li},7:{n:"Template",t:li},8:{n:"LastAuthor",t:li},9:{n:"RevNumber",t:li},10:{n:"EditTime",t:S0},11:{n:"LastPrinted",t:S0},12:{n:"CreatedDate",t:S0},13:{n:"ModifiedDate",t:S0},14:{n:"PageCount",t:lr},15:{n:"WordCount",t:lr},16:{n:"CharCount",t:lr},17:{n:"Thumbnail",t:X7},18:{n:"Application",t:li},19:{n:"DocSecurity",t:lr},255:{},2147483648:{n:"Locale",t:Dm},2147483651:{n:"Behavior",t:Dm},1919054434:{}};function Q7(n){return n.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var Z7=Q7([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),J7=Ki(Z7),jf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},eB={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},w0={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function HC(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function qC(n,e){var t=u7(eB),i=[],r;i[i.length]=Bn,i[i.length]=Pe("Types",null,{xmlns:Kn.CT,"xmlns:xsd":Kn.xsd,"xmlns:xsi":Kn.xsi}),i=i.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(h){return Pe("Default",null,{Extension:h[0],ContentType:h[1]})}));var s=function(h){n[h]&&n[h].length>0&&(r=n[h][0],i[i.length]=Pe("Override",null,{PartName:(r[0]=="/"?"":"/")+r,ContentType:w0[h][e.bookType]||w0[h].xlsx}))},o=function(h){(n[h]||[]).forEach(function(f){i[i.length]=Pe("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:w0[h][e.bookType]||w0[h].xlsx})})},c=function(h){(n[h]||[]).forEach(function(f){i[i.length]=Pe("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:t[h][0]})})};return s("workbooks"),o("sheets"),o("charts"),c("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(c),c("vba"),c("comments"),c("threadedcomments"),c("drawings"),o("metadata"),c("people"),i.length>2&&(i[i.length]="</Types>",i[1]=i[1].replace("/>",">")),i.join("")}var Dt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function GC(n){var e=n.lastIndexOf("/");return n.slice(0,e+1)+"_rels/"+n.slice(e+1)+".rels"}function Xc(n){var e=[Bn,Pe("Relationships",null,{xmlns:Kn.RELS})];return gi(n["!id"]).forEach(function(t){e[e.length]=Pe("Relationship",null,n["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function qt(n,e,t,i,r,s){if(r||(r={}),n["!id"]||(n["!id"]={}),n["!idx"]||(n["!idx"]=1),e<0)for(e=n["!idx"];n["!id"]["rId"+e];++e);if(n["!idx"]=e+1,r.Id="rId"+e,r.Type=i,r.Target=t,[Dt.HLINK,Dt.XPATH,Dt.XMISS].indexOf(r.Type)>-1&&(r.TargetMode="External"),n["!id"][r.Id])throw new Error("Cannot rewrite rId "+e);return n["!id"][r.Id]=r,n[("/"+r.Target).replace("//","/")]=r,e}function tB(n){var e=[Bn];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<n.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+n[t][0]+'" manifest:media-type="'+n[t][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function Lw(n,e,t){return['  <rdf:Description rdf:about="'+n+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function nB(n,e){return['  <rdf:Description rdf:about="'+n+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function iB(n){var e=[Bn];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=n.length;++t)e.push(Lw(n[t][0],n[t][1])),e.push(nB("",n[t][0]));return e.push(Lw("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function WC(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Em.version+"</meta:generator></office:meta></office:document-meta>"}var yl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function W1(n,e,t,i,r){r[n]!=null||e==null||e===""||(r[n]=e,e=Yt(e),i[i.length]=t?Pe(n,e,t):fi(n,e))}function YC(n,e){var t=e||{},i=[Bn,Pe("cp:coreProperties",null,{"xmlns:cp":Kn.CORE_PROPS,"xmlns:dc":Kn.dc,"xmlns:dcterms":Kn.dcterms,"xmlns:dcmitype":Kn.dcmitype,"xmlns:xsi":Kn.xsi})],r={};if(!n&&!t.Props)return i.join("");n&&(n.CreatedDate!=null&&W1("dcterms:created",typeof n.CreatedDate=="string"?n.CreatedDate:j_(n.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},i,r),n.ModifiedDate!=null&&W1("dcterms:modified",typeof n.ModifiedDate=="string"?n.ModifiedDate:j_(n.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},i,r));for(var s=0;s!=yl.length;++s){var o=yl[s],c=t.Props&&t.Props[o[1]]!=null?t.Props[o[1]]:n?n[o[1]]:null;c===!0?c="1":c===!1?c="0":typeof c=="number"&&(c=String(c)),c!=null&&W1(o[0],c,null,i,r)}return i.length>2&&(i[i.length]="</cp:coreProperties>",i[1]=i[1].replace("/>",">")),i.join("")}var $c=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],XC=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function $C(n){var e=[],t=Pe;return n||(n={}),n.Application="SheetJS",e[e.length]=Bn,e[e.length]=Pe("Properties",null,{xmlns:Kn.EXT_PROPS,"xmlns:vt":Kn.vt}),$c.forEach(function(i){if(n[i[1]]!==void 0){var r;switch(i[2]){case"string":r=Yt(String(n[i[1]]));break;case"bool":r=n[i[1]]?"true":"false";break}r!==void 0&&(e[e.length]=t(i[0],r))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(n.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",n.SheetNames.map(function(i){return"<vt:lpstr>"+Yt(i)+"</vt:lpstr>"}).join(""),{size:n.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function KC(n){var e=[Bn,Pe("Properties",null,{xmlns:Kn.CUST_PROPS,"xmlns:vt":Kn.vt})];if(!n)return e.join("");var t=1;return gi(n).forEach(function(r){++t,e[e.length]=Pe("property",E7(n[r]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:Yt(r)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var Bw={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function rB(n,e){var t=[];return gi(Bw).map(function(i){for(var r=0;r<yl.length;++r)if(yl[r][1]==i)return yl[r];for(r=0;r<$c.length;++r)if($c[r][1]==i)return $c[r];throw i}).forEach(function(i){if(n[i[1]]!=null){var r=e&&e.Props&&e.Props[i[1]]!=null?e.Props[i[1]]:n[i[1]];switch(i[2]){case"date":r=new Date(r).toISOString().replace(/\.\d*Z/,"Z");break}typeof r=="number"?r=String(r):r===!0||r===!1?r=r?"1":"0":r instanceof Date&&(r=new Date(r).toISOString().replace(/\.\d*Z/,"")),t.push(fi(Bw[i[1]]||i[1],r))}}),Pe("DocumentProperties",t.join(""),{xmlns:ur.o})}function sB(n,e){var t=["Worksheets","SheetNames"],i="CustomDocumentProperties",r=[];return n&&gi(n).forEach(function(s){if(Object.prototype.hasOwnProperty.call(n,s)){for(var o=0;o<yl.length;++o)if(s==yl[o][1])return;for(o=0;o<$c.length;++o)if(s==$c[o][1])return;for(o=0;o<t.length;++o)if(s==t[o])return;var c=n[s],h="string";typeof c=="number"?(h="float",c=String(c)):c===!0||c===!1?(h="boolean",c=c?"1":"0"):c=String(c),r.push(Pe(bw(s),c,{"dt:dt":h}))}}),e&&gi(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(n&&Object.prototype.hasOwnProperty.call(n,s))){var o=e[s],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o instanceof Date?(c="dateTime.tz",o=o.toISOString()):o=String(o),r.push(Pe(bw(s),o,{"dt:dt":c}))}}),"<"+i+' xmlns="'+ur.o+'">'+r.join("")+"</"+i+">"}function aB(n){var e=typeof n=="string"?new Date(Date.parse(n)):n,t=e.getTime()/1e3+11644473600,i=t%Math.pow(2,32),r=(t-i)/Math.pow(2,32);i*=1e7,r*=1e7;var s=i/Math.pow(2,32)|0;s>0&&(i=i%Math.pow(2,32),r+=s);var o=ve(8);return o.write_shift(4,i),o.write_shift(4,r),o}function Vw(n,e){var t=ve(4),i=ve(4);switch(t.write_shift(4,n==80?31:n),n){case 3:i.write_shift(-4,e);break;case 5:i=ve(8),i.write_shift(8,e,"f");break;case 11:i.write_shift(4,e?1:0);break;case 64:i=aB(e);break;case 31:case 80:for(i=ve(4+2*(e.length+1)+(e.length%2?0:2)),i.write_shift(4,e.length+1),i.write_shift(0,e,"dbcs");i.l!=i.length;)i.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+n+" "+e)}return hi([t,i])}var QC=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function oB(n){switch(typeof n){case"boolean":return 11;case"number":return(n|0)==n?3:5;case"string":return 31;case"object":if(n instanceof Date)return 64;break}return-1}function Uw(n,e,t){var i=ve(8),r=[],s=[],o=8,c=0,h=ve(8),f=ve(8);if(h.write_shift(4,2),h.write_shift(4,1200),f.write_shift(4,1),s.push(h),r.push(f),o+=8+h.length,!e){f=ve(8),f.write_shift(4,0),r.unshift(f);var m=[ve(4)];for(m[0].write_shift(4,n.length),c=0;c<n.length;++c){var p=n[c][0];for(h=ve(8+2*(p.length+1)+(p.length%2?0:2)),h.write_shift(4,c+2),h.write_shift(4,p.length+1),h.write_shift(0,p,"dbcs");h.l!=h.length;)h.write_shift(1,0);m.push(h)}h=hi(m),s.unshift(h),o+=8+h.length}for(c=0;c<n.length;++c)if(!(e&&!e[n[c][0]])&&!(QC.indexOf(n[c][0])>-1||XC.indexOf(n[c][0])>-1)&&n[c][1]!=null){var v=n[c][1],x=0;if(e){x=+e[n[c][0]];var T=t[x];if(T.p=="version"&&typeof v=="string"){var E=v.split(".");v=(+E[0]<<16)+(+E[1]||0)}h=Vw(T.t,v)}else{var S=oB(v);S==-1&&(S=31,v=String(v)),h=Vw(S,v)}s.push(h),f=ve(8),f.write_shift(4,e?x:2+c),r.push(f),o+=8+h.length}var C=8*(s.length+1);for(c=0;c<s.length;++c)r[c].write_shift(4,C),C+=s[c].length;return i.write_shift(4,o),i.write_shift(4,s.length),hi([i].concat(r).concat(s))}function zw(n,e,t,i,r,s){var o=ve(r?68:48),c=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Jt.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,r?2:1),o.write_shift(16,e,"hex"),o.write_shift(4,r?68:48);var h=Uw(n,t,i);if(c.push(h),r){var f=Uw(r,null,null);o.write_shift(16,s,"hex"),o.write_shift(4,68+h.length),c.push(f)}return hi(c)}function lB(n,e){e||(e=ve(n));for(var t=0;t<n;++t)e.write_shift(1,0);return e}function cB(n,e){return n.read_shift(e)===1}function ki(n,e){return e||(e=ve(2)),e.write_shift(2,+!!n),e}function ZC(n){return n.read_shift(2,"u")}function Ir(n,e){return e||(e=ve(2)),e.write_shift(2,n),e}function JC(n,e,t){return t||(t=ve(2)),t.write_shift(1,e=="e"?+n:+!!n),t.write_shift(1,e=="e"?1:0),t}function eR(n,e,t){var i=n.read_shift(t&&t.biff>=12?2:1),r="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var s=n.read_shift(1);s&&(r="dbcs-cont")}else t.biff==12&&(r="wstr");t.biff>=2&&t.biff<=5&&(r="cpstr");var o=i?n.read_shift(i,r):"";return o}function uB(n){var e=n.t||"",t=ve(3);t.write_shift(2,e.length),t.write_shift(1,1);var i=ve(2*e.length);i.write_shift(2*e.length,e,"utf16le");var r=[t,i];return hi(r)}function hB(n,e,t){var i;if(t){if(t.biff>=2&&t.biff<=5)return n.read_shift(e,"cpstr");if(t.biff>=12)return n.read_shift(e,"dbcs-cont")}var r=n.read_shift(1);return r===0?i=n.read_shift(e,"sbcs-cont"):i=n.read_shift(e,"dbcs-cont"),i}function fB(n,e,t){var i=n.read_shift(t&&t.biff==2?1:2);return i===0?(n.l++,""):hB(n,i,t)}function dB(n,e,t){if(t.biff>5)return fB(n,e,t);var i=n.read_shift(1);return i===0?(n.l++,""):n.read_shift(i,t.biff<=4||!n.lens?"cpstr":"sbcs-cont")}function tR(n,e,t){return t||(t=ve(3+2*n.length)),t.write_shift(2,n.length),t.write_shift(1,1),t.write_shift(31,n,"utf16le"),t}function jw(n,e){e||(e=ve(6+n.length*2)),e.write_shift(4,1+n.length);for(var t=0;t<n.length;++t)e.write_shift(2,n.charCodeAt(t));return e.write_shift(2,0),e}function mB(n){var e=ve(512),t=0,i=n.Target;i.slice(0,7)=="file://"&&(i=i.slice(7));var r=i.indexOf("#"),s=r>-1?31:23;switch(i.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var o=[8,6815827,6619237,4849780,83];for(t=0;t<o.length;++t)e.write_shift(4,o[t]);if(s==28)i=i.slice(1),jw(i,e);else if(s&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<o.length;++t)e.write_shift(1,parseInt(o[t],16));var c=r>-1?i.slice(0,r):i;for(e.write_shift(4,2*(c.length+1)),t=0;t<c.length;++t)e.write_shift(2,c.charCodeAt(t));e.write_shift(2,0),s&8&&jw(r>-1?i.slice(r+1):"",e)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<o.length;++t)e.write_shift(1,parseInt(o[t],16));for(var h=0;i.slice(h*3,h*3+3)=="../"||i.slice(h*3,h*3+3)=="..\\";)++h;for(e.write_shift(2,h),e.write_shift(4,i.length-3*h+1),t=0;t<i.length-3*h;++t)e.write_shift(1,i.charCodeAt(t+3*h)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function Il(n,e,t,i){return i||(i=ve(6)),i.write_shift(2,n),i.write_shift(2,e),i.write_shift(2,t||0),i}function gB(n,e,t){var i=t.biff>8?4:2,r=n.read_shift(i),s=n.read_shift(i,"i"),o=n.read_shift(i,"i");return[r,s,o]}function pB(n){var e=n.read_shift(2),t=n.read_shift(2),i=n.read_shift(2),r=n.read_shift(2);return{s:{c:i,r:e},e:{c:r,r:t}}}function nR(n,e){return e||(e=ve(8)),e.write_shift(2,n.s.r),e.write_shift(2,n.e.r),e.write_shift(2,n.s.c),e.write_shift(2,n.e.c),e}function fy(n,e,t){var i=1536,r=16;switch(t.bookType){case"biff8":break;case"biff5":i=1280,r=8;break;case"biff4":i=4,r=6;break;case"biff3":i=3,r=6;break;case"biff2":i=2,r=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=ve(r);return s.write_shift(2,i),s.write_shift(2,e),r>4&&s.write_shift(2,29282),r>6&&s.write_shift(2,1997),r>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function _B(n,e){var t=!e||e.biff==8,i=ve(t?112:54);for(i.write_shift(e.biff==8?2:1,7),t&&i.write_shift(1,0),i.write_shift(4,859007059),i.write_shift(4,5458548|(t?0:536870912));i.l<i.length;)i.write_shift(1,t?0:32);return i}function vB(n,e){var t=!e||e.biff>=8?2:1,i=ve(8+t*n.name.length);i.write_shift(4,n.pos),i.write_shift(1,n.hs||0),i.write_shift(1,n.dt),i.write_shift(1,n.name.length),e.biff>=8&&i.write_shift(1,1),i.write_shift(t*n.name.length,n.name,e.biff<8?"sbcs":"utf16le");var r=i.slice(0,i.l);return r.l=i.l,r}function yB(n,e){var t=ve(8);t.write_shift(4,n.Count),t.write_shift(4,n.Unique);for(var i=[],r=0;r<n.length;++r)i[r]=uB(n[r]);var s=hi([t].concat(i));return s.parts=[t.length].concat(i.map(function(o){return o.length})),s}function xB(){var n=ve(18);return n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,29280),n.write_shift(2,17600),n.write_shift(2,56),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,1),n.write_shift(2,500),n}function EB(n){var e=ve(18),t=1718;return n&&n.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function TB(n,e){var t=n.name||"Arial",i=e&&e.biff==5,r=i?15+t.length:16+2*t.length,s=ve(r);return s.write_shift(2,n.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,t.length),i||s.write_shift(1,1),s.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le"),s}function SB(n,e,t,i){var r=ve(10);return Il(n,e,i,r),r.write_shift(4,t),r}function wB(n,e,t,i,r){var s=!r||r.biff==8,o=ve(8+ +s+(1+s)*t.length);return Il(n,e,i,o),o.write_shift(2,t.length),s&&o.write_shift(1,1),o.write_shift((1+s)*t.length,t,s?"utf16le":"sbcs"),o}function bB(n,e,t,i){var r=t&&t.biff==5;i||(i=ve(r?3+e.length:5+2*e.length)),i.write_shift(2,n),i.write_shift(r?1:2,e.length),r||i.write_shift(1,1),i.write_shift((r?1:2)*e.length,e,r?"sbcs":"utf16le");var s=i.length>i.l?i.slice(0,i.l):i;return s.l==null&&(s.l=s.length),s}function AB(n,e){var t=e.biff==8||!e.biff?4:2,i=ve(2*t+6);return i.write_shift(t,n.s.r),i.write_shift(t,n.e.r+1),i.write_shift(2,n.s.c),i.write_shift(2,n.e.c+1),i.write_shift(2,0),i}function Hw(n,e,t,i){var r=t&&t.biff==5;i||(i=ve(r?16:20)),i.write_shift(2,0),n.style?(i.write_shift(2,n.numFmtId||0),i.write_shift(2,65524)):(i.write_shift(2,n.numFmtId||0),i.write_shift(2,e<<4));var s=0;return n.numFmtId>0&&r&&(s|=1024),i.write_shift(4,s),i.write_shift(4,0),r||i.write_shift(4,0),i.write_shift(2,0),i}function CB(n){var e=ve(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function RB(n,e,t,i,r,s){var o=ve(8);return Il(n,e,i,o),JC(t,s,o),o}function IB(n,e,t,i){var r=ve(14);return Il(n,e,i,r),Rl(t,r),r}function DB(n,e,t){if(t.biff<8)return OB(n,e,t);for(var i=[],r=n.l+e,s=n.read_shift(t.biff>8?4:2);s--!==0;)i.push(gB(n,t.biff>8?12:6,t));if(n.l!=r)throw new Error("Bad ExternSheet: "+n.l+" != "+r);return i}function OB(n,e,t){n[n.l+1]==3&&n[n.l]++;var i=eR(n,e,t);return i.charCodeAt(0)==3?i.slice(1):i}function NB(n){var e=ve(2+n.length*8);e.write_shift(2,n.length);for(var t=0;t<n.length;++t)nR(n[t],e);return e}function MB(n){var e=ve(24),t=Qn(n[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var i="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<16;++r)e.write_shift(1,parseInt(i[r],16));return hi([e,mB(n[1])])}function kB(n){var e=n[1].Tooltip,t=ve(10+2*(e.length+1));t.write_shift(2,2048);var i=Qn(n[0]);t.write_shift(2,i.r),t.write_shift(2,i.r),t.write_shift(2,i.c),t.write_shift(2,i.c);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function PB(n){return n||(n=ve(4)),n.write_shift(2,1),n.write_shift(2,1),n}function FB(n,e,t){if(!t.cellStyles)return Ds(n,e);var i=t&&t.biff>=12?4:2,r=n.read_shift(i),s=n.read_shift(i),o=n.read_shift(i),c=n.read_shift(i),h=n.read_shift(2);i==2&&(n.l+=2);var f={s:r,e:s,w:o,ixfe:c,flags:h};return(t.biff>=5||!t.biff)&&(f.level=h>>8&7),f}function LB(n,e){var t=ve(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,n.width*256),t.write_shift(2,0);var i=0;return n.hidden&&(i|=1),t.write_shift(1,i),i=n.level||0,t.write_shift(1,i),t.write_shift(2,0),t}function BB(n){for(var e=ve(2*n),t=0;t<n;++t)e.write_shift(2,t+1);return e}function VB(n,e,t){var i=ve(15);return qf(i,n,e),i.write_shift(8,t,"f"),i}function UB(n,e,t){var i=ve(9);return qf(i,n,e),i.write_shift(2,t),i}var zB=(function(){var n={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=ty({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(c,h){var f=[],m=Cl(1);switch(h.type){case"base64":m=$r(ya(c));break;case"binary":m=$r(c);break;case"buffer":case"array":m=c;break}cr(m,0);var p=m.read_shift(1),v=!!(p&136),x=!1,T=!1;switch(p){case 2:break;case 3:break;case 48:x=!0,v=!0;break;case 49:x=!0,v=!0;break;case 131:break;case 139:break;case 140:T=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+p.toString(16))}var E=0,S=521;p==2&&(E=m.read_shift(2)),m.l+=3,p!=2&&(E=m.read_shift(4)),E>1048576&&(E=1e6),p!=2&&(S=m.read_shift(2));var C=m.read_shift(2),O=h.codepage||1252;p!=2&&(m.l+=16,m.read_shift(1),m[m.l]!==0&&(O=n[m[m.l]]),m.l+=1,m.l+=2),T&&(m.l+=36);for(var N=[],H={},Y=Math.min(m.length,p==2?521:S-10-(x?264:0)),te=T?32:11;m.l<Y&&m[m.l]!=13;)switch(H={},H.name=Tm.utils.decode(O,m.slice(m.l,m.l+te)).replace(/[\u0000\r\n].*$/g,""),m.l+=te,H.type=String.fromCharCode(m.read_shift(1)),p!=2&&!T&&(H.offset=m.read_shift(4)),H.len=m.read_shift(1),p==2&&(H.offset=m.read_shift(2)),H.dec=m.read_shift(1),H.name.length&&N.push(H),p!=2&&(m.l+=T?13:14),H.type){case"B":(!x||H.len!=8)&&h.WTF&&console.log("Skipping "+H.name+":"+H.type);break;case"G":case"P":h.WTF&&console.log("Skipping "+H.name+":"+H.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+H.type)}if(m[m.l]!==13&&(m.l=S-1),m.read_shift(1)!==13)throw new Error("DBF Terminator not found "+m.l+" "+m[m.l]);m.l=S;var A=0,D=0;for(f[0]=[],D=0;D!=N.length;++D)f[0][D]=N[D].name;for(;E-- >0;){if(m[m.l]===42){m.l+=C;continue}for(++m.l,f[++A]=[],D=0,D=0;D!=N.length;++D){var I=m.slice(m.l,m.l+N[D].len);m.l+=N[D].len,cr(I,0);var P=Tm.utils.decode(O,I);switch(N[D].type){case"C":P.trim().length&&(f[A][D]=P.replace(/\s+$/,""));break;case"D":P.length===8?f[A][D]=new Date(+P.slice(0,4),+P.slice(4,6)-1,+P.slice(6,8)):f[A][D]=P;break;case"F":f[A][D]=parseFloat(P.trim());break;case"+":case"I":f[A][D]=T?I.read_shift(-4,"i")^2147483648:I.read_shift(4,"i");break;case"L":switch(P.trim().toUpperCase()){case"Y":case"T":f[A][D]=!0;break;case"N":case"F":f[A][D]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+P+"|")}break;case"M":if(!v)throw new Error("DBF Unexpected MEMO for type "+p.toString(16));f[A][D]="##MEMO##"+(T?parseInt(P.trim(),10):I.read_shift(4));break;case"N":P=P.replace(/\u0000/g,"").trim(),P&&P!="."&&(f[A][D]=+P||0);break;case"@":f[A][D]=new Date(I.read_shift(-8,"f")-621356832e5);break;case"T":f[A][D]=new Date((I.read_shift(4)-2440588)*864e5+I.read_shift(4));break;case"Y":f[A][D]=I.read_shift(4,"i")/1e4+I.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[A][D]=-I.read_shift(-8,"f");break;case"B":if(x&&N[D].len==8){f[A][D]=I.read_shift(8,"f");break}case"G":case"P":I.l+=N[D].len;break;case"0":if(N[D].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+N[D].type)}}}if(p!=2&&m.l<m.length&&m[m.l++]!=26)throw new Error("DBF EOF Marker missing "+(m.l-1)+" of "+m.length+" "+m[m.l-1].toString(16));return h&&h.sheetRows&&(f=f.slice(0,h.sheetRows)),h.DBF=N,f}function i(c,h){var f=h||{};f.dateNF||(f.dateNF="yyyymmdd");var m=xu(t(c,f),f);return m["!cols"]=f.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete f.DBF,m}function r(c,h){try{return Ll(i(c,h),h)}catch(f){if(h&&h.WTF)throw f}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(c,h){var f=h||{};if(+f.codepage>=0&&cf(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var m=Xi(),p=Pm(c,{header:1,raw:!0,cellDates:!0}),v=p[0],x=p.slice(1),T=c["!cols"]||[],E=0,S=0,C=0,O=1;for(E=0;E<v.length;++E){if(((T[E]||{}).DBF||{}).name){v[E]=T[E].DBF.name,++C;continue}if(v[E]!=null){if(++C,typeof v[E]=="number"&&(v[E]=v[E].toString(10)),typeof v[E]!="string")throw new Error("DBF Invalid column name "+v[E]+" |"+typeof v[E]+"|");if(v.indexOf(v[E])!==E){for(S=0;S<1024;++S)if(v.indexOf(v[E]+"_"+S)==-1){v[E]+="_"+S;break}}}}var N=un(c["!ref"]),H=[],Y=[],te=[];for(E=0;E<=N.e.c-N.s.c;++E){var A="",D="",I=0,P=[];for(S=0;S<x.length;++S)x[S][E]!=null&&P.push(x[S][E]);if(P.length==0||v[E]==null){H[E]="?";continue}for(S=0;S<P.length;++S){switch(typeof P[S]){case"number":D="B";break;case"string":D="C";break;case"boolean":D="L";break;case"object":D=P[S]instanceof Date?"D":"C";break;default:D="C"}I=Math.max(I,String(P[S]).length),A=A&&A!=D?"C":D}I>250&&(I=250),D=((T[E]||{}).DBF||{}).type,D=="C"&&T[E].DBF.len>I&&(I=T[E].DBF.len),A=="B"&&D=="N"&&(A="N",te[E]=T[E].DBF.dec,I=T[E].DBF.len),Y[E]=A=="C"||D=="N"?I:s[A]||0,O+=Y[E],H[E]=A}var M=m.next(32);for(M.write_shift(4,318902576),M.write_shift(4,x.length),M.write_shift(2,296+32*C),M.write_shift(2,O),E=0;E<4;++E)M.write_shift(4,0);for(M.write_shift(4,0|(+e[rC]||3)<<8),E=0,S=0;E<v.length;++E)if(v[E]!=null){var B=m.next(32),F=(v[E].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);B.write_shift(1,F,"sbcs"),B.write_shift(1,H[E]=="?"?"C":H[E],"sbcs"),B.write_shift(4,S),B.write_shift(1,Y[E]||s[H[E]]||0),B.write_shift(1,te[E]||0),B.write_shift(1,2),B.write_shift(4,0),B.write_shift(1,0),B.write_shift(4,0),B.write_shift(4,0),S+=Y[E]||s[H[E]]||0}var Te=m.next(264);for(Te.write_shift(4,13),E=0;E<65;++E)Te.write_shift(4,0);for(E=0;E<x.length;++E){var Oe=m.next(O);for(Oe.write_shift(1,0),S=0;S<v.length;++S)if(v[S]!=null)switch(H[S]){case"L":Oe.write_shift(1,x[E][S]==null?63:x[E][S]?84:70);break;case"B":Oe.write_shift(8,x[E][S]||0,"f");break;case"N":var se="0";for(typeof x[E][S]=="number"&&(se=x[E][S].toFixed(te[S]||0)),C=0;C<Y[S]-se.length;++C)Oe.write_shift(1,32);Oe.write_shift(1,se,"sbcs");break;case"D":x[E][S]?(Oe.write_shift(4,("0000"+x[E][S].getFullYear()).slice(-4),"sbcs"),Oe.write_shift(2,("00"+(x[E][S].getMonth()+1)).slice(-2),"sbcs"),Oe.write_shift(2,("00"+x[E][S].getDate()).slice(-2),"sbcs")):Oe.write_shift(8,"00000000","sbcs");break;case"C":var Ee=String(x[E][S]!=null?x[E][S]:"").slice(0,Y[S]);for(Oe.write_shift(1,Ee,"sbcs"),C=0;C<Y[S]-Ee.length;++C)Oe.write_shift(1,32);break}}return m.next(1).write_shift(1,26),m.end()}return{to_workbook:r,to_sheet:i,from_sheet:o}})(),jB=(function(){var n={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+gi(n).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(v,x){var T=n[x];return typeof T=="number"?dw(T):T},i=function(v,x,T){var E=x.charCodeAt(0)-32<<4|T.charCodeAt(0)-48;return E==59?v:dw(E)};n["|"]=254;function r(v,x){switch(x.type){case"base64":return s(ya(v),x);case"binary":return s(v,x);case"buffer":return s(Mt&&Buffer.isBuffer(v)?v.toString("binary"):Vf(v),x);case"array":return s(pg(v),x)}throw new Error("Unrecognized type "+x.type)}function s(v,x){var T=v.split(/[\n\r]+/),E=-1,S=-1,C=0,O=0,N=[],H=[],Y=null,te={},A=[],D=[],I=[],P=0,M;for(+x.codepage>=0&&cf(+x.codepage);C!==T.length;++C){P=0;var B=T[C].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,i).replace(e,t),F=B.replace(/;;/g,"\0").split(";").map(function(Q){return Q.replace(/\u0000/g,";")}),Te=F[0],Oe;if(B.length>0)switch(Te){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":F[1].charAt(0)=="P"&&H.push(B.slice(3).replace(/;;/g,";"));break;case"C":var se=!1,Ee=!1,Ue=!1,He=!1,Je=-1,ee=-1;for(O=1;O<F.length;++O)switch(F[O].charAt(0)){case"A":break;case"X":S=parseInt(F[O].slice(1))-1,Ee=!0;break;case"Y":for(E=parseInt(F[O].slice(1))-1,Ee||(S=0),M=N.length;M<=E;++M)N[M]=[];break;case"K":Oe=F[O].slice(1),Oe.charAt(0)==='"'?Oe=Oe.slice(1,Oe.length-1):Oe==="TRUE"?Oe=!0:Oe==="FALSE"?Oe=!1:isNaN(ha(Oe))?isNaN(hf(Oe).getDate())||(Oe=Pi(Oe)):(Oe=ha(Oe),Y!==null&&pC(Y)&&(Oe=xC(Oe))),se=!0;break;case"E":He=!0;var V=UV(F[O].slice(1),{r:E,c:S});N[E][S]=[N[E][S],V];break;case"S":Ue=!0,N[E][S]=[N[E][S],"S5S"];break;case"G":break;case"R":Je=parseInt(F[O].slice(1))-1;break;case"C":ee=parseInt(F[O].slice(1))-1;break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+B)}if(se&&(N[E][S]&&N[E][S].length==2?N[E][S][0]=Oe:N[E][S]=Oe,Y=null),Ue){if(He)throw new Error("SYLK shared formula cannot have own formula");var Z=Je>-1&&N[Je][ee];if(!Z||!Z[1])throw new Error("SYLK shared formula cannot find base");N[E][S][1]=zV(Z[1],{r:E-Je,c:S-ee})}break;case"F":var K=0;for(O=1;O<F.length;++O)switch(F[O].charAt(0)){case"X":S=parseInt(F[O].slice(1))-1,++K;break;case"Y":for(E=parseInt(F[O].slice(1))-1,M=N.length;M<=E;++M)N[M]=[];break;case"M":P=parseInt(F[O].slice(1))/20;break;case"F":break;case"G":break;case"P":Y=H[parseInt(F[O].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(I=F[O].slice(1).split(" "),M=parseInt(I[0],10);M<=parseInt(I[1],10);++M)P=parseInt(I[2],10),D[M-1]=P===0?{hidden:!0}:{wch:P},dy(D[M-1]);break;case"C":S=parseInt(F[O].slice(1))-1,D[S]||(D[S]={});break;case"R":E=parseInt(F[O].slice(1))-1,A[E]||(A[E]={}),P>0?(A[E].hpt=P,A[E].hpx=oR(P)):P===0&&(A[E].hidden=!0);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+B)}K<1&&(Y=null);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+B)}}return A.length>0&&(te["!rows"]=A),D.length>0&&(te["!cols"]=D),x&&x.sheetRows&&(N=N.slice(0,x.sheetRows)),[N,te]}function o(v,x){var T=r(v,x),E=T[0],S=T[1],C=xu(E,x);return gi(S).forEach(function(O){C[O]=S[O]}),C}function c(v,x){return Ll(o(v,x),x)}function h(v,x,T,E){var S="C;Y"+(T+1)+";X"+(E+1)+";K";switch(v.t){case"n":S+=v.v||0,v.f&&!v.F&&(S+=";E"+gy(v.f,{r:T,c:E}));break;case"b":S+=v.v?"TRUE":"FALSE";break;case"e":S+=v.w||v.v;break;case"d":S+='"'+(v.w||v.v)+'"';break;case"s":S+='"'+v.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return S}function f(v,x){x.forEach(function(T,E){var S="F;W"+(E+1)+" "+(E+1)+" ";T.hidden?S+="0":(typeof T.width=="number"&&!T.wpx&&(T.wpx=Om(T.width)),typeof T.wpx=="number"&&!T.wch&&(T.wch=Nm(T.wpx)),typeof T.wch=="number"&&(S+=Math.round(T.wch))),S.charAt(S.length-1)!=" "&&v.push(S)})}function m(v,x){x.forEach(function(T,E){var S="F;";T.hidden?S+="M0;":T.hpt?S+="M"+20*T.hpt+";":T.hpx&&(S+="M"+20*Mm(T.hpx)+";"),S.length>2&&v.push(S+"R"+(E+1))})}function p(v,x){var T=["ID;PWXL;N;E"],E=[],S=un(v["!ref"]),C,O=Array.isArray(v),N=`\r
`;T.push("P;PGeneral"),T.push("F;P0;DG0G8;M255"),v["!cols"]&&f(T,v["!cols"]),v["!rows"]&&m(T,v["!rows"]),T.push("B;Y"+(S.e.r-S.s.r+1)+";X"+(S.e.c-S.s.c+1)+";D"+[S.s.c,S.s.r,S.e.c,S.e.r].join(" "));for(var H=S.s.r;H<=S.e.r;++H)for(var Y=S.s.c;Y<=S.e.c;++Y){var te=Xt({r:H,c:Y});C=O?(v[H]||[])[Y]:v[te],!(!C||C.v==null&&(!C.f||C.F))&&E.push(h(C,v,H,Y))}return T.join(N)+N+E.join(N)+N+"E"+N}return{to_workbook:c,to_sheet:o,from_sheet:p}})(),HB=(function(){function n(s,o){switch(o.type){case"base64":return e(ya(s),o);case"binary":return e(s,o);case"buffer":return e(Mt&&Buffer.isBuffer(s)?s.toString("binary"):Vf(s),o);case"array":return e(pg(s),o)}throw new Error("Unrecognized type "+o.type)}function e(s,o){for(var c=s.split(`
`),h=-1,f=-1,m=0,p=[];m!==c.length;++m){if(c[m].trim()==="BOT"){p[++h]=[],f=0;continue}if(!(h<0)){var v=c[m].trim().split(","),x=v[0],T=v[1];++m;for(var E=c[m]||"";(E.match(/["]/g)||[]).length&1&&m<c.length-1;)E+=`
`+c[++m];switch(E=E.trim(),+x){case-1:if(E==="BOT"){p[++h]=[],f=0;continue}else if(E!=="EOD")throw new Error("Unrecognized DIF special command "+E);break;case 0:E==="TRUE"?p[h][f]=!0:E==="FALSE"?p[h][f]=!1:isNaN(ha(T))?isNaN(hf(T).getDate())?p[h][f]=T:p[h][f]=Pi(T):p[h][f]=ha(T),++f;break;case 1:E=E.slice(1,E.length-1),E=E.replace(/""/g,'"'),E&&E.match(/^=".*"$/)&&(E=E.slice(2,-1)),p[h][f++]=E!==""?E:null;break}if(E==="EOD")break}}return o&&o.sheetRows&&(p=p.slice(0,o.sheetRows)),p}function t(s,o){return xu(n(s,o),o)}function i(s,o){return Ll(t(s,o),o)}var r=(function(){var s=function(h,f,m,p,v){h.push(f),h.push(m+","+p),h.push('"'+v.replace(/"/g,'""')+'"')},o=function(h,f,m,p){h.push(f+","+m),h.push(f==1?'"'+p.replace(/"/g,'""')+'"':p)};return function(h){var f=[],m=un(h["!ref"]),p,v=Array.isArray(h);s(f,"TABLE",0,1,"sheetjs"),s(f,"VECTORS",0,m.e.r-m.s.r+1,""),s(f,"TUPLES",0,m.e.c-m.s.c+1,""),s(f,"DATA",0,0,"");for(var x=m.s.r;x<=m.e.r;++x){o(f,-1,0,"BOT");for(var T=m.s.c;T<=m.e.c;++T){var E=Xt({r:x,c:T});if(p=v?(h[x]||[])[T]:h[E],!p){o(f,1,0,"");continue}switch(p.t){case"n":var S=p.w;!S&&p.v!=null&&(S=p.v),S==null?p.f&&!p.F?o(f,1,0,"="+p.f):o(f,1,0,""):o(f,0,S,"V");break;case"b":o(f,0,p.v?1:0,p.v?"TRUE":"FALSE");break;case"s":o(f,1,0,isNaN(p.v)?p.v:'="'+p.v+'"');break;case"d":p.w||(p.w=Do(p.z||En[14],$i(Pi(p.v)))),o(f,0,p.w,"V");break;default:o(f,1,0,"")}}}o(f,-1,0,"EOD");var C=`\r
`,O=f.join(C);return O}})();return{to_workbook:i,to_sheet:t,from_sheet:r}})(),iR=(function(){function n(p){return p.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(p){return p.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(p,v){for(var x=p.split(`
`),T=-1,E=-1,S=0,C=[];S!==x.length;++S){var O=x[S].trim().split(":");if(O[0]==="cell"){var N=Qn(O[1]);if(C.length<=N.r)for(T=C.length;T<=N.r;++T)C[T]||(C[T]=[]);switch(T=N.r,E=N.c,O[2]){case"t":C[T][E]=n(O[3]);break;case"v":C[T][E]=+O[3];break;case"vtf":var H=O[O.length-1];case"vtc":switch(O[3]){case"nl":C[T][E]=!!+O[4];break;default:C[T][E]=+O[4];break}O[2]=="vtf"&&(C[T][E]=[C[T][E],H])}}}return v&&v.sheetRows&&(C=C.slice(0,v.sheetRows)),C}function i(p,v){return xu(t(p,v),v)}function r(p,v){return Ll(i(p,v),v)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),h="--SocialCalcSpreadsheetControlSave--";function f(p){if(!p||!p["!ref"])return"";for(var v=[],x=[],T,E="",S=dr(p["!ref"]),C=Array.isArray(p),O=S.s.r;O<=S.e.r;++O)for(var N=S.s.c;N<=S.e.c;++N)if(E=Xt({r:O,c:N}),T=C?(p[O]||[])[N]:p[E],!(!T||T.v==null||T.t==="z")){switch(x=["cell",E,"t"],T.t){case"s":case"str":x.push(e(T.v));break;case"n":T.f?(x[2]="vtf",x[3]="n",x[4]=T.v,x[5]=e(T.f)):(x[2]="v",x[3]=T.v);break;case"b":x[2]="vt"+(T.f?"f":"c"),x[3]="nl",x[4]=T.v?"1":"0",x[5]=e(T.f||(T.v?"TRUE":"FALSE"));break;case"d":var H=$i(Pi(T.v));x[2]="vtc",x[3]="nd",x[4]=""+H,x[5]=T.w||Do(T.z||En[14],H);break;case"e":continue}v.push(x.join(":"))}return v.push("sheet:c:"+(S.e.c-S.s.c+1)+":r:"+(S.e.r-S.s.r+1)+":tvf:1"),v.push("valueformat:1:text-wiki"),v.join(`
`)}function m(p){return[s,o,c,o,f(p),h].join(`
`)}return{to_workbook:r,to_sheet:i,from_sheet:m}})(),qB=(function(){function n(m,p,v,x,T){T.raw?p[v][x]=m:m===""||(m==="TRUE"?p[v][x]=!0:m==="FALSE"?p[v][x]=!1:isNaN(ha(m))?isNaN(hf(m).getDate())?p[v][x]=m:p[v][x]=Pi(m):p[v][x]=ha(m))}function e(m,p){var v=p||{},x=[];if(!m||m.length===0)return x;for(var T=m.split(/[\r\n]/),E=T.length-1;E>=0&&T[E].length===0;)--E;for(var S=10,C=0,O=0;O<=E;++O)C=T[O].indexOf(" "),C==-1?C=T[O].length:C++,S=Math.max(S,C);for(O=0;O<=E;++O){x[O]=[];var N=0;for(n(T[O].slice(0,S).trim(),x,O,N,v),N=1;N<=(T[O].length-S)/10+1;++N)n(T[O].slice(S+(N-1)*10,S+N*10).trim(),x,O,N,v)}return v.sheetRows&&(x=x.slice(0,v.sheetRows)),x}var t={44:",",9:"	",59:";",124:"|"},i={44:3,9:2,59:1,124:0};function r(m){for(var p={},v=!1,x=0,T=0;x<m.length;++x)(T=m.charCodeAt(x))==34?v=!v:!v&&T in t&&(p[T]=(p[T]||0)+1);T=[];for(x in p)Object.prototype.hasOwnProperty.call(p,x)&&T.push([p[x],x]);if(!T.length){p=i;for(x in p)Object.prototype.hasOwnProperty.call(p,x)&&T.push([p[x],x])}return T.sort(function(E,S){return E[0]-S[0]||i[E[1]]-i[S[1]]}),t[T.pop()[1]]||44}function s(m,p){var v=p||{},x="",T=v.dense?[]:{},E={s:{c:0,r:0},e:{c:0,r:0}};m.slice(0,4)=="sep="?m.charCodeAt(5)==13&&m.charCodeAt(6)==10?(x=m.charAt(4),m=m.slice(7)):m.charCodeAt(5)==13||m.charCodeAt(5)==10?(x=m.charAt(4),m=m.slice(6)):x=r(m.slice(0,1024)):v&&v.FS?x=v.FS:x=r(m.slice(0,1024));var S=0,C=0,O=0,N=0,H=0,Y=x.charCodeAt(0),te=!1,A=0,D=m.charCodeAt(0);m=m.replace(/\r\n/mg,`
`);var I=v.dateNF!=null?a7(v.dateNF):null;function P(){var M=m.slice(N,H),B={};if(M.charAt(0)=='"'&&M.charAt(M.length-1)=='"'&&(M=M.slice(1,-1).replace(/""/g,'"')),M.length===0)B.t="z";else if(v.raw)B.t="s",B.v=M;else if(M.trim().length===0)B.t="s",B.v=M;else if(M.charCodeAt(0)==61)M.charCodeAt(1)==34&&M.charCodeAt(M.length-1)==34?(B.t="s",B.v=M.slice(2,-1).replace(/""/g,'"')):jV(M)?(B.t="n",B.f=M.slice(1)):(B.t="s",B.v=M);else if(M=="TRUE")B.t="b",B.v=!0;else if(M=="FALSE")B.t="b",B.v=!1;else if(!isNaN(O=ha(M)))B.t="n",v.cellText!==!1&&(B.w=M),B.v=O;else if(!isNaN(hf(M).getDate())||I&&M.match(I)){B.z=v.dateNF||En[14];var F=0;I&&M.match(I)&&(M=o7(M,v.dateNF,M.match(I)||[]),F=1),v.cellDates?(B.t="d",B.v=Pi(M,F)):(B.t="n",B.v=$i(Pi(M,F))),v.cellText!==!1&&(B.w=Do(B.z,B.v instanceof Date?$i(B.v):B.v)),v.cellNF||delete B.z}else B.t="s",B.v=M;if(B.t=="z"||(v.dense?(T[S]||(T[S]=[]),T[S][C]=B):T[Xt({c:C,r:S})]=B),N=H+1,D=m.charCodeAt(N),E.e.c<C&&(E.e.c=C),E.e.r<S&&(E.e.r=S),A==Y)++C;else if(C=0,++S,v.sheetRows&&v.sheetRows<=S)return!0}e:for(;H<m.length;++H)switch(A=m.charCodeAt(H)){case 34:D===34&&(te=!te);break;case Y:case 10:case 13:if(!te&&P())break e;break}return H-N>0&&P(),T["!ref"]=Ln(E),T}function o(m,p){return!(p&&p.PRN)||p.FS||m.slice(0,4)=="sep="||m.indexOf("	")>=0||m.indexOf(",")>=0||m.indexOf(";")>=0?s(m,p):xu(e(m,p),p)}function c(m,p){var v="",x=p.type=="string"?[0,0,0,0]:nq(m,p);switch(p.type){case"base64":v=ya(m);break;case"binary":v=m;break;case"buffer":p.codepage==65001?v=m.toString("utf8"):p.codepage&&typeof Tm<"u"||(v=Mt&&Buffer.isBuffer(m)?m.toString("binary"):Vf(m));break;case"array":v=pg(m);break;case"string":v=m;break;default:throw new Error("Unrecognized type "+p.type)}return x[0]==239&&x[1]==187&&x[2]==191?v=jh(v.slice(3)):p.type!="string"&&p.type!="buffer"&&p.codepage==65001?v=jh(v):p.type=="binary"&&typeof Tm<"u",v.slice(0,19)=="socialcalc:version:"?iR.to_sheet(p.type=="string"?v:jh(v),p):o(v,p)}function h(m,p){return Ll(c(m,p),p)}function f(m){for(var p=[],v=un(m["!ref"]),x,T=Array.isArray(m),E=v.s.r;E<=v.e.r;++E){for(var S=[],C=v.s.c;C<=v.e.c;++C){var O=Xt({r:E,c:C});if(x=T?(m[E]||[])[C]:m[O],!x||x.v==null){S.push("          ");continue}for(var N=(x.w||(xa(x),x.w)||"").slice(0,10);N.length<10;)N+=" ";S.push(N+(C===0?" ":""))}p.push(S.join(""))}return p.join(`
`)}return{to_workbook:h,to_sheet:c,from_sheet:f}})(),qw=(function(){function n(V,Z,K){if(V){cr(V,V.l||0);for(var Q=K.Enum||Je;V.l<V.length;){var fe=V.read_shift(2),Ne=Q[fe]||Q[65535],je=V.read_shift(2),ke=V.l+je,Le=Ne.f&&Ne.f(V,je,K);if(V.l=ke,Z(Le,Ne,fe))return}}}function e(V,Z){switch(Z.type){case"base64":return t($r(ya(V)),Z);case"binary":return t($r(V),Z);case"buffer":case"array":return t(V,Z)}throw"Unsupported type "+Z.type}function t(V,Z){if(!V)return V;var K=Z||{},Q=K.dense?[]:{},fe="Sheet1",Ne="",je=0,ke={},Le=[],pt=[],ot={s:{r:0,c:0},e:{r:0,c:0}},At=K.sheetRows||0;if(V[2]==0&&(V[3]==8||V[3]==9)&&V.length>=16&&V[14]==5&&V[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(V[2]==2)K.Enum=Je,n(V,function(qe,sn,dt){switch(dt){case 0:K.vers=qe,qe>=4096&&(K.qpro=!0);break;case 6:ot=qe;break;case 204:qe&&(Ne=qe);break;case 222:Ne=qe;break;case 15:case 51:K.qpro||(qe[1].v=qe[1].v.slice(1));case 13:case 14:case 16:dt==14&&(qe[2]&112)==112&&(qe[2]&15)>1&&(qe[2]&15)<15&&(qe[1].z=K.dateNF||En[14],K.cellDates&&(qe[1].t="d",qe[1].v=xC(qe[1].v))),K.qpro&&qe[3]>je&&(Q["!ref"]=Ln(ot),ke[fe]=Q,Le.push(fe),Q=K.dense?[]:{},ot={s:{r:0,c:0},e:{r:0,c:0}},je=qe[3],fe=Ne||"Sheet"+(je+1),Ne="");var kt=K.dense?(Q[qe[0].r]||[])[qe[0].c]:Q[Xt(qe[0])];if(kt){kt.t=qe[1].t,kt.v=qe[1].v,qe[1].z!=null&&(kt.z=qe[1].z),qe[1].f!=null&&(kt.f=qe[1].f);break}K.dense?(Q[qe[0].r]||(Q[qe[0].r]=[]),Q[qe[0].r][qe[0].c]=qe[1]):Q[Xt(qe[0])]=qe[1];break}},K);else if(V[2]==26||V[2]==14)K.Enum=ee,V[2]==14&&(K.qpro=!0,V.l=0),n(V,function(qe,sn,dt){switch(dt){case 204:fe=qe;break;case 22:qe[1].v=qe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(qe[3]>je&&(Q["!ref"]=Ln(ot),ke[fe]=Q,Le.push(fe),Q=K.dense?[]:{},ot={s:{r:0,c:0},e:{r:0,c:0}},je=qe[3],fe="Sheet"+(je+1)),At>0&&qe[0].r>=At)break;K.dense?(Q[qe[0].r]||(Q[qe[0].r]=[]),Q[qe[0].r][qe[0].c]=qe[1]):Q[Xt(qe[0])]=qe[1],ot.e.c<qe[0].c&&(ot.e.c=qe[0].c),ot.e.r<qe[0].r&&(ot.e.r=qe[0].r);break;case 27:qe[14e3]&&(pt[qe[14e3][0]]=qe[14e3][1]);break;case 1537:pt[qe[0]]=qe[1],qe[0]==je&&(fe=qe[1]);break}},K);else throw new Error("Unrecognized LOTUS BOF "+V[2]);if(Q["!ref"]=Ln(ot),ke[Ne||fe]=Q,Le.push(Ne||fe),!pt.length)return{SheetNames:Le,Sheets:ke};for(var rt={},Gn=[],Ct=0;Ct<pt.length;++Ct)ke[Le[Ct]]?(Gn.push(pt[Ct]||Le[Ct]),rt[pt[Ct]]=ke[pt[Ct]]||ke[Le[Ct]]):(Gn.push(pt[Ct]),rt[pt[Ct]]={"!ref":"A1"});return{SheetNames:Gn,Sheets:rt}}function i(V,Z){var K=Z||{};if(+K.codepage>=0&&cf(+K.codepage),K.type=="string")throw new Error("Cannot write WK1 to JS string");var Q=Xi(),fe=un(V["!ref"]),Ne=Array.isArray(V),je=[];Fe(Q,0,s(1030)),Fe(Q,6,h(fe));for(var ke=Math.min(fe.e.r,8191),Le=fe.s.r;Le<=ke;++Le)for(var pt=di(Le),ot=fe.s.c;ot<=fe.e.c;++ot){Le===fe.s.r&&(je[ot]=Ai(ot));var At=je[ot]+pt,rt=Ne?(V[Le]||[])[ot]:V[At];if(!(!rt||rt.t=="z"))if(rt.t=="n")(rt.v|0)==rt.v&&rt.v>=-32768&&rt.v<=32767?Fe(Q,13,x(Le,ot,rt.v)):Fe(Q,14,E(Le,ot,rt.v));else{var Gn=xa(rt);Fe(Q,15,p(Le,ot,Gn.slice(0,239)))}}return Fe(Q,1),Q.end()}function r(V,Z){var K=Z||{};if(+K.codepage>=0&&cf(+K.codepage),K.type=="string")throw new Error("Cannot write WK3 to JS string");var Q=Xi();Fe(Q,0,o(V));for(var fe=0,Ne=0;fe<V.SheetNames.length;++fe)(V.Sheets[V.SheetNames[fe]]||{})["!ref"]&&Fe(Q,27,He(V.SheetNames[fe],Ne++));var je=0;for(fe=0;fe<V.SheetNames.length;++fe){var ke=V.Sheets[V.SheetNames[fe]];if(!(!ke||!ke["!ref"])){for(var Le=un(ke["!ref"]),pt=Array.isArray(ke),ot=[],At=Math.min(Le.e.r,8191),rt=Le.s.r;rt<=At;++rt)for(var Gn=di(rt),Ct=Le.s.c;Ct<=Le.e.c;++Ct){rt===Le.s.r&&(ot[Ct]=Ai(Ct));var qe=ot[Ct]+Gn,sn=pt?(ke[rt]||[])[Ct]:ke[qe];if(!(!sn||sn.t=="z"))if(sn.t=="n")Fe(Q,23,P(rt,Ct,je,sn.v));else{var dt=xa(sn);Fe(Q,22,A(rt,Ct,je,dt.slice(0,239)))}}++je}}return Fe(Q,1),Q.end()}function s(V){var Z=ve(2);return Z.write_shift(2,V),Z}function o(V){var Z=ve(26);Z.write_shift(2,4096),Z.write_shift(2,4),Z.write_shift(4,0);for(var K=0,Q=0,fe=0,Ne=0;Ne<V.SheetNames.length;++Ne){var je=V.SheetNames[Ne],ke=V.Sheets[je];if(!(!ke||!ke["!ref"])){++fe;var Le=dr(ke["!ref"]);K<Le.e.r&&(K=Le.e.r),Q<Le.e.c&&(Q=Le.e.c)}}return K>8191&&(K=8191),Z.write_shift(2,K),Z.write_shift(1,fe),Z.write_shift(1,Q),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(1,1),Z.write_shift(1,2),Z.write_shift(4,0),Z.write_shift(4,0),Z}function c(V,Z,K){var Q={s:{c:0,r:0},e:{c:0,r:0}};return Z==8&&K.qpro?(Q.s.c=V.read_shift(1),V.l++,Q.s.r=V.read_shift(2),Q.e.c=V.read_shift(1),V.l++,Q.e.r=V.read_shift(2),Q):(Q.s.c=V.read_shift(2),Q.s.r=V.read_shift(2),Z==12&&K.qpro&&(V.l+=2),Q.e.c=V.read_shift(2),Q.e.r=V.read_shift(2),Z==12&&K.qpro&&(V.l+=2),Q.s.c==65535&&(Q.s.c=Q.e.c=Q.s.r=Q.e.r=0),Q)}function h(V){var Z=ve(8);return Z.write_shift(2,V.s.c),Z.write_shift(2,V.s.r),Z.write_shift(2,V.e.c),Z.write_shift(2,V.e.r),Z}function f(V,Z,K){var Q=[{c:0,r:0},{t:"n",v:0},0,0];return K.qpro&&K.vers!=20768?(Q[0].c=V.read_shift(1),Q[3]=V.read_shift(1),Q[0].r=V.read_shift(2),V.l+=2):(Q[2]=V.read_shift(1),Q[0].c=V.read_shift(2),Q[0].r=V.read_shift(2)),Q}function m(V,Z,K){var Q=V.l+Z,fe=f(V,Z,K);if(fe[1].t="s",K.vers==20768){V.l++;var Ne=V.read_shift(1);return fe[1].v=V.read_shift(Ne,"utf8"),fe}return K.qpro&&V.l++,fe[1].v=V.read_shift(Q-V.l,"cstr"),fe}function p(V,Z,K){var Q=ve(7+K.length);Q.write_shift(1,255),Q.write_shift(2,Z),Q.write_shift(2,V),Q.write_shift(1,39);for(var fe=0;fe<Q.length;++fe){var Ne=K.charCodeAt(fe);Q.write_shift(1,Ne>=128?95:Ne)}return Q.write_shift(1,0),Q}function v(V,Z,K){var Q=f(V,Z,K);return Q[1].v=V.read_shift(2,"i"),Q}function x(V,Z,K){var Q=ve(7);return Q.write_shift(1,255),Q.write_shift(2,Z),Q.write_shift(2,V),Q.write_shift(2,K,"i"),Q}function T(V,Z,K){var Q=f(V,Z,K);return Q[1].v=V.read_shift(8,"f"),Q}function E(V,Z,K){var Q=ve(13);return Q.write_shift(1,255),Q.write_shift(2,Z),Q.write_shift(2,V),Q.write_shift(8,K,"f"),Q}function S(V,Z,K){var Q=V.l+Z,fe=f(V,Z,K);if(fe[1].v=V.read_shift(8,"f"),K.qpro)V.l=Q;else{var Ne=V.read_shift(2);H(V.slice(V.l,V.l+Ne),fe),V.l+=Ne}return fe}function C(V,Z,K){var Q=Z&32768;return Z&=-32769,Z=(Q?V:0)+(Z>=8192?Z-16384:Z),(Q?"":"$")+(K?Ai(Z):di(Z))}var O={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},N=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function H(V,Z){cr(V,0);for(var K=[],Q=0,fe="",Ne="",je="",ke="";V.l<V.length;){var Le=V[V.l++];switch(Le){case 0:K.push(V.read_shift(8,"f"));break;case 1:Ne=C(Z[0].c,V.read_shift(2),!0),fe=C(Z[0].r,V.read_shift(2),!1),K.push(Ne+fe);break;case 2:{var pt=C(Z[0].c,V.read_shift(2),!0),ot=C(Z[0].r,V.read_shift(2),!1);Ne=C(Z[0].c,V.read_shift(2),!0),fe=C(Z[0].r,V.read_shift(2),!1),K.push(pt+ot+":"+Ne+fe)}break;case 3:if(V.l<V.length){console.error("WK1 premature formula end");return}break;case 4:K.push("("+K.pop()+")");break;case 5:K.push(V.read_shift(2));break;case 6:{for(var At="";Le=V[V.l++];)At+=String.fromCharCode(Le);K.push('"'+At.replace(/"/g,'""')+'"')}break;case 8:K.push("-"+K.pop());break;case 23:K.push("+"+K.pop());break;case 22:K.push("NOT("+K.pop()+")");break;case 20:case 21:ke=K.pop(),je=K.pop(),K.push(["AND","OR"][Le-20]+"("+je+","+ke+")");break;default:if(Le<32&&N[Le])ke=K.pop(),je=K.pop(),K.push(je+N[Le]+ke);else if(O[Le]){if(Q=O[Le][1],Q==69&&(Q=V[V.l++]),Q>K.length){console.error("WK1 bad formula parse 0x"+Le.toString(16)+":|"+K.join("|")+"|");return}var rt=K.slice(-Q);K.length-=Q,K.push(O[Le][0]+"("+rt.join(",")+")")}else return Le<=7?console.error("WK1 invalid opcode "+Le.toString(16)):Le<=24?console.error("WK1 unsupported op "+Le.toString(16)):Le<=30?console.error("WK1 invalid opcode "+Le.toString(16)):Le<=115?console.error("WK1 unsupported function opcode "+Le.toString(16)):console.error("WK1 unrecognized opcode "+Le.toString(16))}}K.length==1?Z[1].f=""+K[0]:console.error("WK1 bad formula parse |"+K.join("|")+"|")}function Y(V){var Z=[{c:0,r:0},{t:"n",v:0},0];return Z[0].r=V.read_shift(2),Z[3]=V[V.l++],Z[0].c=V[V.l++],Z}function te(V,Z){var K=Y(V);return K[1].t="s",K[1].v=V.read_shift(Z-4,"cstr"),K}function A(V,Z,K,Q){var fe=ve(6+Q.length);fe.write_shift(2,V),fe.write_shift(1,K),fe.write_shift(1,Z),fe.write_shift(1,39);for(var Ne=0;Ne<Q.length;++Ne){var je=Q.charCodeAt(Ne);fe.write_shift(1,je>=128?95:je)}return fe.write_shift(1,0),fe}function D(V,Z){var K=Y(V);K[1].v=V.read_shift(2);var Q=K[1].v>>1;if(K[1].v&1)switch(Q&7){case 0:Q=(Q>>3)*5e3;break;case 1:Q=(Q>>3)*500;break;case 2:Q=(Q>>3)/20;break;case 3:Q=(Q>>3)/200;break;case 4:Q=(Q>>3)/2e3;break;case 5:Q=(Q>>3)/2e4;break;case 6:Q=(Q>>3)/16;break;case 7:Q=(Q>>3)/64;break}return K[1].v=Q,K}function I(V,Z){var K=Y(V),Q=V.read_shift(4),fe=V.read_shift(4),Ne=V.read_shift(2);if(Ne==65535)return Q===0&&fe===3221225472?(K[1].t="e",K[1].v=15):Q===0&&fe===3489660928?(K[1].t="e",K[1].v=42):K[1].v=0,K;var je=Ne&32768;return Ne=(Ne&32767)-16446,K[1].v=(1-je*2)*(fe*Math.pow(2,Ne+32)+Q*Math.pow(2,Ne)),K}function P(V,Z,K,Q){var fe=ve(14);if(fe.write_shift(2,V),fe.write_shift(1,K),fe.write_shift(1,Z),Q==0)return fe.write_shift(4,0),fe.write_shift(4,0),fe.write_shift(2,65535),fe;var Ne=0,je=0,ke=0,Le=0;return Q<0&&(Ne=1,Q=-Q),je=Math.log2(Q)|0,Q/=Math.pow(2,je-31),Le=Q>>>0,(Le&2147483648)==0&&(Q/=2,++je,Le=Q>>>0),Q-=Le,Le|=2147483648,Le>>>=0,Q*=Math.pow(2,32),ke=Q>>>0,fe.write_shift(4,ke),fe.write_shift(4,Le),je+=16383+(Ne?32768:0),fe.write_shift(2,je),fe}function M(V,Z){var K=I(V);return V.l+=Z-14,K}function B(V,Z){var K=Y(V),Q=V.read_shift(4);return K[1].v=Q>>6,K}function F(V,Z){var K=Y(V),Q=V.read_shift(8,"f");return K[1].v=Q,K}function Te(V,Z){var K=F(V);return V.l+=Z-10,K}function Oe(V,Z){return V[V.l+Z-1]==0?V.read_shift(Z,"cstr"):""}function se(V,Z){var K=V[V.l++];K>Z-1&&(K=Z-1);for(var Q="";Q.length<K;)Q+=String.fromCharCode(V[V.l++]);return Q}function Ee(V,Z,K){if(!(!K.qpro||Z<21)){var Q=V.read_shift(1);V.l+=17,V.l+=1,V.l+=2;var fe=V.read_shift(Z-21,"cstr");return[Q,fe]}}function Ue(V,Z){for(var K={},Q=V.l+Z;V.l<Q;){var fe=V.read_shift(2);if(fe==14e3){for(K[fe]=[0,""],K[fe][0]=V.read_shift(2);V[V.l];)K[fe][1]+=String.fromCharCode(V[V.l]),V.l++;V.l++}}return K}function He(V,Z){var K=ve(5+V.length);K.write_shift(2,14e3),K.write_shift(2,Z);for(var Q=0;Q<V.length;++Q){var fe=V.charCodeAt(Q);K[K.l++]=fe>127?95:fe}return K[K.l++]=0,K}var Je={0:{n:"BOF",f:ZC},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:v},14:{n:"NUMBER",f:T},15:{n:"LABEL",f:m},16:{n:"FORMULA",f:S},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:m},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Oe},222:{n:"SHEETNAMELP",f:se},65535:{n:""}},ee={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:te},23:{n:"NUMBER17",f:I},24:{n:"NUMBER18",f:D},25:{n:"FORMULA19",f:M},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Ue},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:B},38:{n:"??"},39:{n:"NUMBER27",f:F},40:{n:"FORMULA28",f:Te},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Oe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Ee},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:i,book_to_wk3:r,to_workbook:e}})(),GB=/^\s|\s$|[\t\n\r]/;function rR(n,e){if(!e.bookSST)return"";var t=[Bn];t[t.length]=Pe("sst",null,{xmlns:yu[0],count:n.Count,uniqueCount:n.Unique});for(var i=0;i!=n.length;++i)if(n[i]!=null){var r=n[i],s="<si>";r.r?s+=r.r:(s+="<t",r.t||(r.t=""),r.t.match(GB)&&(s+=' xml:space="preserve"'),s+=">"+Yt(r.t)+"</t>"),s+="</si>",t[t.length]=s}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function WB(n){return[n.read_shift(4),n.read_shift(4)]}function YB(n,e){return e||(e=ve(8)),e.write_shift(4,n.Count),e.write_shift(4,n.Unique),e}var XB=B7;function $B(n){var e=Xi();Re(e,159,YB(n));for(var t=0;t<n.length;++t)Re(e,19,XB(n[t]));return Re(e,160),e.end()}function KB(n){for(var e=[],t=n.split(""),i=0;i<t.length;++i)e[i]=t[i].charCodeAt(0);return e}function sR(n){var e=0,t,i=KB(n),r=i.length+1,s,o,c,h,f;for(t=Cl(r),t[0]=i.length,s=1;s!=r;++s)t[s]=i[s-1];for(s=r-1;s>=0;--s)o=t[s],c=(e&16384)===0?0:1,h=e<<1&32767,f=c|h,e=f^o;return e^52811}var QB=(function(){function n(r,s){switch(s.type){case"base64":return e(ya(r),s);case"binary":return e(r,s);case"buffer":return e(Mt&&Buffer.isBuffer(r)?r.toString("binary"):Vf(r),s);case"array":return e(pg(r),s)}throw new Error("Unrecognized type "+s.type)}function e(r,s){var o=s||{},c=o.dense?[]:{},h=r.match(/\\trowd.*?\\row\b/g);if(!h.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:h.length-1}};return h.forEach(function(m,p){Array.isArray(c)&&(c[p]=[]);for(var v=/\\\w+\b/g,x=0,T,E=-1;T=v.exec(m);){switch(T[0]){case"\\cell":var S=m.slice(x,v.lastIndex-T[0].length);if(S[0]==" "&&(S=S.slice(1)),++E,S.length){var C={v:S,t:"s"};Array.isArray(c)?c[p][E]=C:c[Xt({r:p,c:E})]=C}break}x=v.lastIndex}E>f.e.c&&(f.e.c=E)}),c["!ref"]=Ln(f),c}function t(r,s){return Ll(n(r,s),s)}function i(r){for(var s=["{\\rtf1\\ansi"],o=un(r["!ref"]),c,h=Array.isArray(r),f=o.s.r;f<=o.e.r;++f){s.push("\\trowd\\trautofit1");for(var m=o.s.c;m<=o.e.c;++m)s.push("\\cellx"+(m+1));for(s.push("\\pard\\intbl"),m=o.s.c;m<=o.e.c;++m){var p=Xt({r:f,c:m});c=h?(r[f]||[])[m]:r[p],!(!c||c.v==null&&(!c.f||c.F))&&(s.push(" "+(c.w||(xa(c),c.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:t,to_sheet:n,from_sheet:i}})();function Gw(n){for(var e=0,t=1;e!=3;++e)t=t*256+(n[e]>255?255:n[e]<0?0:n[e]);return t.toString(16).toUpperCase().slice(1)}var ZB=6,fa=ZB;function Om(n){return Math.floor((n+Math.round(128/fa)/256)*fa)}function Nm(n){return Math.floor((n-5)/fa*100+.5)/100}function q_(n){return Math.round((n*fa+5)/fa*256)/256}function dy(n){n.width?(n.wpx=Om(n.width),n.wch=Nm(n.wpx),n.MDW=fa):n.wpx?(n.wch=Nm(n.wpx),n.width=q_(n.wch),n.MDW=fa):typeof n.wch=="number"&&(n.width=q_(n.wch),n.wpx=Om(n.width),n.MDW=fa),n.customWidth&&delete n.customWidth}var JB=96,aR=JB;function Mm(n){return n*96/aR}function oR(n){return n*aR/96}function eV(n){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var i=t[0];i<=t[1];++i)n[i]!=null&&(e[e.length]=Pe("numFmt",null,{numFmtId:i,formatCode:Yt(n[i])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Pe("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function tV(n){var e=[];return e[e.length]=Pe("cellXfs",null),n.forEach(function(t){e[e.length]=Pe("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Pe("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function lR(n,e){var t=[Bn,Pe("styleSheet",null,{xmlns:yu[0],"xmlns:vt":Kn.vt})],i;return n.SSF&&(i=eV(n.SSF))!=null&&(t[t.length]=i),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(i=tV(e.cellXfs))&&(t[t.length]=i),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function nV(n,e){var t=n.read_shift(2),i=Ci(n);return[t,i]}function iV(n,e,t){t||(t=ve(6+4*e.length)),t.write_shift(2,n),Zn(e,t);var i=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),i}function rV(n,e,t){var i={};i.sz=n.read_shift(2)/20;var r=G7(n);r.fItalic&&(i.italic=1),r.fCondense&&(i.condense=1),r.fExtend&&(i.extend=1),r.fShadow&&(i.shadow=1),r.fOutline&&(i.outline=1),r.fStrikeout&&(i.strike=1);var s=n.read_shift(2);switch(s===700&&(i.bold=1),n.read_shift(2)){case 1:i.vertAlign="superscript";break;case 2:i.vertAlign="subscript";break}var o=n.read_shift(1);o!=0&&(i.underline=o);var c=n.read_shift(1);c>0&&(i.family=c);var h=n.read_shift(1);switch(h>0&&(i.charset=h),n.l++,i.color=q7(n),n.read_shift(1)){case 1:i.scheme="major";break;case 2:i.scheme="minor";break}return i.name=Ci(n),i}function sV(n,e){e||(e=ve(153)),e.write_shift(2,n.sz*20),W7(n,e),e.write_shift(2,n.bold?700:400);var t=0;n.vertAlign=="superscript"?t=1:n.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,n.underline||0),e.write_shift(1,n.family||0),e.write_shift(1,n.charset||0),e.write_shift(1,0),Im(n.color,e);var i=0;return i=2,e.write_shift(1,i),Zn(n.name,e),e.length>e.l?e.slice(0,e.l):e}var aV=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Y1,oV=Ds;function Ww(n,e){e||(e=ve(84)),Y1||(Y1=ty(aV));var t=Y1[n.patternType];t==null&&(t=40),e.write_shift(4,t);var i=0;if(t!=40)for(Im({auto:1},e),Im({auto:1},e);i<12;++i)e.write_shift(4,0);else{for(;i<4;++i)e.write_shift(4,0);for(;i<12;++i)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function lV(n,e){var t=n.l+e,i=n.read_shift(2),r=n.read_shift(2);return n.l=t,{ixfe:i,numFmtId:r}}function cR(n,e,t){t||(t=ve(16)),t.write_shift(2,e||0),t.write_shift(2,n.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var i=0;return t.write_shift(1,i),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function Eh(n,e){return e||(e=ve(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var cV=Ds;function uV(n,e){return e||(e=ve(51)),e.write_shift(1,0),Eh(null,e),Eh(null,e),Eh(null,e),Eh(null,e),Eh(null,e),e.length>e.l?e.slice(0,e.l):e}function hV(n,e){return e||(e=ve(52)),e.write_shift(4,n.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),Rm(n.name||"",e),e.length>e.l?e.slice(0,e.l):e}function fV(n,e,t){var i=ve(2052);return i.write_shift(4,n),Rm(e,i),Rm(t,i),i.length>i.l?i.slice(0,i.l):i}function dV(n,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var r=i[0];r<=i[1];++r)e[r]!=null&&++t}),t!=0&&(Re(n,615,es(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var r=i[0];r<=i[1];++r)e[r]!=null&&Re(n,44,iV(r,e[r]))}),Re(n,616))}}function mV(n){var e=1;Re(n,611,es(e)),Re(n,43,sV({sz:12,color:{theme:1},name:"Calibri",family:2})),Re(n,612)}function gV(n){var e=2;Re(n,603,es(e)),Re(n,45,Ww({patternType:"none"})),Re(n,45,Ww({patternType:"gray125"})),Re(n,604)}function pV(n){var e=1;Re(n,613,es(e)),Re(n,46,uV()),Re(n,614)}function _V(n){var e=1;Re(n,626,es(e)),Re(n,47,cR({numFmtId:0},65535)),Re(n,627)}function vV(n,e){Re(n,617,es(e.length)),e.forEach(function(t){Re(n,47,cR(t,0))}),Re(n,618)}function yV(n){var e=1;Re(n,619,es(e)),Re(n,48,hV({xfId:0,name:"Normal"})),Re(n,620)}function xV(n){var e=0;Re(n,505,es(e)),Re(n,506)}function EV(n){var e=0;Re(n,508,fV(e,"TableStyleMedium9","PivotStyleMedium4")),Re(n,509)}function TV(n,e){var t=Xi();return Re(t,278),dV(t,n.SSF),mV(t),gV(t),pV(t),_V(t),vV(t,e.cellXfs),yV(t),xV(t),EV(t),Re(t,279),t.end()}function uR(n,e){if(e&&e.themeXLSX)return e.themeXLSX;if(n&&typeof n.raw=="string")return n.raw;var t=[Bn];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function SV(n,e){return{flags:n.read_shift(4),version:n.read_shift(4),name:Ci(n)}}function wV(n){var e=ve(12+2*n.name.length);return e.write_shift(4,n.flags),e.write_shift(4,n.version),Zn(n.name,e),e.slice(0,e.l)}function bV(n){for(var e=[],t=n.read_shift(4);t-- >0;)e.push([n.read_shift(4),n.read_shift(4)]);return e}function AV(n){var e=ve(4+8*n.length);e.write_shift(4,n.length);for(var t=0;t<n.length;++t)e.write_shift(4,n[t][0]),e.write_shift(4,n[t][1]);return e}function CV(n,e){var t=ve(8+2*e.length);return t.write_shift(4,n),Zn(e,t),t.slice(0,t.l)}function RV(n){return n.l+=4,n.read_shift(4)!=0}function IV(n,e){var t=ve(8);return t.write_shift(4,n),t.write_shift(4,1),t}function DV(){var n=Xi();return Re(n,332),Re(n,334,es(1)),Re(n,335,wV({name:"XLDAPR",version:12e4,flags:3496657072})),Re(n,336),Re(n,339,CV(1,"XLDAPR")),Re(n,52),Re(n,35,es(514)),Re(n,4096,es(0)),Re(n,4097,Ir(1)),Re(n,36),Re(n,53),Re(n,340),Re(n,337,IV(1)),Re(n,51,AV([[1,0]])),Re(n,338),Re(n,333),n.end()}function hR(){var n=[Bn];return n.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),n.join("")}function OV(n){var e={};e.i=n.read_shift(4);var t={};t.r=n.read_shift(4),t.c=n.read_shift(4),e.r=Xt(t);var i=n.read_shift(1);return i&2&&(e.l="1"),i&8&&(e.a="1"),e}var Uc=1024;function fR(n,e){for(var t=[21600,21600],i=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),r=[Pe("xml",null,{"xmlns:v":ur.v,"xmlns:o":ur.o,"xmlns:x":ur.x,"xmlns:mv":ur.mv}).replace(/\/>/,">"),Pe("o:shapelayout",Pe("o:idmap",null,{"v:ext":"edit",data:n}),{"v:ext":"edit"}),Pe("v:shapetype",[Pe("v:stroke",null,{joinstyle:"miter"}),Pe("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:i})];Uc<n*1e3;)Uc+=1e3;return e.forEach(function(s){var o=Qn(s[0]),c={color2:"#BEFF82",type:"gradient"};c.type=="gradient"&&(c.angle="-180");var h=c.type=="gradient"?Pe("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,f=Pe("v:fill",h,c),m={on:"t",obscured:"t"};++Uc,r=r.concat(["<v:shape"+df({id:"_x0000_s"+Uc,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",f,Pe("v:shadow",null,m),Pe("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",fi("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),fi("x:AutoFill","False"),fi("x:Row",String(o.r)),fi("x:Column",String(o.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),r.push("</xml>"),r.join("")}function dR(n){var e=[Bn,Pe("comments",null,{xmlns:yu[0]})],t=[];return e.push("<authors>"),n.forEach(function(i){i[1].forEach(function(r){var s=Yt(r.a);t.indexOf(s)==-1&&(t.push(s),e.push("<author>"+s+"</author>")),r.T&&r.ID&&t.indexOf("tc="+r.ID)==-1&&(t.push("tc="+r.ID),e.push("<author>tc="+r.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),n.forEach(function(i){var r=0,s=[];if(i[1][0]&&i[1][0].T&&i[1][0].ID?r=t.indexOf("tc="+i[1][0].ID):i[1].forEach(function(h){h.a&&(r=t.indexOf(Yt(h.a))),s.push(h.t||"")}),e.push('<comment ref="'+i[0]+'" authorId="'+r+'"><text>'),s.length<=1)e.push(fi("t",Yt(s[0]||"")));else{for(var o=`Comment:
    `+s[0]+`
`,c=1;c<s.length;++c)o+=`Reply:
    `+s[c]+`
`;e.push(fi("t",Yt(o)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function NV(n,e,t){var i=[Bn,Pe("ThreadedComments",null,{xmlns:Kn.TCMNT}).replace(/[\/]>/,">")];return n.forEach(function(r){var s="";(r[1]||[]).forEach(function(o,c){if(!o.T){delete o.ID;return}o.a&&e.indexOf(o.a)==-1&&e.push(o.a);var h={ref:r[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};c==0?s=h.id:h.parentId=s,o.ID=h.id,o.a&&(h.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(o.a)).slice(-12)+"}"),i.push(Pe("threadedComment",fi("text",o.t||""),h))})}),i.push("</ThreadedComments>"),i.join("")}function MV(n){var e=[Bn,Pe("personList",null,{xmlns:Kn.TCMNT,"xmlns:x":yu[0]}).replace(/[\/]>/,">")];return n.forEach(function(t,i){e.push(Pe("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+i).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function kV(n){var e={};e.iauthor=n.read_shift(4);var t=zl(n);return e.rfx=t.s,e.ref=Xt(t.s),n.l+=16,e}function PV(n,e){return e==null&&(e=ve(36)),e.write_shift(4,n[1].iauthor),Eu(n[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var FV=Ci;function LV(n){return Zn(n.slice(0,54))}function BV(n){var e=Xi(),t=[];return Re(e,628),Re(e,630),n.forEach(function(i){i[1].forEach(function(r){t.indexOf(r.a)>-1||(t.push(r.a.slice(0,54)),Re(e,632,LV(r.a)))})}),Re(e,631),Re(e,633),n.forEach(function(i){i[1].forEach(function(r){r.iauthor=t.indexOf(r.a);var s={s:Qn(i[0]),e:Qn(i[0])};Re(e,635,PV([s,r])),r.t&&r.t.length>0&&Re(e,637,U7(r)),Re(e,636),delete r.iauthor})}),Re(e,634),Re(e,629),e.end()}function VV(n,e){e.FullPaths.forEach(function(t,i){if(i!=0){var r=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");r.slice(-1)!=="/"&&Jt.utils.cfb_add(n,r,e.FileIndex[i].content)}})}var mR=["xlsb","xlsm","xlam","biff8","xla"],UV=(function(){var n=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(i,r,s,o){var c=!1,h=!1;s.length==0?h=!0:s.charAt(0)=="["&&(h=!0,s=s.slice(1,-1)),o.length==0?c=!0:o.charAt(0)=="["&&(c=!0,o=o.slice(1,-1));var f=s.length>0?parseInt(s,10)|0:0,m=o.length>0?parseInt(o,10)|0:0;return c?m+=e.c:--m,h?f+=e.r:--f,r+(c?"":"$")+Ai(m)+(h?"":"$")+di(f)}return function(r,s){return e=s,r.replace(n,t)}})(),my=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,gy=(function(){return function(e,t){return e.replace(my,function(i,r,s,o,c,h){var f=ly(o)-(s?0:t.c),m=oy(h)-(c?0:t.r),p=m==0?"":c?m+1:"["+m+"]",v=f==0?"":s?f+1:"["+f+"]";return r+"R"+p+"C"+v})}})();function zV(n,e){return n.replace(my,function(t,i,r,s,o,c){return i+(r=="$"?r+s:Ai(ly(s)+e.c))+(o=="$"?o+c:di(oy(c)+e.r))})}function jV(n){return n.length!=1}function Mn(n){n.l+=1}function Oo(n,e){var t=n.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function gR(n,e,t){var i=2;if(t){if(t.biff>=2&&t.biff<=5)return pR(n);t.biff==12&&(i=4)}var r=n.read_shift(i),s=n.read_shift(i),o=Oo(n),c=Oo(n);return{s:{r,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:c[0],cRel:c[1],rRel:c[2]}}}function pR(n){var e=Oo(n),t=Oo(n),i=n.read_shift(1),r=n.read_shift(1);return{s:{r:e[0],c:i,cRel:e[1],rRel:e[2]},e:{r:t[0],c:r,cRel:t[1],rRel:t[2]}}}function HV(n,e,t){if(t.biff<8)return pR(n);var i=n.read_shift(t.biff==12?4:2),r=n.read_shift(t.biff==12?4:2),s=Oo(n),o=Oo(n);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r,c:o[0],cRel:o[1],rRel:o[2]}}}function _R(n,e,t){if(t&&t.biff>=2&&t.biff<=5)return qV(n);var i=n.read_shift(t&&t.biff==12?4:2),r=Oo(n);return{r:i,c:r[0],cRel:r[1],rRel:r[2]}}function qV(n){var e=Oo(n),t=n.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function GV(n){var e=n.read_shift(2),t=n.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function WV(n,e,t){var i=t&&t.biff?t.biff:8;if(i>=2&&i<=5)return YV(n);var r=n.read_shift(i>=12?4:2),s=n.read_shift(2),o=(s&16384)>>14,c=(s&32768)>>15;if(s&=16383,c==1)for(;r>524287;)r-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r,c:s,cRel:o,rRel:c}}function YV(n){var e=n.read_shift(2),t=n.read_shift(1),i=(e&32768)>>15,r=(e&16384)>>14;return e&=16383,i==1&&e>=8192&&(e=e-16384),r==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:r,rRel:i}}function XV(n,e,t){var i=(n[n.l++]&96)>>5,r=gR(n,t.biff>=2&&t.biff<=5?6:8,t);return[i,r]}function $V(n,e,t){var i=(n[n.l++]&96)>>5,r=n.read_shift(2,"i"),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}var o=gR(n,s,t);return[i,r,o]}function KV(n,e,t){var i=(n[n.l++]&96)>>5;return n.l+=t&&t.biff>8?12:t.biff<8?6:8,[i]}function QV(n,e,t){var i=(n[n.l++]&96)>>5,r=n.read_shift(2),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}return n.l+=s,[i,r]}function ZV(n,e,t){var i=(n[n.l++]&96)>>5,r=HV(n,e-1,t);return[i,r]}function JV(n,e,t){var i=(n[n.l++]&96)>>5;return n.l+=t.biff==2?6:t.biff==12?14:7,[i]}function Yw(n){var e=n[n.l+1]&1,t=1;return n.l+=4,[e,t]}function eU(n,e,t){n.l+=2;for(var i=n.read_shift(t&&t.biff==2?1:2),r=[],s=0;s<=i;++s)r.push(n.read_shift(t&&t.biff==2?1:2));return r}function tU(n,e,t){var i=n[n.l+1]&255?1:0;return n.l+=2,[i,n.read_shift(t&&t.biff==2?1:2)]}function nU(n,e,t){var i=n[n.l+1]&255?1:0;return n.l+=2,[i,n.read_shift(t&&t.biff==2?1:2)]}function iU(n){var e=n[n.l+1]&255?1:0;return n.l+=2,[e,n.read_shift(2)]}function rU(n,e,t){var i=n[n.l+1]&255?1:0;return n.l+=t&&t.biff==2?3:4,[i]}function vR(n){var e=n.read_shift(1),t=n.read_shift(1);return[e,t]}function sU(n){return n.read_shift(2),vR(n)}function aU(n){return n.read_shift(2),vR(n)}function oU(n,e,t){var i=(n[n.l]&96)>>5;n.l+=1;var r=_R(n,0,t);return[i,r]}function lU(n,e,t){var i=(n[n.l]&96)>>5;n.l+=1;var r=WV(n,0,t);return[i,r]}function cU(n,e,t){var i=(n[n.l]&96)>>5;n.l+=1;var r=n.read_shift(2);t&&t.biff==5&&(n.l+=12);var s=_R(n,0,t);return[i,r,s]}function uU(n,e,t){var i=(n[n.l]&96)>>5;n.l+=1;var r=n.read_shift(t&&t.biff<=3?1:2);return[uz[r],ER[r],i]}function hU(n,e,t){var i=n[n.l++],r=n.read_shift(1),s=t&&t.biff<=3?[i==88?-1:0,n.read_shift(1)]:fU(n);return[r,(s[0]===0?ER:cz)[s[1]]]}function fU(n){return[n[n.l+1]>>7,n.read_shift(2)&32767]}function dU(n,e,t){n.l+=t&&t.biff==2?3:4}function mU(n,e,t){if(n.l++,t&&t.biff==12)return[n.read_shift(4,"i"),0];var i=n.read_shift(2),r=n.read_shift(t&&t.biff==2?1:2);return[i,r]}function gU(n){return n.l++,jf[n.read_shift(1)]}function pU(n){return n.l++,n.read_shift(2)}function _U(n){return n.l++,n.read_shift(1)!==0}function vU(n){return n.l++,Tu(n)}function yU(n,e,t){return n.l++,eR(n,e-1,t)}function xU(n,e){var t=[n.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=cB(n,1)?"TRUE":"FALSE",e!=12&&(n.l+=7);break;case 37:case 16:t[1]=jf[n[n.l]],n.l+=e==12?4:8;break;case 0:n.l+=8;break;case 1:t[1]=Tu(n);break;case 2:t[1]=dB(n,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function EU(n,e,t){for(var i=n.read_shift(t.biff==12?4:2),r=[],s=0;s!=i;++s)r.push((t.biff==12?zl:pB)(n));return r}function TU(n,e,t){var i=0,r=0;t.biff==12?(i=n.read_shift(4),r=n.read_shift(4)):(r=1+n.read_shift(1),i=1+n.read_shift(2)),t.biff>=2&&t.biff<8&&(--i,--r==0&&(r=256));for(var s=0,o=[];s!=i&&(o[s]=[]);++s)for(var c=0;c!=r;++c)o[s][c]=xU(n,t.biff);return o}function SU(n,e,t){var i=n.read_shift(1)>>>5&3,r=!t||t.biff>=8?4:2,s=n.read_shift(r);switch(t.biff){case 2:n.l+=5;break;case 3:case 4:n.l+=8;break;case 5:n.l+=12;break}return[i,0,s]}function wU(n,e,t){if(t.biff==5)return bU(n);var i=n.read_shift(1)>>>5&3,r=n.read_shift(2),s=n.read_shift(4);return[i,r,s]}function bU(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2,"i");n.l+=8;var i=n.read_shift(2);return n.l+=12,[e,t,i]}function AU(n,e,t){var i=n.read_shift(1)>>>5&3;n.l+=t&&t.biff==2?3:4;var r=n.read_shift(t&&t.biff==2?1:2);return[i,r]}function CU(n,e,t){var i=n.read_shift(1)>>>5&3,r=n.read_shift(t&&t.biff==2?1:2);return[i,r]}function RU(n,e,t){var i=n.read_shift(1)>>>5&3;return n.l+=4,t.biff<8&&n.l--,t.biff==12&&(n.l+=2),[i]}function IU(n,e,t){var i=(n[n.l++]&96)>>5,r=n.read_shift(2),s=4;if(t)switch(t.biff){case 5:s=15;break;case 12:s=6;break}return n.l+=s,[i,r]}var DU=Ds,OU=Ds,NU=Ds;function Hf(n,e,t){return n.l+=2,[GV(n)]}function py(n){return n.l+=6,[]}var MU=Hf,kU=py,PU=py,FU=Hf;function yR(n){return n.l+=2,[ZC(n),n.read_shift(2)&1]}var LU=Hf,BU=yR,VU=py,UU=Hf,zU=Hf,jU=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function HU(n){n.l+=2;var e=n.read_shift(2),t=n.read_shift(2),i=n.read_shift(4),r=n.read_shift(2),s=n.read_shift(2),o=jU[t>>2&31];return{ixti:e,coltype:t&3,rt:o,idx:i,c:r,C:s}}function qU(n){return n.l+=2,[n.read_shift(4)]}function GU(n,e,t){return n.l+=5,n.l+=2,n.l+=t.biff==2?1:4,["PTGSHEET"]}function WU(n,e,t){return n.l+=t.biff==2?4:5,["PTGENDSHEET"]}function YU(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function XU(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function $U(n){return n.l+=4,[0,0]}var Xw={1:{n:"PtgExp",f:mU},2:{n:"PtgTbl",f:NU},3:{n:"PtgAdd",f:Mn},4:{n:"PtgSub",f:Mn},5:{n:"PtgMul",f:Mn},6:{n:"PtgDiv",f:Mn},7:{n:"PtgPower",f:Mn},8:{n:"PtgConcat",f:Mn},9:{n:"PtgLt",f:Mn},10:{n:"PtgLe",f:Mn},11:{n:"PtgEq",f:Mn},12:{n:"PtgGe",f:Mn},13:{n:"PtgGt",f:Mn},14:{n:"PtgNe",f:Mn},15:{n:"PtgIsect",f:Mn},16:{n:"PtgUnion",f:Mn},17:{n:"PtgRange",f:Mn},18:{n:"PtgUplus",f:Mn},19:{n:"PtgUminus",f:Mn},20:{n:"PtgPercent",f:Mn},21:{n:"PtgParen",f:Mn},22:{n:"PtgMissArg",f:Mn},23:{n:"PtgStr",f:yU},26:{n:"PtgSheet",f:GU},27:{n:"PtgEndSheet",f:WU},28:{n:"PtgErr",f:gU},29:{n:"PtgBool",f:_U},30:{n:"PtgInt",f:pU},31:{n:"PtgNum",f:vU},32:{n:"PtgArray",f:JV},33:{n:"PtgFunc",f:uU},34:{n:"PtgFuncVar",f:hU},35:{n:"PtgName",f:SU},36:{n:"PtgRef",f:oU},37:{n:"PtgArea",f:XV},38:{n:"PtgMemArea",f:AU},39:{n:"PtgMemErr",f:DU},40:{n:"PtgMemNoMem",f:OU},41:{n:"PtgMemFunc",f:CU},42:{n:"PtgRefErr",f:RU},43:{n:"PtgAreaErr",f:KV},44:{n:"PtgRefN",f:lU},45:{n:"PtgAreaN",f:ZV},46:{n:"PtgMemAreaN",f:YU},47:{n:"PtgMemNoMemN",f:XU},57:{n:"PtgNameX",f:wU},58:{n:"PtgRef3d",f:cU},59:{n:"PtgArea3d",f:$V},60:{n:"PtgRefErr3d",f:IU},61:{n:"PtgAreaErr3d",f:QV},255:{}},KU={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},QU={1:{n:"PtgElfLel",f:yR},2:{n:"PtgElfRw",f:UU},3:{n:"PtgElfCol",f:MU},6:{n:"PtgElfRwV",f:zU},7:{n:"PtgElfColV",f:FU},10:{n:"PtgElfRadical",f:LU},11:{n:"PtgElfRadicalS",f:VU},13:{n:"PtgElfColS",f:kU},15:{n:"PtgElfColSV",f:PU},16:{n:"PtgElfRadicalLel",f:BU},25:{n:"PtgList",f:HU},29:{n:"PtgSxName",f:qU},255:{}},ZU={0:{n:"PtgAttrNoop",f:$U},1:{n:"PtgAttrSemi",f:rU},2:{n:"PtgAttrIf",f:nU},4:{n:"PtgAttrChoose",f:eU},8:{n:"PtgAttrGoto",f:tU},16:{n:"PtgAttrSum",f:dU},32:{n:"PtgAttrBaxcel",f:Yw},33:{n:"PtgAttrBaxcel",f:Yw},64:{n:"PtgAttrSpace",f:sU},65:{n:"PtgAttrSpaceSemi",f:aU},128:{n:"PtgAttrIfError",f:iU},255:{}};function JU(n,e,t,i){if(i.biff<8)return Ds(n,e);for(var r=n.l+e,s=[],o=0;o!==t.length;++o)switch(t[o][0]){case"PtgArray":t[o][1]=TU(n,0,i),s.push(t[o][1]);break;case"PtgMemArea":t[o][2]=EU(n,t[o][1],i),s.push(t[o][2]);break;case"PtgExp":i&&i.biff==12&&(t[o][1][1]=n.read_shift(4),s.push(t[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[o][0]}return e=r-n.l,e!==0&&s.push(Ds(n,e)),s}function ez(n,e,t){for(var i=n.l+e,r,s,o=[];i!=n.l;)e=i-n.l,s=n[n.l],r=Xw[s]||Xw[KU[s]],(s===24||s===25)&&(r=(s===24?QU:ZU)[n[n.l+1]]),!r||!r.f?Ds(n,e):o.push([r.n,r.f(n,e,t)]);return o}function tz(n){for(var e=[],t=0;t<n.length;++t){for(var i=n[t],r=[],s=0;s<i.length;++s){var o=i[s];if(o)switch(o[0]){case 2:r.push('"'+o[1].replace(/"/g,'""')+'"');break;default:r.push(o[1])}else r.push("")}e.push(r.join(","))}return e.join(";")}var nz={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function iz(n,e){if(!n&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(n)?"'"+n+"'":n}function xR(n,e,t){if(!n)return"SH33TJSERR0";if(t.biff>8&&(!n.XTI||!n.XTI[e]))return n.SheetNames[e];if(!n.XTI)return"SH33TJSERR6";var i=n.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":n.XTI[e-1];if(!i)return"SH33TJSERR1";var r="";if(t.biff>8)switch(n[i[0]][0]){case 357:return r=i[1]==-1?"#REF":n.SheetNames[i[1]],i[1]==i[2]?r:r+":"+n.SheetNames[i[2]];case 358:return t.SID!=null?n.SheetNames[t.SID]:"SH33TJSSAME"+n[i[0]][0];case 355:default:return"SH33TJSSRC"+n[i[0]][0]}switch(n[i[0]][0][0]){case 1025:return r=i[1]==-1?"#REF":n.SheetNames[i[1]]||"SH33TJSERR3",i[1]==i[2]?r:r+":"+n.SheetNames[i[2]];case 14849:return n[i[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return n[i[0]][0][3]?(r=i[1]==-1?"#REF":n[i[0]][0][3][i[1]]||"SH33TJSERR4",i[1]==i[2]?r:r+":"+n[i[0]][0][3][i[2]]):"SH33TJSERR2"}}function $w(n,e,t){var i=xR(n,e,t);return i=="#REF"?i:iz(i,t)}function ou(n,e,t,i,r){var s=r&&r.biff||8,o={s:{c:0,r:0}},c=[],h,f,m,p=0,v=0,x,T="";if(!n[0]||!n[0][0])return"";for(var E=-1,S="",C=0,O=n[0].length;C<O;++C){var N=n[0][C];switch(N[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(h=c.pop(),f=c.pop(),E>=0){switch(n[0][E][1][0]){case 0:S=yn(" ",n[0][E][1][1]);break;case 1:S=yn("\r",n[0][E][1][1]);break;default:if(S="",r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][E][1][0])}f=f+S,E=-1}c.push(f+nz[N[0]]+h);break;case"PtgIsect":h=c.pop(),f=c.pop(),c.push(f+" "+h);break;case"PtgUnion":h=c.pop(),f=c.pop(),c.push(f+","+h);break;case"PtgRange":h=c.pop(),f=c.pop(),c.push(f+":"+h);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":m=qh(N[1][1],o,r),c.push(Gh(m,s));break;case"PtgRefN":m=t?qh(N[1][1],t,r):N[1][1],c.push(Gh(m,s));break;case"PtgRef3d":p=N[1][1],m=qh(N[1][2],o,r),T=$w(i,p,r),c.push(T+"!"+Gh(m,s));break;case"PtgFunc":case"PtgFuncVar":var H=N[1][0],Y=N[1][1];H||(H=0),H&=127;var te=H==0?[]:c.slice(-H);c.length-=H,Y==="User"&&(Y=te.shift()),c.push(Y+"("+te.join(",")+")");break;case"PtgBool":c.push(N[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(N[1]);break;case"PtgNum":c.push(String(N[1]));break;case"PtgStr":c.push('"'+N[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(N[1]);break;case"PtgAreaN":x=Mw(N[1][1],t?{s:t}:o,r),c.push(G1(x,r));break;case"PtgArea":x=Mw(N[1][1],o,r),c.push(G1(x,r));break;case"PtgArea3d":p=N[1][1],x=N[1][2],T=$w(i,p,r),c.push(T+"!"+G1(x,r));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":v=N[1][2];var A=(i.names||[])[v-1]||(i[0]||[])[v],D=A?A.Name:"SH33TJSNAME"+String(v);D&&D.slice(0,6)=="_xlfn."&&!r.xlfn&&(D=D.slice(6)),c.push(D);break;case"PtgNameX":var I=N[1][1];v=N[1][2];var P;if(r.biff<=5)I<0&&(I=-I),i[I]&&(P=i[I][v]);else{var M="";if(((i[I]||[])[0]||[])[0]==14849||(((i[I]||[])[0]||[])[0]==1025?i[I][v]&&i[I][v].itab>0&&(M=i.SheetNames[i[I][v].itab-1]+"!"):M=i.SheetNames[v-1]+"!"),i[I]&&i[I][v])M+=i[I][v].Name;else if(i[0]&&i[0][v])M+=i[0][v].Name;else{var B=(xR(i,I,r)||"").split(";;");B[v-1]?M=B[v-1]:M+="SH33TJSERRX"}c.push(M);break}P||(P={Name:"SH33TJSERRY"}),c.push(P.Name);break;case"PtgParen":var F="(",Te=")";if(E>=0){switch(S="",n[0][E][1][0]){case 2:F=yn(" ",n[0][E][1][1])+F;break;case 3:F=yn("\r",n[0][E][1][1])+F;break;case 4:Te=yn(" ",n[0][E][1][1])+Te;break;case 5:Te=yn("\r",n[0][E][1][1])+Te;break;default:if(r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][E][1][0])}E=-1}c.push(F+c.pop()+Te);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":m={c:N[1][1],r:N[1][0]};var Oe={c:t.c,r:t.r};if(i.sharedf[Xt(m)]){var se=i.sharedf[Xt(m)];c.push(ou(se,o,Oe,i,r))}else{var Ee=!1;for(h=0;h!=i.arrayf.length;++h)if(f=i.arrayf[h],!(m.c<f[0].s.c||m.c>f[0].e.c)&&!(m.r<f[0].s.r||m.r>f[0].e.r)){c.push(ou(f[1],o,Oe,i,r)),Ee=!0;break}Ee||c.push(N[1])}break;case"PtgArray":c.push("{"+tz(N[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":E=C;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+N[1].idx+"[#"+N[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(N));default:throw new Error("Unrecognized Formula Token: "+String(N))}var Ue=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(r.biff!=3&&E>=0&&Ue.indexOf(n[0][C][0])==-1){N=n[0][E];var He=!0;switch(N[1][0]){case 4:He=!1;case 0:S=yn(" ",N[1][1]);break;case 5:He=!1;case 1:S=yn("\r",N[1][1]);break;default:if(S="",r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+N[1][0])}c.push((He?S:"")+c.pop()+(He?"":S)),E=-1}}if(c.length>1&&r.WTF)throw new Error("bad formula stack");return c[0]}function rz(n){if(n==null){var e=ve(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof n=="number")return Rl(n);return Rl(0)}function sz(n,e,t,i,r){var s=Il(e,t,r),o=rz(n.v),c=ve(6),h=33;c.write_shift(2,h),c.write_shift(4,0);for(var f=ve(n.bf.length),m=0;m<n.bf.length;++m)f[m]=n.bf[m];var p=hi([s,o,c,f]);return p}function _g(n,e,t){var i=n.read_shift(4),r=ez(n,i,t),s=n.read_shift(4),o=s>0?JU(n,s,r,t):null;return[r,o]}var az=_g,vg=_g,oz=_g,lz=_g,cz={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},ER={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},uz={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function hz(n){var e="of:="+n.replace(my,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function fz(n){return n.replace(/\./,"!")}var Wh=typeof Map<"u";function _y(n,e,t){var i=0,r=n.length;if(t){if(Wh?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var s=Wh?t.get(e):t[e];i<s.length;++i)if(n[s[i]].t===e)return n.Count++,s[i]}}else for(;i<r;++i)if(n[i].t===e)return n.Count++,i;return n[r]={t:e},n.Count++,n.Unique++,t&&(Wh?(t.has(e)||t.set(e,[]),t.get(e).push(r)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(r))),r}function yg(n,e){var t={min:n+1,max:n+1},i=-1;return e.MDW&&(fa=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?i=Nm(e.wpx):e.wch!=null&&(i=e.wch),i>-1?(t.width=q_(i),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function TR(n,e){if(n){var t=[.7,.7,.75,.75,.3,.3];n.left==null&&(n.left=t[0]),n.right==null&&(n.right=t[1]),n.top==null&&(n.top=t[2]),n.bottom==null&&(n.bottom=t[3]),n.header==null&&(n.header=t[4]),n.footer==null&&(n.footer=t[5])}}function Fo(n,e,t){var i=t.revssf[e.z!=null?e.z:"General"],r=60,s=n.length;if(i==null&&t.ssf){for(;r<392;++r)if(t.ssf[r]==null){_C(e.z,r),t.ssf[r]=e.z,t.revssf[e.z]=i=r;break}}for(r=0;r!=s;++r)if(n[r].numFmtId===i)return r;return n[s]={numFmtId:i,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function dz(n,e,t){if(n&&n["!ref"]){var i=un(n["!ref"]);if(i.e.c<i.s.c||i.e.r<i.s.r)throw new Error("Bad range ("+t+"): "+n["!ref"])}}function mz(n){if(n.length===0)return"";for(var e='<mergeCells count="'+n.length+'">',t=0;t!=n.length;++t)e+='<mergeCell ref="'+Ln(n[t])+'"/>';return e+"</mergeCells>"}function gz(n,e,t,i,r){var s=!1,o={},c=null;if(i.bookType!=="xlsx"&&e.vbaraw){var h=e.SheetNames[t];try{e.Workbook&&(h=e.Workbook.Sheets[t].CodeName||h)}catch{}s=!0,o.codeName=ff(Yt(h))}if(n&&n["!outline"]){var f={summaryBelow:1,summaryRight:1};n["!outline"].above&&(f.summaryBelow=0),n["!outline"].left&&(f.summaryRight=0),c=(c||"")+Pe("outlinePr",null,f)}!s&&!c||(r[r.length]=Pe("sheetPr",c,o))}var pz=["objects","scenarios","selectLockedCells","selectUnlockedCells"],_z=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function vz(n){var e={sheet:1};return pz.forEach(function(t){n[t]!=null&&n[t]&&(e[t]="1")}),_z.forEach(function(t){n[t]!=null&&!n[t]&&(e[t]="0")}),n.password&&(e.password=sR(n.password).toString(16).toUpperCase()),Pe("sheetProtection",null,e)}function yz(n){return TR(n),Pe("pageMargins",null,n)}function xz(n,e){for(var t=["<cols>"],i,r=0;r!=e.length;++r)(i=e[r])&&(t[t.length]=Pe("col",null,yg(r,i)));return t[t.length]="</cols>",t.join("")}function Ez(n,e,t,i){var r=typeof n.ref=="string"?n.ref:Ln(n.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var s=t.Workbook.Names,o=dr(r);o.s.r==o.e.r&&(o.e.r=dr(e["!ref"]).e.r,r=Ln(o));for(var c=0;c<s.length;++c){var h=s[c];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==i){h.Ref="'"+t.SheetNames[i]+"'!"+r;break}}return c==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:i,Ref:"'"+t.SheetNames[i]+"'!"+r}),Pe("autoFilter",null,{ref:r})}function Tz(n,e,t,i){var r={workbookViewId:"0"};return(((i||{}).Workbook||{}).Views||[])[0]&&(r.rightToLeft=i.Workbook.Views[0].RTL?"1":"0"),Pe("sheetViews",Pe("sheetView",null,r),{})}function Sz(n,e,t,i){if(n.c&&t["!comments"].push([e,n.c]),n.v===void 0&&typeof n.f!="string"||n.t==="z"&&!n.f)return"";var r="",s=n.t,o=n.v;if(n.t!=="z")switch(n.t){case"b":r=n.v?"1":"0";break;case"n":r=""+n.v;break;case"e":r=jf[n.v];break;case"d":i&&i.cellDates?r=Pi(n.v,-1).toISOString():(n=Ki(n),n.t="n",r=""+(n.v=$i(Pi(n.v)))),typeof n.z>"u"&&(n.z=En[14]);break;default:r=n.v;break}var c=fi("v",Yt(r)),h={r:e},f=Fo(i.cellXfs,n,i);switch(f!==0&&(h.s=f),n.t){case"n":break;case"d":h.t="d";break;case"b":h.t="b";break;case"e":h.t="e";break;case"z":break;default:if(n.v==null){delete n.t;break}if(n.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(i&&i.bookSST){c=fi("v",""+_y(i.Strings,n.v,i.revStrings)),h.t="s";break}h.t="str";break}if(n.t!=s&&(n.t=s,n.v=o),typeof n.f=="string"&&n.f){var m=n.F&&n.F.slice(0,e.length)==e?{t:"array",ref:n.F}:null;c=Pe("f",Yt(n.f),m)+(n.v!=null?c:"")}return n.l&&t["!links"].push([e,n.l]),n.D&&(h.cm=1),Pe("c",c,h)}function wz(n,e,t,i){var r=[],s=[],o=un(n["!ref"]),c="",h,f="",m=[],p=0,v=0,x=n["!rows"],T=Array.isArray(n),E={r:f},S,C=-1;for(v=o.s.c;v<=o.e.c;++v)m[v]=Ai(v);for(p=o.s.r;p<=o.e.r;++p){for(s=[],f=di(p),v=o.s.c;v<=o.e.c;++v){h=m[v]+f;var O=T?(n[p]||[])[v]:n[h];O!==void 0&&(c=Sz(O,h,n,e))!=null&&s.push(c)}(s.length>0||x&&x[p])&&(E={r:f},x&&x[p]&&(S=x[p],S.hidden&&(E.hidden=1),C=-1,S.hpx?C=Mm(S.hpx):S.hpt&&(C=S.hpt),C>-1&&(E.ht=C,E.customHeight=1),S.level&&(E.outlineLevel=S.level)),r[r.length]=Pe("row",s.join(""),E))}if(x)for(;p<x.length;++p)x&&x[p]&&(E={r:p+1},S=x[p],S.hidden&&(E.hidden=1),C=-1,S.hpx?C=Mm(S.hpx):S.hpt&&(C=S.hpt),C>-1&&(E.ht=C,E.customHeight=1),S.level&&(E.outlineLevel=S.level),r[r.length]=Pe("row","",E));return r.join("")}function SR(n,e,t,i){var r=[Bn,Pe("worksheet",null,{xmlns:yu[0],"xmlns:r":Kn.r})],s=t.SheetNames[n],o=0,c="",h=t.Sheets[s];h==null&&(h={});var f=h["!ref"]||"A1",m=un(f);if(m.e.c>16383||m.e.r>1048575){if(e.WTF)throw new Error("Range "+f+" exceeds format limit A1:XFD1048576");m.e.c=Math.min(m.e.c,16383),m.e.r=Math.min(m.e.c,1048575),f=Ln(m)}i||(i={}),h["!comments"]=[];var p=[];gz(h,t,n,e,r),r[r.length]=Pe("dimension",null,{ref:f}),r[r.length]=Tz(h,e,n,t),e.sheetFormat&&(r[r.length]=Pe("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),h["!cols"]!=null&&h["!cols"].length>0&&(r[r.length]=xz(h,h["!cols"])),r[o=r.length]="<sheetData/>",h["!links"]=[],h["!ref"]!=null&&(c=wz(h,e),c.length>0&&(r[r.length]=c)),r.length>o+1&&(r[r.length]="</sheetData>",r[o]=r[o].replace("/>",">")),h["!protect"]&&(r[r.length]=vz(h["!protect"])),h["!autofilter"]!=null&&(r[r.length]=Ez(h["!autofilter"],h,t,n)),h["!merges"]!=null&&h["!merges"].length>0&&(r[r.length]=mz(h["!merges"]));var v=-1,x,T=-1;return h["!links"].length>0&&(r[r.length]="<hyperlinks>",h["!links"].forEach(function(E){E[1].Target&&(x={ref:E[0]},E[1].Target.charAt(0)!="#"&&(T=qt(i,-1,Yt(E[1].Target).replace(/#.*$/,""),Dt.HLINK),x["r:id"]="rId"+T),(v=E[1].Target.indexOf("#"))>-1&&(x.location=Yt(E[1].Target.slice(v+1))),E[1].Tooltip&&(x.tooltip=Yt(E[1].Tooltip)),r[r.length]=Pe("hyperlink",null,x))}),r[r.length]="</hyperlinks>"),delete h["!links"],h["!margins"]!=null&&(r[r.length]=yz(h["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(r[r.length]=fi("ignoredErrors",Pe("ignoredError",null,{numberStoredAsText:1,sqref:f}))),p.length>0&&(T=qt(i,-1,"../drawings/drawing"+(n+1)+".xml",Dt.DRAW),r[r.length]=Pe("drawing",null,{"r:id":"rId"+T}),h["!drawing"]=p),h["!comments"].length>0&&(T=qt(i,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Dt.VML),r[r.length]=Pe("legacyDrawing",null,{"r:id":"rId"+T}),h["!legacy"]=T),r.length>1&&(r[r.length]="</worksheet>",r[1]=r[1].replace("/>",">")),r.join("")}function bz(n,e){var t={},i=n.l+e;t.r=n.read_shift(4),n.l+=4;var r=n.read_shift(2);n.l+=1;var s=n.read_shift(1);return n.l=i,s&7&&(t.level=s&7),s&16&&(t.hidden=!0),s&32&&(t.hpt=r/20),t}function Az(n,e,t){var i=ve(145),r=(t["!rows"]||[])[n]||{};i.write_shift(4,n),i.write_shift(4,0);var s=320;r.hpx?s=Mm(r.hpx)*20:r.hpt&&(s=r.hpt*20),i.write_shift(2,s),i.write_shift(1,0);var o=0;r.level&&(o|=r.level),r.hidden&&(o|=16),(r.hpx||r.hpt)&&(o|=32),i.write_shift(1,o),i.write_shift(1,0);var c=0,h=i.l;i.l+=4;for(var f={r:n,c:0},m=0;m<16;++m)if(!(e.s.c>m+1<<10||e.e.c<m<<10)){for(var p=-1,v=-1,x=m<<10;x<m+1<<10;++x){f.c=x;var T=Array.isArray(t)?(t[f.r]||[])[f.c]:t[Xt(f)];T&&(p<0&&(p=x),v=x)}p<0||(++c,i.write_shift(4,p),i.write_shift(4,v))}var E=i.l;return i.l=h,i.write_shift(4,c),i.l=E,i.length>i.l?i.slice(0,i.l):i}function Cz(n,e,t,i){var r=Az(i,t,e);(r.length>17||(e["!rows"]||[])[i])&&Re(n,0,r)}var Rz=zl,Iz=Eu;function Dz(){}function Oz(n,e){var t={},i=n[n.l];return++n.l,t.above=!(i&64),t.left=!(i&128),n.l+=18,t.name=z7(n),t}function Nz(n,e,t){t==null&&(t=ve(84+4*n.length));var i=192;e&&(e.above&&(i&=-65),e.left&&(i&=-129)),t.write_shift(1,i);for(var r=1;r<3;++r)t.write_shift(1,0);return Im({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),BC(n,t),t.slice(0,t.l)}function Mz(n){var e=kr(n);return[e]}function kz(n,e,t){return t==null&&(t=ve(8)),Bl(e,t)}function Pz(n){var e=Vl(n);return[e]}function Fz(n,e,t){return t==null&&(t=ve(4)),Ul(e,t)}function Lz(n){var e=kr(n),t=n.read_shift(1);return[e,t,"b"]}function Bz(n,e,t){return t==null&&(t=ve(9)),Bl(e,t),t.write_shift(1,n.v?1:0),t}function Vz(n){var e=Vl(n),t=n.read_shift(1);return[e,t,"b"]}function Uz(n,e,t){return t==null&&(t=ve(5)),Ul(e,t),t.write_shift(1,n.v?1:0),t}function zz(n){var e=kr(n),t=n.read_shift(1);return[e,t,"e"]}function jz(n,e,t){return t==null&&(t=ve(9)),Bl(e,t),t.write_shift(1,n.v),t}function Hz(n){var e=Vl(n),t=n.read_shift(1);return[e,t,"e"]}function qz(n,e,t){return t==null&&(t=ve(8)),Ul(e,t),t.write_shift(1,n.v),t.write_shift(2,0),t.write_shift(1,0),t}function Gz(n){var e=kr(n),t=n.read_shift(4);return[e,t,"s"]}function Wz(n,e,t){return t==null&&(t=ve(12)),Bl(e,t),t.write_shift(4,e.v),t}function Yz(n){var e=Vl(n),t=n.read_shift(4);return[e,t,"s"]}function Xz(n,e,t){return t==null&&(t=ve(8)),Ul(e,t),t.write_shift(4,e.v),t}function $z(n){var e=kr(n),t=Tu(n);return[e,t,"n"]}function Kz(n,e,t){return t==null&&(t=ve(16)),Bl(e,t),Rl(n.v,t),t}function Qz(n){var e=Vl(n),t=Tu(n);return[e,t,"n"]}function Zz(n,e,t){return t==null&&(t=ve(12)),Ul(e,t),Rl(n.v,t),t}function Jz(n){var e=kr(n),t=VC(n);return[e,t,"n"]}function ej(n,e,t){return t==null&&(t=ve(12)),Bl(e,t),UC(n.v,t),t}function tj(n){var e=Vl(n),t=VC(n);return[e,t,"n"]}function nj(n,e,t){return t==null&&(t=ve(8)),Ul(e,t),UC(n.v,t),t}function ij(n){var e=kr(n),t=cy(n);return[e,t,"is"]}function rj(n){var e=kr(n),t=Ci(n);return[e,t,"str"]}function sj(n,e,t){return t==null&&(t=ve(12+4*n.v.length)),Bl(e,t),Zn(n.v,t),t.length>t.l?t.slice(0,t.l):t}function aj(n){var e=Vl(n),t=Ci(n);return[e,t,"str"]}function oj(n,e,t){return t==null&&(t=ve(8+4*n.v.length)),Ul(e,t),Zn(n.v,t),t.length>t.l?t.slice(0,t.l):t}function lj(n,e,t){var i=n.l+e,r=kr(n);r.r=t["!row"];var s=n.read_shift(1),o=[r,s,"b"];if(t.cellFormula){n.l+=2;var c=vg(n,i-n.l,t);o[3]=ou(c,null,r,t.supbooks,t)}else n.l=i;return o}function cj(n,e,t){var i=n.l+e,r=kr(n);r.r=t["!row"];var s=n.read_shift(1),o=[r,s,"e"];if(t.cellFormula){n.l+=2;var c=vg(n,i-n.l,t);o[3]=ou(c,null,r,t.supbooks,t)}else n.l=i;return o}function uj(n,e,t){var i=n.l+e,r=kr(n);r.r=t["!row"];var s=Tu(n),o=[r,s,"n"];if(t.cellFormula){n.l+=2;var c=vg(n,i-n.l,t);o[3]=ou(c,null,r,t.supbooks,t)}else n.l=i;return o}function hj(n,e,t){var i=n.l+e,r=kr(n);r.r=t["!row"];var s=Ci(n),o=[r,s,"str"];if(t.cellFormula){n.l+=2;var c=vg(n,i-n.l,t);o[3]=ou(c,null,r,t.supbooks,t)}else n.l=i;return o}var fj=zl,dj=Eu;function mj(n,e){return e==null&&(e=ve(4)),e.write_shift(4,n),e}function gj(n,e){var t=n.l+e,i=zl(n),r=uy(n),s=Ci(n),o=Ci(n),c=Ci(n);n.l=t;var h={rfx:i,relId:r,loc:s,display:c};return o&&(h.Tooltip=o),h}function pj(n,e){var t=ve(50+4*(n[1].Target.length+(n[1].Tooltip||"").length));Eu({s:Qn(n[0]),e:Qn(n[0])},t),hy("rId"+e,t);var i=n[1].Target.indexOf("#"),r=i==-1?"":n[1].Target.slice(i+1);return Zn(r||"",t),Zn(n[1].Tooltip||"",t),Zn("",t),t.slice(0,t.l)}function _j(){}function vj(n,e,t){var i=n.l+e,r=zC(n),s=n.read_shift(1),o=[r];if(o[2]=s,t.cellFormula){var c=az(n,i-n.l,t);o[1]=c}else n.l=i;return o}function yj(n,e,t){var i=n.l+e,r=zl(n),s=[r];if(t.cellFormula){var o=lz(n,i-n.l,t);s[1]=o,n.l=i}else n.l=i;return s}function xj(n,e,t){t==null&&(t=ve(18));var i=yg(n,e);t.write_shift(-4,n),t.write_shift(-4,n),t.write_shift(4,(i.width||10)*256),t.write_shift(4,0);var r=0;return e.hidden&&(r|=1),typeof i.width=="number"&&(r|=2),e.level&&(r|=e.level<<8),t.write_shift(2,r),t}var wR=["left","right","top","bottom","header","footer"];function Ej(n){var e={};return wR.forEach(function(t){e[t]=Tu(n)}),e}function Tj(n,e){return e==null&&(e=ve(48)),TR(n),wR.forEach(function(t){Rl(n[t],e)}),e}function Sj(n){var e=n.read_shift(2);return n.l+=28,{RTL:e&32}}function wj(n,e,t){t==null&&(t=ve(30));var i=924;return(((e||{}).Views||[])[0]||{}).RTL&&(i|=32),t.write_shift(2,i),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function bj(n){var e=ve(24);return e.write_shift(4,4),e.write_shift(4,1),Eu(n,e),e}function Aj(n,e){return e==null&&(e=ve(66)),e.write_shift(2,n.password?sR(n.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,n[t[0]]!=null&&!n[t[0]]?1:0):e.write_shift(4,n[t[0]]!=null&&n[t[0]]?0:1)}),e}function Cj(){}function Rj(){}function Ij(n,e,t,i,r,s,o){if(e.v===void 0)return!1;var c="";switch(e.t){case"b":c=e.v?"1":"0";break;case"d":e=Ki(e),e.z=e.z||En[14],e.v=$i(Pi(e.v)),e.t="n";break;case"n":case"e":c=""+e.v;break;default:c=e.v;break}var h={r:t,c:i};switch(h.s=Fo(r.cellXfs,e,r),e.l&&s["!links"].push([Xt(h),e.l]),e.c&&s["!comments"].push([Xt(h),e.c]),e.t){case"s":case"str":return r.bookSST?(c=_y(r.Strings,e.v,r.revStrings),h.t="s",h.v=c,o?Re(n,18,Xz(e,h)):Re(n,7,Wz(e,h))):(h.t="str",o?Re(n,17,oj(e,h)):Re(n,6,sj(e,h))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?o?Re(n,13,nj(e,h)):Re(n,2,ej(e,h)):o?Re(n,16,Zz(e,h)):Re(n,5,Kz(e,h)),!0;case"b":return h.t="b",o?Re(n,15,Uz(e,h)):Re(n,4,Bz(e,h)),!0;case"e":return h.t="e",o?Re(n,14,qz(e,h)):Re(n,3,jz(e,h)),!0}return o?Re(n,12,Fz(e,h)):Re(n,1,kz(e,h)),!0}function Dj(n,e,t,i){var r=un(e["!ref"]||"A1"),s,o="",c=[];Re(n,145);var h=Array.isArray(e),f=r.e.r;e["!rows"]&&(f=Math.max(r.e.r,e["!rows"].length-1));for(var m=r.s.r;m<=f;++m){o=di(m),Cz(n,e,r,m);var p=!1;if(m<=r.e.r)for(var v=r.s.c;v<=r.e.c;++v){m===r.s.r&&(c[v]=Ai(v)),s=c[v]+o;var x=h?(e[m]||[])[v]:e[s];if(!x){p=!1;continue}p=Ij(n,x,m,v,i,e,p)}}Re(n,146)}function Oj(n,e){!e||!e["!merges"]||(Re(n,177,mj(e["!merges"].length)),e["!merges"].forEach(function(t){Re(n,176,dj(t))}),Re(n,178))}function Nj(n,e){!e||!e["!cols"]||(Re(n,390),e["!cols"].forEach(function(t,i){t&&Re(n,60,xj(i,t))}),Re(n,391))}function Mj(n,e){!e||!e["!ref"]||(Re(n,648),Re(n,649,bj(un(e["!ref"]))),Re(n,650))}function kj(n,e,t){e["!links"].forEach(function(i){if(i[1].Target){var r=qt(t,-1,i[1].Target.replace(/#.*$/,""),Dt.HLINK);Re(n,494,pj(i,r))}}),delete e["!links"]}function Pj(n,e,t,i){if(e["!comments"].length>0){var r=qt(i,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Dt.VML);Re(n,551,hy("rId"+r)),e["!legacy"]=r}}function Fj(n,e,t,i){if(e["!autofilter"]){var r=e["!autofilter"],s=typeof r.ref=="string"?r.ref:Ln(r.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var o=t.Workbook.Names,c=dr(s);c.s.r==c.e.r&&(c.e.r=dr(e["!ref"]).e.r,s=Ln(c));for(var h=0;h<o.length;++h){var f=o[h];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==i){f.Ref="'"+t.SheetNames[i]+"'!"+s;break}}h==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:i,Ref:"'"+t.SheetNames[i]+"'!"+s}),Re(n,161,Eu(un(s))),Re(n,162)}}function Lj(n,e,t){Re(n,133),Re(n,137,wj(e,t)),Re(n,138),Re(n,134)}function Bj(n,e){e["!protect"]&&Re(n,535,Aj(e["!protect"]))}function Vj(n,e,t,i){var r=Xi(),s=t.SheetNames[n],o=t.Sheets[s]||{},c=s;try{t&&t.Workbook&&(c=t.Workbook.Sheets[n].CodeName||c)}catch{}var h=un(o["!ref"]||"A1");if(h.e.c>16383||h.e.r>1048575){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Re(r,129),(t.vbaraw||o["!outline"])&&Re(r,147,Nz(c,o["!outline"])),Re(r,148,Iz(h)),Lj(r,o,t.Workbook),Nj(r,o),Dj(r,o,n,e),Bj(r,o),Fj(r,o,t,n),Oj(r,o),kj(r,o,i),o["!margins"]&&Re(r,476,Tj(o["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&Mj(r,o),Pj(r,o,n,i),Re(r,130),r.end()}function Uj(n,e){n.l+=10;var t=Ci(n);return{name:t}}var zj=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function jj(n){return!n.Workbook||!n.Workbook.WBProps?"false":y7(n.Workbook.WBProps.date1904)?"true":"false"}var Hj="][*?/\\".split("");function bR(n,e){if(n.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return Hj.forEach(function(i){if(n.indexOf(i)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function qj(n,e,t){n.forEach(function(i,r){bR(i);for(var s=0;s<r;++s)if(i==n[s])throw new Error("Duplicate Sheet Name: "+i);if(t){var o=e&&e[r]&&e[r].CodeName||i;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function Gj(n){if(!n||!n.SheetNames||!n.Sheets)throw new Error("Invalid Workbook");if(!n.SheetNames.length)throw new Error("Workbook is empty");var e=n.Workbook&&n.Workbook.Sheets||[];qj(n.SheetNames,e,!!n.vbaraw);for(var t=0;t<n.SheetNames.length;++t)dz(n.Sheets[n.SheetNames[t]],n.SheetNames[t],t)}function AR(n){var e=[Bn];e[e.length]=Pe("workbook",null,{xmlns:yu[0],"xmlns:r":Kn.r});var t=n.Workbook&&(n.Workbook.Names||[]).length>0,i={codeName:"ThisWorkbook"};n.Workbook&&n.Workbook.WBProps&&(zj.forEach(function(c){n.Workbook.WBProps[c[0]]!=null&&n.Workbook.WBProps[c[0]]!=c[1]&&(i[c[0]]=n.Workbook.WBProps[c[0]])}),n.Workbook.WBProps.CodeName&&(i.codeName=n.Workbook.WBProps.CodeName,delete i.CodeName)),e[e.length]=Pe("workbookPr",null,i);var r=n.Workbook&&n.Workbook.Sheets||[],s=0;if(r&&r[0]&&r[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=n.SheetNames.length&&!(!r[s]||!r[s].Hidden);++s);s==n.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=n.SheetNames.length;++s){var o={name:Yt(n.SheetNames[s].slice(0,31))};if(o.sheetId=""+(s+1),o["r:id"]="rId"+(s+1),r[s])switch(r[s].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}e[e.length]=Pe("sheet",null,o)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",n.Workbook&&n.Workbook.Names&&n.Workbook.Names.forEach(function(c){var h={name:c.Name};c.Comment&&(h.comment=c.Comment),c.Sheet!=null&&(h.localSheetId=""+c.Sheet),c.Hidden&&(h.hidden="1"),c.Ref&&(e[e.length]=Pe("definedName",Yt(c.Ref),h))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function Wj(n,e){var t={};return t.Hidden=n.read_shift(4),t.iTabID=n.read_shift(4),t.strRelID=H_(n),t.name=Ci(n),t}function Yj(n,e){return e||(e=ve(127)),e.write_shift(4,n.Hidden),e.write_shift(4,n.iTabID),hy(n.strRelID,e),Zn(n.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function Xj(n,e){var t={},i=n.read_shift(4);t.defaultThemeVersion=n.read_shift(4);var r=e>8?Ci(n):"";return r.length>0&&(t.CodeName=r),t.autoCompressPictures=!!(i&65536),t.backupFile=!!(i&64),t.checkCompatibility=!!(i&4096),t.date1904=!!(i&1),t.filterPrivacy=!!(i&8),t.hidePivotFieldList=!!(i&1024),t.promptedSolutions=!!(i&16),t.publishItems=!!(i&2048),t.refreshAllConnections=!!(i&262144),t.saveExternalLinkValues=!!(i&128),t.showBorderUnselectedTables=!!(i&4),t.showInkAnnotation=!!(i&32),t.showObjects=["all","placeholders","none"][i>>13&3],t.showPivotChartFilter=!!(i&32768),t.updateLinks=["userSet","never","always"][i>>8&3],t}function $j(n,e){e||(e=ve(72));var t=0;return n&&n.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),BC(n&&n.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function Kj(n,e,t){var i=n.l+e;n.l+=4,n.l+=1;var r=n.read_shift(4),s=j7(n),o=oz(n,0,t),c=uy(n);n.l=i;var h={Name:s,Ptg:o};return r<268435455&&(h.Sheet=r),c&&(h.Comment=c),h}function Qj(n,e){Re(n,143);for(var t=0;t!=e.SheetNames.length;++t){var i=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,r={Hidden:i,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};Re(n,156,Yj(r))}Re(n,144)}function Zj(n,e){e||(e=ve(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return Zn("SheetJS",e),Zn(Em.version,e),Zn(Em.version,e),Zn("7262",e),e.length>e.l?e.slice(0,e.l):e}function Jj(n,e){e||(e=ve(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,n),e.write_shift(4,n);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function eH(n,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,i=0,r=-1,s=-1;i<t.length;++i)!t[i]||!t[i].Hidden&&r==-1?r=i:t[i].Hidden==1&&s==-1&&(s=i);s>r||(Re(n,135),Re(n,158,Jj(r)),Re(n,136))}}function tH(n,e){var t=Xi();return Re(t,131),Re(t,128,Zj()),Re(t,153,$j(n.Workbook&&n.Workbook.WBProps||null)),eH(t,n),Qj(t,n),Re(t,132),t.end()}function nH(n,e,t){return(e.slice(-4)===".bin"?tH:AR)(n)}function iH(n,e,t,i,r){return(e.slice(-4)===".bin"?Vj:SR)(n,t,i,r)}function rH(n,e,t){return(e.slice(-4)===".bin"?TV:lR)(n,t)}function sH(n,e,t){return(e.slice(-4)===".bin"?$B:rR)(n,t)}function aH(n,e,t){return(e.slice(-4)===".bin"?BV:dR)(n)}function oH(n){return(n.slice(-4)===".bin"?DV:hR)()}function lH(n,e){var t=[];return n.Props&&t.push(rB(n.Props,e)),n.Custprops&&t.push(sB(n.Props,n.Custprops)),t.join("")}function cH(){return""}function uH(n,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(i,r){var s=[];s.push(Pe("NumberFormat",null,{"ss:Format":Yt(En[i.numFmtId])}));var o={"ss:ID":"s"+(21+r)};t.push(Pe("Style",s.join(""),o))}),Pe("Styles",t.join(""))}function CR(n){return Pe("NamedRange",null,{"ss:Name":n.Name,"ss:RefersTo":"="+gy(n.Ref,{r:0,c:0})})}function hH(n){if(!((n||{}).Workbook||{}).Names)return"";for(var e=n.Workbook.Names,t=[],i=0;i<e.length;++i){var r=e[i];r.Sheet==null&&(r.Name.match(/^_xlfn\./)||t.push(CR(r)))}return Pe("Names",t.join(""))}function fH(n,e,t,i){if(!n||!((i||{}).Workbook||{}).Names)return"";for(var r=i.Workbook.Names,s=[],o=0;o<r.length;++o){var c=r[o];c.Sheet==t&&(c.Name.match(/^_xlfn\./)||s.push(CR(c)))}return s.join("")}function dH(n,e,t,i){if(!n)return"";var r=[];if(n["!margins"]&&(r.push("<PageSetup>"),n["!margins"].header&&r.push(Pe("Header",null,{"x:Margin":n["!margins"].header})),n["!margins"].footer&&r.push(Pe("Footer",null,{"x:Margin":n["!margins"].footer})),r.push(Pe("PageMargins",null,{"x:Bottom":n["!margins"].bottom||"0.75","x:Left":n["!margins"].left||"0.7","x:Right":n["!margins"].right||"0.7","x:Top":n["!margins"].top||"0.75"})),r.push("</PageSetup>")),i&&i.Workbook&&i.Workbook.Sheets&&i.Workbook.Sheets[t])if(i.Workbook.Sheets[t].Hidden)r.push(Pe("Visible",i.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<t&&!(i.Workbook.Sheets[s]&&!i.Workbook.Sheets[s].Hidden);++s);s==t&&r.push("<Selected/>")}return((((i||{}).Workbook||{}).Views||[])[0]||{}).RTL&&r.push("<DisplayRightToLeft/>"),n["!protect"]&&(r.push(fi("ProtectContents","True")),n["!protect"].objects&&r.push(fi("ProtectObjects","True")),n["!protect"].scenarios&&r.push(fi("ProtectScenarios","True")),n["!protect"].selectLockedCells!=null&&!n["!protect"].selectLockedCells?r.push(fi("EnableSelection","NoSelection")):n["!protect"].selectUnlockedCells!=null&&!n["!protect"].selectUnlockedCells&&r.push(fi("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){n["!protect"][o[0]]&&r.push("<"+o[1]+"/>")})),r.length==0?"":Pe("WorksheetOptions",r.join(""),{xmlns:ur.x})}function mH(n){return n.map(function(e){var t=v7(e.t||""),i=Pe("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return Pe("Comment",i,{"ss:Author":e.a})}).join("")}function gH(n,e,t,i,r,s,o){if(!n||n.v==null&&n.f==null)return"";var c={};if(n.f&&(c["ss:Formula"]="="+Yt(gy(n.f,o))),n.F&&n.F.slice(0,e.length)==e){var h=Qn(n.F.slice(e.length+1));c["ss:ArrayRange"]="RC:R"+(h.r==o.r?"":"["+(h.r-o.r)+"]")+"C"+(h.c==o.c?"":"["+(h.c-o.c)+"]")}if(n.l&&n.l.Target&&(c["ss:HRef"]=Yt(n.l.Target),n.l.Tooltip&&(c["x:HRefScreenTip"]=Yt(n.l.Tooltip))),t["!merges"])for(var f=t["!merges"],m=0;m!=f.length;++m)f[m].s.c!=o.c||f[m].s.r!=o.r||(f[m].e.c>f[m].s.c&&(c["ss:MergeAcross"]=f[m].e.c-f[m].s.c),f[m].e.r>f[m].s.r&&(c["ss:MergeDown"]=f[m].e.r-f[m].s.r));var p="",v="";switch(n.t){case"z":if(!i.sheetStubs)return"";break;case"n":p="Number",v=String(n.v);break;case"b":p="Boolean",v=n.v?"1":"0";break;case"e":p="Error",v=jf[n.v];break;case"d":p="DateTime",v=new Date(n.v).toISOString(),n.z==null&&(n.z=n.z||En[14]);break;case"s":p="String",v=_7(n.v||"");break}var x=Fo(i.cellXfs,n,i);c["ss:StyleID"]="s"+(21+x),c["ss:Index"]=o.c+1;var T=n.v!=null?v:"",E=n.t=="z"?"":'<Data ss:Type="'+p+'">'+T+"</Data>";return(n.c||[]).length>0&&(E+=mH(n.c)),Pe("Cell",E,c)}function pH(n,e){var t='<Row ss:Index="'+(n+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=oR(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function _H(n,e,t,i){if(!n["!ref"])return"";var r=un(n["!ref"]),s=n["!merges"]||[],o=0,c=[];n["!cols"]&&n["!cols"].forEach(function(S,C){dy(S);var O=!!S.width,N=yg(C,S),H={"ss:Index":C+1};O&&(H["ss:Width"]=Om(N.width)),S.hidden&&(H["ss:Hidden"]="1"),c.push(Pe("Column",null,H))});for(var h=Array.isArray(n),f=r.s.r;f<=r.e.r;++f){for(var m=[pH(f,(n["!rows"]||[])[f])],p=r.s.c;p<=r.e.c;++p){var v=!1;for(o=0;o!=s.length;++o)if(!(s[o].s.c>p)&&!(s[o].s.r>f)&&!(s[o].e.c<p)&&!(s[o].e.r<f)){(s[o].s.c!=p||s[o].s.r!=f)&&(v=!0);break}if(!v){var x={r:f,c:p},T=Xt(x),E=h?(n[f]||[])[p]:n[T];m.push(gH(E,T,n,e,t,i,x))}}m.push("</Row>"),m.length>2&&c.push(m.join(""))}return c.join("")}function vH(n,e,t){var i=[],r=t.SheetNames[n],s=t.Sheets[r],o=s?fH(s,e,n,t):"";return o.length>0&&i.push("<Names>"+o+"</Names>"),o=s?_H(s,e,n,t):"",o.length>0&&i.push("<Table>"+o+"</Table>"),i.push(dH(s,e,n,t)),i.join("")}function yH(n,e){e||(e={}),n.SSF||(n.SSF=Ki(En)),n.SSF&&(mg(),dg(n.SSF),e.revssf=gg(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF,e.cellXfs=[],Fo(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(lH(n,e)),t.push(cH()),t.push(""),t.push("");for(var i=0;i<n.SheetNames.length;++i)t.push(Pe("Worksheet",vH(i,e,n),{"ss:Name":Yt(n.SheetNames[i])}));return t[2]=uH(n,e),t[3]=hH(n),Bn+Pe("Workbook",t.join(""),{xmlns:ur.ss,"xmlns:o":ur.o,"xmlns:x":ur.x,"xmlns:ss":ur.ss,"xmlns:dt":ur.dt,"xmlns:html":ur.html})}var X1={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function xH(n,e){var t=[],i=[],r=[],s=0,o,c=Tw(Pw,"n"),h=Tw(Fw,"n");if(n.Props)for(o=gi(n.Props),s=0;s<o.length;++s)(Object.prototype.hasOwnProperty.call(c,o[s])?t:Object.prototype.hasOwnProperty.call(h,o[s])?i:r).push([o[s],n.Props[o[s]]]);if(n.Custprops)for(o=gi(n.Custprops),s=0;s<o.length;++s)Object.prototype.hasOwnProperty.call(n.Props||{},o[s])||(Object.prototype.hasOwnProperty.call(c,o[s])?t:Object.prototype.hasOwnProperty.call(h,o[s])?i:r).push([o[s],n.Custprops[o[s]]]);var f=[];for(s=0;s<r.length;++s)QC.indexOf(r[s][0])>-1||XC.indexOf(r[s][0])>-1||r[s][1]!=null&&f.push(r[s]);i.length&&Jt.utils.cfb_add(e,"/SummaryInformation",zw(i,X1.SI,h,Fw)),(t.length||f.length)&&Jt.utils.cfb_add(e,"/DocumentSummaryInformation",zw(t,X1.DSI,c,Pw,f.length?f:null,X1.UDI))}function EH(n,e){var t=e||{},i=Jt.utils.cfb_new({root:"R"}),r="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":r="/Workbook",t.biff=8;break;case"biff5":r="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return Jt.utils.cfb_add(i,r,RR(n,t)),t.biff==8&&(n.Props||n.Custprops)&&xH(n,i),t.biff==8&&n.vbaraw&&VV(i,Jt.read(n.vbaraw,{type:typeof n.vbaraw=="string"?"binary":"buffer"})),i}var TH={0:{f:bz},1:{f:Mz},2:{f:Jz},3:{f:zz},4:{f:Lz},5:{f:$z},6:{f:rj},7:{f:Gz},8:{f:hj},9:{f:uj},10:{f:lj},11:{f:cj},12:{f:Pz},13:{f:tj},14:{f:Hz},15:{f:Vz},16:{f:Qz},17:{f:aj},18:{f:Yz},19:{f:cy},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Kj},40:{},42:{},43:{f:rV},44:{f:nV},45:{f:oV},46:{f:cV},47:{f:lV},48:{},49:{f:P7},50:{},51:{f:bV},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:FB},62:{f:ij},63:{f:OV},64:{f:Cj},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ds,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Sj},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Oz},148:{f:Rz,p:16},151:{f:_j},152:{},153:{f:Xj},154:{},155:{},156:{f:Wj},157:{},158:{},159:{T:1,f:WB},160:{T:-1},161:{T:1,f:zl},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:fj},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:SV},336:{T:-1},337:{f:RV,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:H_},357:{},358:{},359:{},360:{T:1},361:{},362:{f:DB},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:vj},427:{f:yj},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Ej},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Dz},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:gj},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:H_},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:FV},633:{T:1},634:{T:-1},635:{T:1,f:kV},636:{T:-1},637:{f:V7},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Uj},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Rj},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Fe(n,e,t,i){var r=e;if(!isNaN(r)){var s=i||(t||[]).length||0,o=n.next(4);o.write_shift(2,r),o.write_shift(2,s),s>0&&ay(t)&&n.push(t)}}function SH(n,e,t,i){var r=(t||[]).length||0;if(r<=8224)return Fe(n,e,t,r);var s=e;if(!isNaN(s)){for(var o=t.parts||[],c=0,h=0,f=0;f+(o[c]||8224)<=8224;)f+=o[c]||8224,c++;var m=n.next(4);for(m.write_shift(2,s),m.write_shift(2,f),n.push(t.slice(h,h+f)),h+=f;h<r;){for(m=n.next(4),m.write_shift(2,60),f=0;f+(o[c]||8224)<=8224;)f+=o[c]||8224,c++;m.write_shift(2,f),n.push(t.slice(h,h+f)),h+=f}}}function qf(n,e,t){return n||(n=ve(7)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,0),n.write_shift(1,0),n}function wH(n,e,t,i){var r=ve(9);return qf(r,n,e),JC(t,i||"b",r),r}function bH(n,e,t){var i=ve(8+2*t.length);return qf(i,n,e),i.write_shift(1,t.length),i.write_shift(t.length,t,"sbcs"),i.l<i.length?i.slice(0,i.l):i}function AH(n,e,t,i){if(e.v!=null)switch(e.t){case"d":case"n":var r=e.t=="d"?$i(Pi(e.v)):e.v;r==(r|0)&&r>=0&&r<65536?Fe(n,2,UB(t,i,r)):Fe(n,3,VB(t,i,r));return;case"b":case"e":Fe(n,5,wH(t,i,e.v,e.t));return;case"s":case"str":Fe(n,4,bH(t,i,(e.v||"").slice(0,255)));return}Fe(n,1,qf(null,t,i))}function CH(n,e,t,i){var r=Array.isArray(e),s=un(e["!ref"]||"A1"),o,c="",h=[];if(s.e.c>255||s.e.r>16383){if(i.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),o=Ln(s)}for(var f=s.s.r;f<=s.e.r;++f){c=di(f);for(var m=s.s.c;m<=s.e.c;++m){f===s.s.r&&(h[m]=Ai(m)),o=h[m]+c;var p=r?(e[f]||[])[m]:e[o];p&&AH(n,p,f,m)}}}function RH(n,e){for(var t=e||{},i=Xi(),r=0,s=0;s<n.SheetNames.length;++s)n.SheetNames[s]==t.sheet&&(r=s);if(r==0&&t.sheet&&n.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return Fe(i,t.biff==4?1033:t.biff==3?521:9,fy(n,16,t)),CH(i,n.Sheets[n.SheetNames[r]],r,t),Fe(i,10),i.end()}function IH(n,e,t){Fe(n,49,TB({sz:12,name:"Arial"},t))}function DH(n,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var r=i[0];r<=i[1];++r)e[r]!=null&&Fe(n,1054,bB(r,e[r],t))})}function OH(n,e){var t=ve(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),Fe(n,2151,t),t=ve(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),nR(un(e["!ref"]||"A1"),t),t.write_shift(4,4),Fe(n,2152,t)}function NH(n,e){for(var t=0;t<16;++t)Fe(n,224,Hw({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(i){Fe(n,224,Hw(i,0,e))})}function MH(n,e){for(var t=0;t<e["!links"].length;++t){var i=e["!links"][t];Fe(n,440,MB(i)),i[1].Tooltip&&Fe(n,2048,kB(i))}delete e["!links"]}function kH(n,e){if(e){var t=0;e.forEach(function(i,r){++t<=256&&i&&Fe(n,125,LB(yg(r,i),r))})}}function PH(n,e,t,i,r){var s=16+Fo(r.cellXfs,e,r);if(e.v==null&&!e.bf){Fe(n,513,Il(t,i,s));return}if(e.bf)Fe(n,6,sz(e,t,i,r,s));else switch(e.t){case"d":case"n":var o=e.t=="d"?$i(Pi(e.v)):e.v;Fe(n,515,IB(t,i,o,s));break;case"b":case"e":Fe(n,517,RB(t,i,e.v,s,r,e.t));break;case"s":case"str":if(r.bookSST){var c=_y(r.Strings,e.v,r.revStrings);Fe(n,253,SB(t,i,c,s))}else Fe(n,516,wB(t,i,(e.v||"").slice(0,255),s,r));break;default:Fe(n,513,Il(t,i,s))}}function FH(n,e,t){var i=Xi(),r=t.SheetNames[n],s=t.Sheets[r]||{},o=(t||{}).Workbook||{},c=(o.Sheets||[])[n]||{},h=Array.isArray(s),f=e.biff==8,m,p="",v=[],x=un(s["!ref"]||"A1"),T=f?65536:16384;if(x.e.c>255||x.e.r>=T){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");x.e.c=Math.min(x.e.c,255),x.e.r=Math.min(x.e.c,T-1)}Fe(i,2057,fy(t,16,e)),Fe(i,13,Ir(1)),Fe(i,12,Ir(100)),Fe(i,15,ki(!0)),Fe(i,17,ki(!1)),Fe(i,16,Rl(.001)),Fe(i,95,ki(!0)),Fe(i,42,ki(!1)),Fe(i,43,ki(!1)),Fe(i,130,Ir(1)),Fe(i,128,CB()),Fe(i,131,ki(!1)),Fe(i,132,ki(!1)),f&&kH(i,s["!cols"]),Fe(i,512,AB(x,e)),f&&(s["!links"]=[]);for(var E=x.s.r;E<=x.e.r;++E){p=di(E);for(var S=x.s.c;S<=x.e.c;++S){E===x.s.r&&(v[S]=Ai(S)),m=v[S]+p;var C=h?(s[E]||[])[S]:s[m];C&&(PH(i,C,E,S,e),f&&C.l&&s["!links"].push([m,C.l]))}}var O=c.CodeName||c.name||r;return f&&Fe(i,574,EB((o.Views||[])[0])),f&&(s["!merges"]||[]).length&&Fe(i,229,NB(s["!merges"])),f&&MH(i,s),Fe(i,442,tR(O)),f&&OH(i,s),Fe(i,10),i.end()}function LH(n,e,t){var i=Xi(),r=(n||{}).Workbook||{},s=r.Sheets||[],o=r.WBProps||{},c=t.biff==8,h=t.biff==5;if(Fe(i,2057,fy(n,5,t)),t.bookType=="xla"&&Fe(i,135),Fe(i,225,c?Ir(1200):null),Fe(i,193,lB(2)),h&&Fe(i,191),h&&Fe(i,192),Fe(i,226),Fe(i,92,_B("SheetJS",t)),Fe(i,66,Ir(c?1200:1252)),c&&Fe(i,353,Ir(0)),c&&Fe(i,448),Fe(i,317,BB(n.SheetNames.length)),c&&n.vbaraw&&Fe(i,211),c&&n.vbaraw){var f=o.CodeName||"ThisWorkbook";Fe(i,442,tR(f))}Fe(i,156,Ir(17)),Fe(i,25,ki(!1)),Fe(i,18,ki(!1)),Fe(i,19,Ir(0)),c&&Fe(i,431,ki(!1)),c&&Fe(i,444,Ir(0)),Fe(i,61,xB()),Fe(i,64,ki(!1)),Fe(i,141,Ir(0)),Fe(i,34,ki(jj(n)=="true")),Fe(i,14,ki(!0)),c&&Fe(i,439,ki(!1)),Fe(i,218,Ir(0)),IH(i,n,t),DH(i,n.SSF,t),NH(i,t),c&&Fe(i,352,ki(!1));var m=i.end(),p=Xi();c&&Fe(p,140,PB()),c&&t.Strings&&SH(p,252,yB(t.Strings)),Fe(p,10);var v=p.end(),x=Xi(),T=0,E=0;for(E=0;E<n.SheetNames.length;++E)T+=(c?12:11)+(c?2:1)*n.SheetNames[E].length;var S=m.length+T+v.length;for(E=0;E<n.SheetNames.length;++E){var C=s[E]||{};Fe(x,133,vB({pos:S,hs:C.Hidden||0,dt:0,name:n.SheetNames[E]},t)),S+=e[E].length}var O=x.end();if(T!=O.length)throw new Error("BS8 "+T+" != "+O.length);var N=[];return m.length&&N.push(m),O.length&&N.push(O),v.length&&N.push(v),hi(N)}function BH(n,e){var t=e||{},i=[];n&&!n.SSF&&(n.SSF=Ki(En)),n&&n.SSF&&(mg(),dg(n.SSF),t.revssf=gg(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,vy(t),t.cellXfs=[],Fo(t.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={});for(var r=0;r<n.SheetNames.length;++r)i[i.length]=FH(r,t,n);return i.unshift(LH(n,i,t)),hi(i)}function RR(n,e){for(var t=0;t<=n.SheetNames.length;++t){var i=n.Sheets[n.SheetNames[t]];if(!(!i||!i["!ref"])){var r=dr(i["!ref"]);r.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+n.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return BH(n,e);case 4:case 3:case 2:return RH(n,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function VH(n,e,t,i){for(var r=n["!merges"]||[],s=[],o=e.s.c;o<=e.e.c;++o){for(var c=0,h=0,f=0;f<r.length;++f)if(!(r[f].s.r>t||r[f].s.c>o)&&!(r[f].e.r<t||r[f].e.c<o)){if(r[f].s.r<t||r[f].s.c<o){c=-1;break}c=r[f].e.r-r[f].s.r+1,h=r[f].e.c-r[f].s.c+1;break}if(!(c<0)){var m=Xt({r:t,c:o}),p=i.dense?(n[t]||[])[o]:n[m],v=p&&p.v!=null&&(p.h||p7(p.w||(xa(p),p.w)||""))||"",x={};c>1&&(x.rowspan=c),h>1&&(x.colspan=h),i.editable?v='<span contenteditable="true">'+v+"</span>":p&&(x["data-t"]=p&&p.t||"z",p.v!=null&&(x["data-v"]=p.v),p.z!=null&&(x["data-z"]=p.z),p.l&&(p.l.Target||"#").charAt(0)!="#"&&(v='<a href="'+p.l.Target+'">'+v+"</a>")),x.id=(i.id||"sjs")+"-"+m,s.push(Pe("td",v,x))}}var T="<tr>";return T+s.join("")+"</tr>"}var UH='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',zH="</body></html>";function jH(n,e,t){var i=[];return i.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function IR(n,e){var t=e||{},i=t.header!=null?t.header:UH,r=t.footer!=null?t.footer:zH,s=[i],o=dr(n["!ref"]);t.dense=Array.isArray(n),s.push(jH(n,o,t));for(var c=o.s.r;c<=o.e.r;++c)s.push(VH(n,o,c,t));return s.push("</table>"+r),s.join("")}function DR(n,e,t){var i=t||{},r=0,s=0;if(i.origin!=null)if(typeof i.origin=="number")r=i.origin;else{var o=typeof i.origin=="string"?Qn(i.origin):i.origin;r=o.r,s=o.c}var c=e.getElementsByTagName("tr"),h=Math.min(i.sheetRows||1e7,c.length),f={s:{r:0,c:0},e:{r,c:s}};if(n["!ref"]){var m=dr(n["!ref"]);f.s.r=Math.min(f.s.r,m.s.r),f.s.c=Math.min(f.s.c,m.s.c),f.e.r=Math.max(f.e.r,m.e.r),f.e.c=Math.max(f.e.c,m.e.c),r==-1&&(f.e.r=r=m.e.r+1)}var p=[],v=0,x=n["!rows"]||(n["!rows"]=[]),T=0,E=0,S=0,C=0,O=0,N=0;for(n["!cols"]||(n["!cols"]=[]);T<c.length&&E<h;++T){var H=c[T];if(Kw(H)){if(i.display)continue;x[E]={hidden:!0}}var Y=H.children;for(S=C=0;S<Y.length;++S){var te=Y[S];if(!(i.display&&Kw(te))){var A=te.hasAttribute("data-v")?te.getAttribute("data-v"):te.hasAttribute("v")?te.getAttribute("v"):x7(te.innerHTML),D=te.getAttribute("data-z")||te.getAttribute("z");for(v=0;v<p.length;++v){var I=p[v];I.s.c==C+s&&I.s.r<E+r&&E+r<=I.e.r&&(C=I.e.c+1-s,v=-1)}N=+te.getAttribute("colspan")||1,((O=+te.getAttribute("rowspan")||1)>1||N>1)&&p.push({s:{r:E+r,c:C+s},e:{r:E+r+(O||1)-1,c:C+s+(N||1)-1}});var P={t:"s",v:A},M=te.getAttribute("data-t")||te.getAttribute("t")||"";A!=null&&(A.length==0?P.t=M||"z":i.raw||A.trim().length==0||M=="s"||(A==="TRUE"?P={t:"b",v:!0}:A==="FALSE"?P={t:"b",v:!1}:isNaN(ha(A))?isNaN(hf(A).getDate())||(P={t:"d",v:Pi(A)},i.cellDates||(P={t:"n",v:$i(P.v)}),P.z=i.dateNF||En[14]):P={t:"n",v:ha(A)})),P.z===void 0&&D!=null&&(P.z=D);var B="",F=te.getElementsByTagName("A");if(F&&F.length)for(var Te=0;Te<F.length&&!(F[Te].hasAttribute("href")&&(B=F[Te].getAttribute("href"),B.charAt(0)!="#"));++Te);B&&B.charAt(0)!="#"&&(P.l={Target:B}),i.dense?(n[E+r]||(n[E+r]=[]),n[E+r][C+s]=P):n[Xt({c:C+s,r:E+r})]=P,f.e.c<C+s&&(f.e.c=C+s),C+=N}}++E}return p.length&&(n["!merges"]=(n["!merges"]||[]).concat(p)),f.e.r=Math.max(f.e.r,E-1+r),n["!ref"]=Ln(f),E>=h&&(n["!fullref"]=Ln((f.e.r=c.length-T+E-1+r,f))),n}function OR(n,e){var t=e||{},i=t.dense?[]:{};return DR(i,n,e)}function HH(n,e){return Ll(OR(n,e),e)}function Kw(n){var e="",t=qH(n);return t&&(e=t(n).getPropertyValue("display")),e||(e=n.style&&n.style.display),e==="none"}function qH(n){return n.ownerDocument.defaultView&&typeof n.ownerDocument.defaultView.getComputedStyle=="function"?n.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var GH=(function(){var n=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+df({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+n+"</office:document-styles>";return function(){return Bn+e}})(),Qw=(function(){var n=function(s){return Yt(s).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,i=function(s,o,c){var h=[];h.push('      <table:table table:name="'+Yt(o.SheetNames[c])+`" table:style-name="ta1">
`);var f=0,m=0,p=dr(s["!ref"]||"A1"),v=s["!merges"]||[],x=0,T=Array.isArray(s);if(s["!cols"])for(m=0;m<=p.e.c;++m)h.push("        <table:table-column"+(s["!cols"][m]?' table:style-name="co'+s["!cols"][m].ods+'"':"")+`></table:table-column>
`);var E="",S=s["!rows"]||[];for(f=0;f<p.s.r;++f)E=S[f]?' table:style-name="ro'+S[f].ods+'"':"",h.push("        <table:table-row"+E+`></table:table-row>
`);for(;f<=p.e.r;++f){for(E=S[f]?' table:style-name="ro'+S[f].ods+'"':"",h.push("        <table:table-row"+E+`>
`),m=0;m<p.s.c;++m)h.push(e);for(;m<=p.e.c;++m){var C=!1,O={},N="";for(x=0;x!=v.length;++x)if(!(v[x].s.c>m)&&!(v[x].s.r>f)&&!(v[x].e.c<m)&&!(v[x].e.r<f)){(v[x].s.c!=m||v[x].s.r!=f)&&(C=!0),O["table:number-columns-spanned"]=v[x].e.c-v[x].s.c+1,O["table:number-rows-spanned"]=v[x].e.r-v[x].s.r+1;break}if(C){h.push(t);continue}var H=Xt({r:f,c:m}),Y=T?(s[f]||[])[m]:s[H];if(Y&&Y.f&&(O["table:formula"]=Yt(hz(Y.f)),Y.F&&Y.F.slice(0,H.length)==H)){var te=dr(Y.F);O["table:number-matrix-columns-spanned"]=te.e.c-te.s.c+1,O["table:number-matrix-rows-spanned"]=te.e.r-te.s.r+1}if(!Y){h.push(e);continue}switch(Y.t){case"b":N=Y.v?"TRUE":"FALSE",O["office:value-type"]="boolean",O["office:boolean-value"]=Y.v?"true":"false";break;case"n":N=Y.w||String(Y.v||0),O["office:value-type"]="float",O["office:value"]=Y.v||0;break;case"s":case"str":N=Y.v==null?"":Y.v,O["office:value-type"]="string";break;case"d":N=Y.w||Pi(Y.v).toISOString(),O["office:value-type"]="date",O["office:date-value"]=Pi(Y.v).toISOString(),O["table:style-name"]="ce1";break;default:h.push(e);continue}var A=n(N);if(Y.l&&Y.l.Target){var D=Y.l.Target;D=D.charAt(0)=="#"?"#"+fz(D.slice(1)):D,D.charAt(0)!="#"&&!D.match(/^\w+:/)&&(D="../"+D),A=Pe("text:a",A,{"xlink:href":D.replace(/&/g,"&amp;")})}h.push("          "+Pe("table:table-cell",Pe("text:p",A,{}),O)+`
`)}h.push(`        </table:table-row>
`)}return h.push(`      </table:table>
`),h.join("")},r=function(s,o){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var c=0;o.SheetNames.map(function(f){return o.Sheets[f]}).forEach(function(f){if(f&&f["!cols"]){for(var m=0;m<f["!cols"].length;++m)if(f["!cols"][m]){var p=f["!cols"][m];if(p.width==null&&p.wpx==null&&p.wch==null)continue;dy(p),p.ods=c;var v=f["!cols"][m].wpx+"px";s.push('  <style:style style:name="co'+c+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+v+`"/>
`),s.push(`  </style:style>
`),++c}}});var h=0;o.SheetNames.map(function(f){return o.Sheets[f]}).forEach(function(f){if(f&&f["!rows"]){for(var m=0;m<f["!rows"].length;++m)if(f["!rows"][m]){f["!rows"][m].ods=h;var p=f["!rows"][m].hpx+"px";s.push('  <style:style style:name="ro'+h+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+p+`"/>
`),s.push(`  </style:style>
`),++h}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(o,c){var h=[Bn],f=df({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),m=df({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});c.bookType=="fods"?(h.push("<office:document"+f+m+`>
`),h.push(WC().replace(/office:document-meta/g,"office:meta"))):h.push("<office:document-content"+f+`>
`),r(h,o),h.push(`  <office:body>
`),h.push(`    <office:spreadsheet>
`);for(var p=0;p!=o.SheetNames.length;++p)h.push(i(o.Sheets[o.SheetNames[p]],o,p));return h.push(`    </office:spreadsheet>
`),h.push(`  </office:body>
`),c.bookType=="fods"?h.push("</office:document>"):h.push("</office:document-content>"),h.join("")}})();function NR(n,e){if(e.bookType=="fods")return Qw(n,e);var t=ny(),i="",r=[],s=[];return i="mimetype",ht(t,i,"application/vnd.oasis.opendocument.spreadsheet"),i="content.xml",ht(t,i,Qw(n,e)),r.push([i,"text/xml"]),s.push([i,"ContentFile"]),i="styles.xml",ht(t,i,GH(n,e)),r.push([i,"text/xml"]),s.push([i,"StylesFile"]),i="meta.xml",ht(t,i,Bn+WC()),r.push([i,"text/xml"]),s.push([i,"MetadataFile"]),i="manifest.rdf",ht(t,i,iB(s)),r.push([i,"application/rdf+xml"]),i="META-INF/manifest.xml",ht(t,i,tB(r)),t}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function km(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function WH(n){return typeof TextEncoder<"u"?new TextEncoder().encode(n):$r(ff(n))}function YH(n,e){e:for(var t=0;t<=n.length-e.length;++t){for(var i=0;i<e.length;++i)if(n[t+i]!=e[i])continue e;return!0}return!1}function No(n){var e=n.reduce(function(r,s){return r+s.length},0),t=new Uint8Array(e),i=0;return n.forEach(function(r){t.set(r,i),i+=r.length}),t}function XH(n,e,t){var i=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,r=t/Math.pow(10,i-6176);n[e+15]|=i>>7,n[e+14]|=(i&127)<<1;for(var s=0;r>=1;++s,r/=256)n[e+s]=r&255;n[e+15]|=t>=0?0:128}function mf(n,e){var t=e?e[0]:0,i=n[t]&127;e:if(n[t++]>=128&&(i|=(n[t]&127)<<7,n[t++]<128||(i|=(n[t]&127)<<14,n[t++]<128)||(i|=(n[t]&127)<<21,n[t++]<128)||(i+=(n[t]&127)*Math.pow(2,28),++t,n[t++]<128)||(i+=(n[t]&127)*Math.pow(2,35),++t,n[t++]<128)||(i+=(n[t]&127)*Math.pow(2,42),++t,n[t++]<128)))break e;return e&&(e[0]=t),i}function Ht(n){var e=new Uint8Array(7);e[0]=n&127;var t=1;e:if(n>127){if(e[t-1]|=128,e[t]=n>>7&127,++t,n<=16383||(e[t-1]|=128,e[t]=n>>14&127,++t,n<=2097151)||(e[t-1]|=128,e[t]=n>>21&127,++t,n<=268435455)||(e[t-1]|=128,e[t]=n/256>>>21&127,++t,n<=34359738367)||(e[t-1]|=128,e[t]=n/65536>>>21&127,++t,n<=4398046511103))break e;e[t-1]|=128,e[t]=n/16777216>>>21&127,++t}return e.slice(0,t)}function Kc(n){var e=0,t=n[e]&127;e:if(n[e++]>=128){if(t|=(n[e]&127)<<7,n[e++]<128||(t|=(n[e]&127)<<14,n[e++]<128)||(t|=(n[e]&127)<<21,n[e++]<128))break e;t|=(n[e]&127)<<28}return t}function Un(n){for(var e=[],t=[0];t[0]<n.length;){var i=t[0],r=mf(n,t),s=r&7;r=Math.floor(r/8);var o=0,c;if(r==0)break;switch(s){case 0:{for(var h=t[0];n[t[0]++]>=128;);c=n.slice(h,t[0])}break;case 5:o=4,c=n.slice(t[0],t[0]+o),t[0]+=o;break;case 1:o=8,c=n.slice(t[0],t[0]+o),t[0]+=o;break;case 2:o=mf(n,t),c=n.slice(t[0],t[0]+o),t[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(r," at offset ").concat(i))}var f={data:c,type:s};e[r]==null?e[r]=[f]:e[r].push(f)}return e}function oi(n){var e=[];return n.forEach(function(t,i){t.forEach(function(r){r.data&&(e.push(Ht(i*8+r.type)),r.type==2&&e.push(Ht(r.data.length)),e.push(r.data))})}),No(e)}function Wr(n){for(var e,t=[],i=[0];i[0]<n.length;){var r=mf(n,i),s=Un(n.slice(i[0],i[0]+r));i[0]+=r;var o={id:Kc(s[1][0].data),messages:[]};s[2].forEach(function(c){var h=Un(c.data),f=Kc(h[3][0].data);o.messages.push({meta:h,data:n.slice(i[0],i[0]+f)}),i[0]+=f}),(e=s[3])!=null&&e[0]&&(o.merge=Kc(s[3][0].data)>>>0>0),t.push(o)}return t}function Ic(n){var e=[];return n.forEach(function(t){var i=[];i[1]=[{data:Ht(t.id),type:0}],i[2]=[],t.merge!=null&&(i[3]=[{data:Ht(+!!t.merge),type:0}]);var r=[];t.messages.forEach(function(o){r.push(o.data),o.meta[3]=[{type:0,data:Ht(o.data.length)}],i[2].push({data:oi(o.meta),type:2})});var s=oi(i);e.push(Ht(s.length)),e.push(s),r.forEach(function(o){return e.push(o)})}),No(e)}function $H(n,e){if(n!=0)throw new Error("Unexpected Snappy chunk type ".concat(n));for(var t=[0],i=mf(e,t),r=[];t[0]<e.length;){var s=e[t[0]]&3;if(s==0){var o=e[t[0]++]>>2;if(o<60)++o;else{var c=o-59;o=e[t[0]],c>1&&(o|=e[t[0]+1]<<8),c>2&&(o|=e[t[0]+2]<<16),c>3&&(o|=e[t[0]+3]<<24),o>>>=0,o++,t[0]+=c}r.push(e.slice(t[0],t[0]+o)),t[0]+=o;continue}else{var h=0,f=0;if(s==1?(f=(e[t[0]]>>2&7)+4,h=(e[t[0]++]&224)<<3,h|=e[t[0]++]):(f=(e[t[0]++]>>2)+1,s==2?(h=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(h=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),r=[No(r)],h==0)throw new Error("Invalid offset 0");if(h>r[0].length)throw new Error("Invalid offset beyond length");if(f>=h)for(r.push(r[0].slice(-h)),f-=h;f>=r[r.length-1].length;)r.push(r[r.length-1]),f-=r[r.length-1].length;r.push(r[0].slice(-h,-h+f))}}var m=No(r);if(m.length!=i)throw new Error("Unexpected length: ".concat(m.length," != ").concat(i));return m}function Yr(n){for(var e=[],t=0;t<n.length;){var i=n[t++],r=n[t]|n[t+1]<<8|n[t+2]<<16;t+=3,e.push($H(i,n.slice(t,t+r))),t+=r}if(t!==n.length)throw new Error("data is not a valid framed stream!");return No(e)}function Dc(n){for(var e=[],t=0;t<n.length;){var i=Math.min(n.length-t,268435455),r=new Uint8Array(4);e.push(r);var s=Ht(i),o=s.length;e.push(s),i<=60?(o++,e.push(new Uint8Array([i-1<<2]))):i<=256?(o+=2,e.push(new Uint8Array([240,i-1&255]))):i<=65536?(o+=3,e.push(new Uint8Array([244,i-1&255,i-1>>8&255]))):i<=16777216?(o+=4,e.push(new Uint8Array([248,i-1&255,i-1>>8&255,i-1>>16&255]))):i<=4294967296&&(o+=5,e.push(new Uint8Array([252,i-1&255,i-1>>8&255,i-1>>16&255,i-1>>>24&255]))),e.push(n.slice(t,t+i)),o+=i,r[0]=0,r[1]=o&255,r[2]=o>>8&255,r[3]=o>>16&255,t+=i}return No(e)}function $1(n,e){var t=new Uint8Array(32),i=km(t),r=12,s=0;switch(t[0]=5,n.t){case"n":t[1]=2,XH(t,r,n.v),s|=1,r+=16;break;case"b":t[1]=6,i.setFloat64(r,n.v?1:0,!0),s|=2,r+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[1]=3,i.setUint32(r,e.indexOf(n.v),!0),s|=8,r+=4;break;default:throw"unsupported cell type "+n.t}return i.setUint32(8,s,!0),t.slice(0,r)}function K1(n,e){var t=new Uint8Array(32),i=km(t),r=12,s=0;switch(t[0]=3,n.t){case"n":t[2]=2,i.setFloat64(r,n.v,!0),s|=32,r+=8;break;case"b":t[2]=6,i.setFloat64(r,n.v?1:0,!0),s|=32,r+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[2]=3,i.setUint32(r,e.indexOf(n.v),!0),s|=16,r+=4;break;default:throw"unsupported cell type "+n.t}return i.setUint32(4,s,!0),t.slice(0,r)}function so(n){var e=Un(n);return mf(e[1][0].data)}function KH(n,e,t){var i,r,s,o;if(!((i=n[6])!=null&&i[0])||!((r=n[7])!=null&&r[0]))throw"Mutation only works on post-BNC storages!";var c=((o=(s=n[8])==null?void 0:s[0])==null?void 0:o.data)&&Kc(n[8][0].data)>0||!1;if(c)throw"Math only works with normal offsets";for(var h=0,f=km(n[7][0].data),m=0,p=[],v=km(n[4][0].data),x=0,T=[],E=0;E<e.length;++E){if(e[E]==null){f.setUint16(E*2,65535,!0),v.setUint16(E*2,65535);continue}f.setUint16(E*2,m,!0),v.setUint16(E*2,x,!0);var S,C;switch(typeof e[E]){case"string":S=$1({t:"s",v:e[E]},t),C=K1({t:"s",v:e[E]},t);break;case"number":S=$1({t:"n",v:e[E]},t),C=K1({t:"n",v:e[E]},t);break;case"boolean":S=$1({t:"b",v:e[E]},t),C=K1({t:"b",v:e[E]},t);break;default:throw new Error("Unsupported value "+e[E])}p.push(S),m+=S.length,T.push(C),x+=C.length,++h}for(n[2][0].data=Ht(h);E<n[7][0].data.length/2;++E)f.setUint16(E*2,65535,!0),v.setUint16(E*2,65535,!0);return n[6][0].data=No(p),n[3][0].data=No(T),h}function QH(n,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=n.Sheets[n.SheetNames[0]];n.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var i=dr(t["!ref"]);i.s.r=i.s.c=0;var r=!1;i.e.c>9&&(r=!0,i.e.c=9),i.e.r>49&&(r=!0,i.e.r=49),r&&console.error("The Numbers writer is currently limited to ".concat(Ln(i)));var s=Pm(t,{range:i,header:1}),o=["~Sh33tJ5~"];s.forEach(function(Z){return Z.forEach(function(K){typeof K=="string"&&o.push(K)})});var c={},h=[],f=Jt.read(e.numbers,{type:"base64"});f.FileIndex.map(function(Z,K){return[Z,f.FullPaths[K]]}).forEach(function(Z){var K=Z[0],Q=Z[1];if(K.type==2&&K.name.match(/\.iwa/)){var fe=K.content,Ne=Yr(fe),je=Wr(Ne);je.forEach(function(ke){h.push(ke.id),c[ke.id]={deps:[],location:Q,type:Kc(ke.messages[0].meta[1][0].data)}})}}),h.sort(function(Z,K){return Z-K});var m=h.filter(function(Z){return Z>1}).map(function(Z){return[Z,Ht(Z)]});f.FileIndex.map(function(Z,K){return[Z,f.FullPaths[K]]}).forEach(function(Z){var K=Z[0];if(Z[1],!!K.name.match(/\.iwa/)){var Q=Wr(Yr(K.content));Q.forEach(function(fe){fe.messages.forEach(function(Ne){m.forEach(function(je){fe.messages.some(function(ke){return Kc(ke.meta[1][0].data)!=11006&&YH(ke.data,je[1])})&&c[je[0]].deps.push(fe.id)})})})}});for(var p=Jt.find(f,c[1].location),v=Wr(Yr(p.content)),x,T=0;T<v.length;++T){var E=v[T];E.id==1&&(x=E)}var S=so(Un(x.messages[0].data)[1][0].data);for(p=Jt.find(f,c[S].location),v=Wr(Yr(p.content)),T=0;T<v.length;++T)E=v[T],E.id==S&&(x=E);for(S=so(Un(x.messages[0].data)[2][0].data),p=Jt.find(f,c[S].location),v=Wr(Yr(p.content)),T=0;T<v.length;++T)E=v[T],E.id==S&&(x=E);for(S=so(Un(x.messages[0].data)[2][0].data),p=Jt.find(f,c[S].location),v=Wr(Yr(p.content)),T=0;T<v.length;++T)E=v[T],E.id==S&&(x=E);var C=Un(x.messages[0].data);{C[6][0].data=Ht(i.e.r+1),C[7][0].data=Ht(i.e.c+1);var O=so(C[46][0].data),N=Jt.find(f,c[O].location),H=Wr(Yr(N.content));{for(var Y=0;Y<H.length&&H[Y].id!=O;++Y);if(H[Y].id!=O)throw"Bad ColumnRowUIDMapArchive";var te=Un(H[Y].messages[0].data);te[1]=[],te[2]=[],te[3]=[];for(var A=0;A<=i.e.c;++A){var D=[];D[1]=D[2]=[{type:0,data:Ht(A+420690)}],te[1].push({type:2,data:oi(D)}),te[2].push({type:0,data:Ht(A)}),te[3].push({type:0,data:Ht(A)})}te[4]=[],te[5]=[],te[6]=[];for(var I=0;I<=i.e.r;++I)D=[],D[1]=D[2]=[{type:0,data:Ht(I+726270)}],te[4].push({type:2,data:oi(D)}),te[5].push({type:0,data:Ht(I)}),te[6].push({type:0,data:Ht(I)});H[Y].messages[0].data=oi(te)}N.content=Dc(Ic(H)),N.size=N.content.length,delete C[46];var P=Un(C[4][0].data);{P[7][0].data=Ht(i.e.r+1);var M=Un(P[1][0].data),B=so(M[2][0].data);N=Jt.find(f,c[B].location),H=Wr(Yr(N.content));{if(H[0].id!=B)throw"Bad HeaderStorageBucket";var F=Un(H[0].messages[0].data);for(I=0;I<s.length;++I){var Te=Un(F[2][0].data);Te[1][0].data=Ht(I),Te[4][0].data=Ht(s[I].length),F[2][I]={type:F[2][0].type,data:oi(Te)}}H[0].messages[0].data=oi(F)}N.content=Dc(Ic(H)),N.size=N.content.length;var Oe=so(P[2][0].data);N=Jt.find(f,c[Oe].location),H=Wr(Yr(N.content));{if(H[0].id!=Oe)throw"Bad HeaderStorageBucket";for(F=Un(H[0].messages[0].data),A=0;A<=i.e.c;++A)Te=Un(F[2][0].data),Te[1][0].data=Ht(A),Te[4][0].data=Ht(i.e.r+1),F[2][A]={type:F[2][0].type,data:oi(Te)};H[0].messages[0].data=oi(F)}N.content=Dc(Ic(H)),N.size=N.content.length;var se=so(P[4][0].data);(function(){for(var Z=Jt.find(f,c[se].location),K=Wr(Yr(Z.content)),Q,fe=0;fe<K.length;++fe){var Ne=K[fe];Ne.id==se&&(Q=Ne)}var je=Un(Q.messages[0].data);{je[3]=[];var ke=[];o.forEach(function(ot,At){ke[1]=[{type:0,data:Ht(At)}],ke[2]=[{type:0,data:Ht(1)}],ke[3]=[{type:2,data:WH(ot)}],je[3].push({type:2,data:oi(ke)})})}Q.messages[0].data=oi(je);var Le=Ic(K),pt=Dc(Le);Z.content=pt,Z.size=Z.content.length})();var Ee=Un(P[3][0].data);{var Ue=Ee[1][0];delete Ee[2];var He=Un(Ue.data);{var Je=so(He[2][0].data);(function(){for(var Z=Jt.find(f,c[Je].location),K=Wr(Yr(Z.content)),Q,fe=0;fe<K.length;++fe){var Ne=K[fe];Ne.id==Je&&(Q=Ne)}var je=Un(Q.messages[0].data);{delete je[6],delete Ee[7];var ke=new Uint8Array(je[5][0].data);je[5]=[];for(var Le=0,pt=0;pt<=i.e.r;++pt){var ot=Un(ke);Le+=KH(ot,s[pt],o),ot[1][0].data=Ht(pt),je[5].push({data:oi(ot),type:2})}je[1]=[{type:0,data:Ht(i.e.c+1)}],je[2]=[{type:0,data:Ht(i.e.r+1)}],je[3]=[{type:0,data:Ht(Le)}],je[4]=[{type:0,data:Ht(i.e.r+1)}]}Q.messages[0].data=oi(je);var At=Ic(K),rt=Dc(At);Z.content=rt,Z.size=Z.content.length})()}Ue.data=oi(He)}P[3][0].data=oi(Ee)}C[4][0].data=oi(P)}x.messages[0].data=oi(C);var ee=Ic(v),V=Dc(ee);return p.content=V,p.size=p.content.length,f}function ZH(n){return function(t){for(var i=0;i!=n.length;++i){var r=n[i];t[r[0]]===void 0&&(t[r[0]]=r[1]),r[2]==="n"&&(t[r[0]]=Number(t[r[0]]))}}}function vy(n){ZH([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(n)}function JH(n,e){return e.bookType=="ods"?NR(n,e):e.bookType=="numbers"?QH(n,e):e.bookType=="xlsb"?eq(n,e):tq(n,e)}function eq(n,e){Uc=1024,n&&!n.SSF&&(n.SSF=Ki(En)),n&&n.SSF&&(mg(),dg(n.SSF),e.revssf=gg(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Wh?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",i=mR.indexOf(e.bookType)>-1,r=HC();vy(e=e||{});var s=ny(),o="",c=0;if(e.cellXfs=[],Fo(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),o="docProps/core.xml",ht(s,o,YC(n.Props,e)),r.coreprops.push(o),qt(e.rels,2,o,Dt.CORE_PROPS),o="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var h=[],f=0;f<n.SheetNames.length;++f)(n.Workbook.Sheets[f]||{}).Hidden!=2&&h.push(n.SheetNames[f]);n.Props.SheetNames=h}for(n.Props.Worksheets=n.Props.SheetNames.length,ht(s,o,$C(n.Props)),r.extprops.push(o),qt(e.rels,3,o,Dt.EXT_PROPS),n.Custprops!==n.Props&&gi(n.Custprops||{}).length>0&&(o="docProps/custom.xml",ht(s,o,KC(n.Custprops)),r.custprops.push(o),qt(e.rels,4,o,Dt.CUST_PROPS)),c=1;c<=n.SheetNames.length;++c){var m={"!id":{}},p=n.Sheets[n.SheetNames[c-1]],v=(p||{})["!type"]||"sheet";switch(v){case"chart":default:o="xl/worksheets/sheet"+c+"."+t,ht(s,o,iH(c-1,o,e,n,m)),r.sheets.push(o),qt(e.wbrels,-1,"worksheets/sheet"+c+"."+t,Dt.WS[0])}if(p){var x=p["!comments"],T=!1,E="";x&&x.length>0&&(E="xl/comments"+c+"."+t,ht(s,E,aH(x,E)),r.comments.push(E),qt(m,-1,"../comments"+c+"."+t,Dt.CMNT),T=!0),p["!legacy"]&&T&&ht(s,"xl/drawings/vmlDrawing"+c+".vml",fR(c,p["!comments"])),delete p["!comments"],delete p["!legacy"]}m["!id"].rId1&&ht(s,GC(o),Xc(m))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+t,ht(s,o,sH(e.Strings,o,e)),r.strs.push(o),qt(e.wbrels,-1,"sharedStrings."+t,Dt.SST)),o="xl/workbook."+t,ht(s,o,nH(n,o)),r.workbooks.push(o),qt(e.rels,1,o,Dt.WB),o="xl/theme/theme1.xml",ht(s,o,uR(n.Themes,e)),r.themes.push(o),qt(e.wbrels,-1,"theme/theme1.xml",Dt.THEME),o="xl/styles."+t,ht(s,o,rH(n,o,e)),r.styles.push(o),qt(e.wbrels,-1,"styles."+t,Dt.STY),n.vbaraw&&i&&(o="xl/vbaProject.bin",ht(s,o,n.vbaraw),r.vba.push(o),qt(e.wbrels,-1,"vbaProject.bin",Dt.VBA)),o="xl/metadata."+t,ht(s,o,oH(o)),r.metadata.push(o),qt(e.wbrels,-1,"metadata."+t,Dt.XLMETA),ht(s,"[Content_Types].xml",qC(r,e)),ht(s,"_rels/.rels",Xc(e.rels)),ht(s,"xl/_rels/workbook."+t+".rels",Xc(e.wbrels)),delete e.revssf,delete e.ssf,s}function tq(n,e){Uc=1024,n&&!n.SSF&&(n.SSF=Ki(En)),n&&n.SSF&&(mg(),dg(n.SSF),e.revssf=gg(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Wh?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",i=mR.indexOf(e.bookType)>-1,r=HC();vy(e=e||{});var s=ny(),o="",c=0;if(e.cellXfs=[],Fo(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),o="docProps/core.xml",ht(s,o,YC(n.Props,e)),r.coreprops.push(o),qt(e.rels,2,o,Dt.CORE_PROPS),o="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var h=[],f=0;f<n.SheetNames.length;++f)(n.Workbook.Sheets[f]||{}).Hidden!=2&&h.push(n.SheetNames[f]);n.Props.SheetNames=h}n.Props.Worksheets=n.Props.SheetNames.length,ht(s,o,$C(n.Props)),r.extprops.push(o),qt(e.rels,3,o,Dt.EXT_PROPS),n.Custprops!==n.Props&&gi(n.Custprops||{}).length>0&&(o="docProps/custom.xml",ht(s,o,KC(n.Custprops)),r.custprops.push(o),qt(e.rels,4,o,Dt.CUST_PROPS));var m=["SheetJ5"];for(e.tcid=0,c=1;c<=n.SheetNames.length;++c){var p={"!id":{}},v=n.Sheets[n.SheetNames[c-1]],x=(v||{})["!type"]||"sheet";switch(x){case"chart":default:o="xl/worksheets/sheet"+c+"."+t,ht(s,o,SR(c-1,e,n,p)),r.sheets.push(o),qt(e.wbrels,-1,"worksheets/sheet"+c+"."+t,Dt.WS[0])}if(v){var T=v["!comments"],E=!1,S="";if(T&&T.length>0){var C=!1;T.forEach(function(O){O[1].forEach(function(N){N.T==!0&&(C=!0)})}),C&&(S="xl/threadedComments/threadedComment"+c+"."+t,ht(s,S,NV(T,m,e)),r.threadedcomments.push(S),qt(p,-1,"../threadedComments/threadedComment"+c+"."+t,Dt.TCMNT)),S="xl/comments"+c+"."+t,ht(s,S,dR(T)),r.comments.push(S),qt(p,-1,"../comments"+c+"."+t,Dt.CMNT),E=!0}v["!legacy"]&&E&&ht(s,"xl/drawings/vmlDrawing"+c+".vml",fR(c,v["!comments"])),delete v["!comments"],delete v["!legacy"]}p["!id"].rId1&&ht(s,GC(o),Xc(p))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+t,ht(s,o,rR(e.Strings,e)),r.strs.push(o),qt(e.wbrels,-1,"sharedStrings."+t,Dt.SST)),o="xl/workbook."+t,ht(s,o,AR(n)),r.workbooks.push(o),qt(e.rels,1,o,Dt.WB),o="xl/theme/theme1.xml",ht(s,o,uR(n.Themes,e)),r.themes.push(o),qt(e.wbrels,-1,"theme/theme1.xml",Dt.THEME),o="xl/styles."+t,ht(s,o,lR(n,e)),r.styles.push(o),qt(e.wbrels,-1,"styles."+t,Dt.STY),n.vbaraw&&i&&(o="xl/vbaProject.bin",ht(s,o,n.vbaraw),r.vba.push(o),qt(e.wbrels,-1,"vbaProject.bin",Dt.VBA)),o="xl/metadata."+t,ht(s,o,hR()),r.metadata.push(o),qt(e.wbrels,-1,"metadata."+t,Dt.XLMETA),m.length>1&&(o="xl/persons/person.xml",ht(s,o,MV(m)),r.people.push(o),qt(e.wbrels,-1,"persons/person.xml",Dt.PEOPLE)),ht(s,"[Content_Types].xml",qC(r,e)),ht(s,"_rels/.rels",Xc(e.rels)),ht(s,"xl/_rels/workbook."+t+".rels",Xc(e.wbrels)),delete e.revssf,delete e.ssf,s}function nq(n,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];case"base64":t=ya(n.slice(0,12));break;case"binary":t=n;break;case"array":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function MR(n,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Uf(e.file,Jt.write(n,{type:Mt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Jt.write(n,e)}function iq(n,e){var t=Ki(e||{}),i=JH(n,t);return rq(i,t)}function rq(n,e){var t={},i=Mt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=i;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=i;break;default:throw new Error("Unrecognized type "+e.type)}var r=n.FullPaths?Jt.write(n,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):n.generate(t);if(typeof Deno<"u"&&typeof r=="string"){if(e.type=="binary"||e.type=="base64")return r;r=new Uint8Array(fg(r))}return e.password&&typeof encrypt_agile<"u"?MR(encrypt_agile(r,e.password),e):e.type==="file"?Uf(e.file,r):e.type=="string"?jh(r):r}function sq(n,e){var t=e||{},i=EH(n,t);return MR(i,t)}function _s(n,e,t){t||(t="");var i=t+n;switch(e.type){case"base64":return uf(ff(i));case"binary":return ff(i);case"string":return n;case"file":return Uf(e.file,i,"utf8");case"buffer":return Mt?Sa(i,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(i):_s(i,{type:"binary"}).split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function aq(n,e){switch(e.type){case"base64":return uf(n);case"binary":return n;case"string":return n;case"file":return Uf(e.file,n,"binary");case"buffer":return Mt?Sa(n,"binary"):n.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function b0(n,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",i=0;i<n.length;++i)t+=String.fromCharCode(n[i]);return e.type=="base64"?uf(t):e.type=="string"?jh(t):t;case"file":return Uf(e.file,n);case"buffer":return n;default:throw new Error("Unrecognized type "+e.type)}}function kR(n,e){k9(),Gj(n);var t=Ki(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var i=kR(n,t);return t.type="array",fg(i)}var r=0;if(t.sheet&&(typeof t.sheet=="number"?r=t.sheet:r=n.SheetNames.indexOf(t.sheet),!n.SheetNames[r]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return _s(yH(n,t),t);case"slk":case"sylk":return _s(jB.from_sheet(n.Sheets[n.SheetNames[r]],t),t);case"htm":case"html":return _s(IR(n.Sheets[n.SheetNames[r]],t),t);case"txt":return aq(PR(n.Sheets[n.SheetNames[r]],t),t);case"csv":return _s(yy(n.Sheets[n.SheetNames[r]],t),t,"\uFEFF");case"dif":return _s(HB.from_sheet(n.Sheets[n.SheetNames[r]],t),t);case"dbf":return b0(zB.from_sheet(n.Sheets[n.SheetNames[r]],t),t);case"prn":return _s(qB.from_sheet(n.Sheets[n.SheetNames[r]],t),t);case"rtf":return _s(QB.from_sheet(n.Sheets[n.SheetNames[r]],t),t);case"eth":return _s(iR.from_sheet(n.Sheets[n.SheetNames[r]],t),t);case"fods":return _s(NR(n,t),t);case"wk1":return b0(qw.sheet_to_wk1(n.Sheets[n.SheetNames[r]],t),t);case"wk3":return b0(qw.book_to_wk3(n,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),b0(RR(n,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),sq(n,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return iq(n,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function oq(n){if(!n.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},t=n.file.slice(n.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(n.bookType=t.slice(1)),n.bookType=e[n.bookType]||n.bookType}}function lq(n,e,t){var i={};return i.type="file",i.file=e,oq(i),kR(n,i)}function cq(n,e,t,i,r,s,o,c){var h=di(t),f=c.defval,m=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),p=!0,v=r===1?[]:{};if(r!==1)if(Object.defineProperty)try{Object.defineProperty(v,"__rowNum__",{value:t,enumerable:!1})}catch{v.__rowNum__=t}else v.__rowNum__=t;if(!o||n[t])for(var x=e.s.c;x<=e.e.c;++x){var T=o?n[t][x]:n[i[x]+h];if(T===void 0||T.t===void 0){if(f===void 0)continue;s[x]!=null&&(v[s[x]]=f);continue}var E=T.v;switch(T.t){case"z":if(E==null)break;continue;case"e":E=E==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+T.t)}if(s[x]!=null){if(E==null)if(T.t=="e"&&E===null)v[s[x]]=null;else if(f!==void 0)v[s[x]]=f;else if(m&&E===null)v[s[x]]=null;else continue;else v[s[x]]=m&&(T.t!=="n"||T.t==="n"&&c.rawNumbers!==!1)?E:xa(T,E,c);E!=null&&(p=!1)}}return{row:v,isempty:p}}function Pm(n,e){if(n==null||n["!ref"]==null)return[];var t={t:"n",v:0},i=0,r=1,s=[],o=0,c="",h={s:{r:0,c:0},e:{r:0,c:0}},f=e||{},m=f.range!=null?f.range:n["!ref"];switch(f.header===1?i=1:f.header==="A"?i=2:Array.isArray(f.header)?i=3:f.header==null&&(i=0),typeof m){case"string":h=un(m);break;case"number":h=un(n["!ref"]),h.s.r=m;break;default:h=m}i>0&&(r=0);var p=di(h.s.r),v=[],x=[],T=0,E=0,S=Array.isArray(n),C=h.s.r,O=0,N={};S&&!n[C]&&(n[C]=[]);var H=f.skipHidden&&n["!cols"]||[],Y=f.skipHidden&&n["!rows"]||[];for(O=h.s.c;O<=h.e.c;++O)if(!(H[O]||{}).hidden)switch(v[O]=Ai(O),t=S?n[C][O]:n[v[O]+p],i){case 1:s[O]=O-h.s.c;break;case 2:s[O]=v[O];break;case 3:s[O]=f.header[O-h.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),c=o=xa(t,null,f),E=N[o]||0,!E)N[o]=1;else{do c=o+"_"+E++;while(N[c]);N[o]=E,N[c]=1}s[O]=c}for(C=h.s.r+r;C<=h.e.r;++C)if(!(Y[C]||{}).hidden){var te=cq(n,h,C,v,i,s,S,f);(te.isempty===!1||(i===1?f.blankrows!==!1:f.blankrows))&&(x[T++]=te.row)}return x.length=T,x}var Zw=/"/g;function uq(n,e,t,i,r,s,o,c){for(var h=!0,f=[],m="",p=di(t),v=e.s.c;v<=e.e.c;++v)if(i[v]){var x=c.dense?(n[t]||[])[v]:n[i[v]+p];if(x==null)m="";else if(x.v!=null){h=!1,m=""+(c.rawNumbers&&x.t=="n"?x.v:xa(x,null,c));for(var T=0,E=0;T!==m.length;++T)if((E=m.charCodeAt(T))===r||E===s||E===34||c.forceQuotes){m='"'+m.replace(Zw,'""')+'"';break}m=="ID"&&(m='"ID"')}else x.f!=null&&!x.F?(h=!1,m="="+x.f,m.indexOf(",")>=0&&(m='"'+m.replace(Zw,'""')+'"')):m="";f.push(m)}return c.blankrows===!1&&h?null:f.join(o)}function yy(n,e){var t=[],i=e??{};if(n==null||n["!ref"]==null)return"";var r=un(n["!ref"]),s=i.FS!==void 0?i.FS:",",o=s.charCodeAt(0),c=i.RS!==void 0?i.RS:`
`,h=c.charCodeAt(0),f=new RegExp((s=="|"?"\\|":s)+"+$"),m="",p=[];i.dense=Array.isArray(n);for(var v=i.skipHidden&&n["!cols"]||[],x=i.skipHidden&&n["!rows"]||[],T=r.s.c;T<=r.e.c;++T)(v[T]||{}).hidden||(p[T]=Ai(T));for(var E=0,S=r.s.r;S<=r.e.r;++S)(x[S]||{}).hidden||(m=uq(n,r,S,p,o,h,s,i),m!=null&&(i.strip&&(m=m.replace(f,"")),(m||i.blankrows!==!1)&&t.push((E++?c:"")+m)));return delete i.dense,t.join("")}function PR(n,e){e||(e={}),e.FS="	",e.RS=`
`;var t=yy(n,e);return t}function hq(n){var e="",t,i="";if(n==null||n["!ref"]==null)return[];var r=un(n["!ref"]),s="",o=[],c,h=[],f=Array.isArray(n);for(c=r.s.c;c<=r.e.c;++c)o[c]=Ai(c);for(var m=r.s.r;m<=r.e.r;++m)for(s=di(m),c=r.s.c;c<=r.e.c;++c)if(e=o[c]+s,t=f?(n[m]||[])[c]:n[e],i="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;i=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)i=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)i=""+t.v;else if(t.t=="b")i=t.v?"TRUE":"FALSE";else if(t.w!==void 0)i="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?i="'"+t.v:i=""+t.v}}h[h.length]=e+"="+i}return h}function FR(n,e,t){var i=t||{},r=+!i.skipHeader,s=n||{},o=0,c=0;if(s&&i.origin!=null)if(typeof i.origin=="number")o=i.origin;else{var h=typeof i.origin=="string"?Qn(i.origin):i.origin;o=h.r,c=h.c}var f,m={s:{c:0,r:0},e:{c,r:o+e.length-1+r}};if(s["!ref"]){var p=un(s["!ref"]);m.e.c=Math.max(m.e.c,p.e.c),m.e.r=Math.max(m.e.r,p.e.r),o==-1&&(o=p.e.r+1,m.e.r=o+e.length-1+r)}else o==-1&&(o=0,m.e.r=e.length-1+r);var v=i.header||[],x=0;e.forEach(function(E,S){gi(E).forEach(function(C){(x=v.indexOf(C))==-1&&(v[x=v.length]=C);var O=E[C],N="z",H="",Y=Xt({c:c+x,r:o+S+r});f=gf(s,Y),O&&typeof O=="object"&&!(O instanceof Date)?s[Y]=O:(typeof O=="number"?N="n":typeof O=="boolean"?N="b":typeof O=="string"?N="s":O instanceof Date?(N="d",i.cellDates||(N="n",O=$i(O)),H=i.dateNF||En[14]):O===null&&i.nullError&&(N="e",O=0),f?(f.t=N,f.v=O,delete f.w,delete f.R,H&&(f.z=H)):s[Y]=f={t:N,v:O},H&&(f.z=H))})}),m.e.c=Math.max(m.e.c,c+v.length-1);var T=di(o);if(r)for(x=0;x<v.length;++x)s[Ai(x+c)+T]={t:"s",v:v[x]};return s["!ref"]=Ln(m),s}function fq(n,e){return FR(null,n,e)}function gf(n,e,t){if(typeof e=="string"){if(Array.isArray(n)){var i=Qn(e);return n[i.r]||(n[i.r]=[]),n[i.r][i.c]||(n[i.r][i.c]={t:"z"})}return n[e]||(n[e]={t:"z"})}return typeof e!="number"?gf(n,Xt(e)):gf(n,Xt({r:e,c:t||0}))}function dq(n,e){if(typeof e=="number"){if(e>=0&&n.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=n.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function mq(){return{SheetNames:[],Sheets:{}}}function gq(n,e,t,i){var r=1;if(!t)for(;r<=65535&&n.SheetNames.indexOf(t="Sheet"+r)!=-1;++r,t=void 0);if(!t||n.SheetNames.length>=65535)throw new Error("Too many worksheets");if(i&&n.SheetNames.indexOf(t)>=0){var s=t.match(/(^.*?)(\d+)$/);r=s&&+s[2]||0;var o=s&&s[1]||t;for(++r;r<=65535&&n.SheetNames.indexOf(t=o+r)!=-1;++r);}if(bR(t),n.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return n.SheetNames.push(t),n.Sheets[t]=e,t}function pq(n,e,t){n.Workbook||(n.Workbook={}),n.Workbook.Sheets||(n.Workbook.Sheets=[]);var i=dq(n,e);switch(n.Workbook.Sheets[i]||(n.Workbook.Sheets[i]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}n.Workbook.Sheets[i].Hidden=t}function _q(n,e){return n.z=e,n}function LR(n,e,t){return e?(n.l={Target:e},t&&(n.l.Tooltip=t)):delete n.l,n}function vq(n,e,t){return LR(n,"#"+e,t)}function yq(n,e,t){n.c||(n.c=[]),n.c.push({t:e,a:t||"SheetJS"})}function xq(n,e,t,i){for(var r=typeof e!="string"?e:un(e),s=typeof e=="string"?e:Ln(e),o=r.s.r;o<=r.e.r;++o)for(var c=r.s.c;c<=r.e.c;++c){var h=gf(n,o,c);h.t="n",h.F=s,delete h.v,o==r.s.r&&c==r.s.c&&(h.f=t,i&&(h.D=!0))}return n}var Q1={encode_col:Ai,encode_row:di,encode_cell:Xt,encode_range:Ln,decode_col:ly,decode_row:oy,split_cell:k7,decode_cell:Qn,decode_range:dr,format_cell:xa,sheet_add_aoa:LC,sheet_add_json:FR,sheet_add_dom:DR,aoa_to_sheet:xu,json_to_sheet:fq,table_to_sheet:OR,table_to_book:HH,sheet_to_csv:yy,sheet_to_txt:PR,sheet_to_json:Pm,sheet_to_html:IR,sheet_to_formulae:hq,sheet_to_row_object_array:Pm,sheet_get_cell:gf,book_new:mq,book_append_sheet:gq,book_set_sheet_visibility:pq,cell_set_number_format:_q,cell_set_hyperlink:LR,cell_set_internal_link:vq,cell_add_comment:yq,sheet_set_array_formula:xq,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Gf(n){return n+.5|0}const mo=(n,e,t)=>Math.max(Math.min(n,t),e);function Oh(n){return mo(Gf(n*2.55),0,255)}function So(n){return mo(Gf(n*255),0,255)}function sa(n){return mo(Gf(n/2.55)/100,0,1)}function Jw(n){return mo(Gf(n*100),0,100)}const Cr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},G_=[..."0123456789ABCDEF"],Eq=n=>G_[n&15],Tq=n=>G_[(n&240)>>4]+G_[n&15],A0=n=>(n&240)>>4===(n&15),Sq=n=>A0(n.r)&&A0(n.g)&&A0(n.b)&&A0(n.a);function wq(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&Cr[n[1]]*17,g:255&Cr[n[2]]*17,b:255&Cr[n[3]]*17,a:e===5?Cr[n[4]]*17:255}:(e===7||e===9)&&(t={r:Cr[n[1]]<<4|Cr[n[2]],g:Cr[n[3]]<<4|Cr[n[4]],b:Cr[n[5]]<<4|Cr[n[6]],a:e===9?Cr[n[7]]<<4|Cr[n[8]]:255})),t}const bq=(n,e)=>n<255?e(n):"";function Aq(n){var e=Sq(n)?Eq:Tq;return n?"#"+e(n.r)+e(n.g)+e(n.b)+bq(n.a,e):void 0}const Cq=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function BR(n,e,t){const i=e*Math.min(t,1-t),r=(s,o=(s+n/30)%12)=>t-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function Rq(n,e,t){const i=(r,s=(r+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function Iq(n,e,t){const i=BR(n,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)i[r]*=1-e-t,i[r]+=e;return i}function Dq(n,e,t,i,r){return n===r?(e-t)/i+(e<t?6:0):e===r?(t-n)/i+2:(n-e)/i+4}function xy(n){const t=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(t,i,r),o=Math.min(t,i,r),c=(s+o)/2;let h,f,m;return s!==o&&(m=s-o,f=c>.5?m/(2-s-o):m/(s+o),h=Dq(t,i,r,m,s),h=h*60+.5),[h|0,f||0,c]}function Ey(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(So)}function Ty(n,e,t){return Ey(BR,n,e,t)}function Oq(n,e,t){return Ey(Iq,n,e,t)}function Nq(n,e,t){return Ey(Rq,n,e,t)}function VR(n){return(n%360+360)%360}function Mq(n){const e=Cq.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?Oh(+e[5]):So(+e[5]));const r=VR(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=Oq(r,s,o):e[1]==="hsv"?i=Nq(r,s,o):i=Ty(r,s,o),{r:i[0],g:i[1],b:i[2],a:t}}function kq(n,e){var t=xy(n);t[0]=VR(t[0]+e),t=Ty(t),n.r=t[0],n.g=t[1],n.b=t[2]}function Pq(n){if(!n)return;const e=xy(n),t=e[0],i=Jw(e[1]),r=Jw(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${r}%, ${sa(n.a)})`:`hsl(${t}, ${i}%, ${r}%)`}const eb={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},tb={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Fq(){const n={},e=Object.keys(tb),t=Object.keys(eb);let i,r,s,o,c;for(i=0;i<e.length;i++){for(o=c=e[i],r=0;r<t.length;r++)s=t[r],c=c.replace(s,eb[s]);s=parseInt(tb[o],16),n[c]=[s>>16&255,s>>8&255,s&255]}return n}let C0;function Lq(n){C0||(C0=Fq(),C0.transparent=[0,0,0,0]);const e=C0[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Bq=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Vq(n){const e=Bq.exec(n);let t=255,i,r,s;if(e){if(e[7]!==i){const o=+e[7];t=e[8]?Oh(o):mo(o*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?Oh(i):mo(i,0,255)),r=255&(e[4]?Oh(r):mo(r,0,255)),s=255&(e[6]?Oh(s):mo(s,0,255)),{r:i,g:r,b:s,a:t}}}function Uq(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${sa(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Z1=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Oc=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function zq(n,e,t){const i=Oc(sa(n.r)),r=Oc(sa(n.g)),s=Oc(sa(n.b));return{r:So(Z1(i+t*(Oc(sa(e.r))-i))),g:So(Z1(r+t*(Oc(sa(e.g))-r))),b:So(Z1(s+t*(Oc(sa(e.b))-s))),a:n.a+t*(e.a-n.a)}}function R0(n,e,t){if(n){let i=xy(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=Ty(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function UR(n,e){return n&&Object.assign(e||{},n)}function nb(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=So(n[3]))):(e=UR(n,{r:0,g:0,b:0,a:1}),e.a=So(e.a)),e}function jq(n){return n.charAt(0)==="r"?Vq(n):Mq(n)}class pf{constructor(e){if(e instanceof pf)return e;const t=typeof e;let i;t==="object"?i=nb(e):t==="string"&&(i=wq(e)||Lq(e)||jq(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=UR(this._rgb);return e&&(e.a=sa(e.a)),e}set rgb(e){this._rgb=nb(e)}rgbString(){return this._valid?Uq(this._rgb):void 0}hexString(){return this._valid?Aq(this._rgb):void 0}hslString(){return this._valid?Pq(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,r=e.rgb;let s;const o=t===s?.5:t,c=2*o-1,h=i.a-r.a,f=((c*h===-1?c:(c+h)/(1+c*h))+1)/2;s=1-f,i.r=255&f*i.r+s*r.r+.5,i.g=255&f*i.g+s*r.g+.5,i.b=255&f*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=zq(this._rgb,e._rgb,t)),this}clone(){return new pf(this.rgb)}alpha(e){return this._rgb.a=So(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Gf(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return R0(this._rgb,2,e),this}darken(e){return R0(this._rgb,2,-e),this}saturate(e){return R0(this._rgb,1,e),this}desaturate(e){return R0(this._rgb,1,-e),this}rotate(e){return kq(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function na(){}const Hq=(()=>{let n=0;return()=>n++})();function Ft(n){return n==null}function zn(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function bt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Nr(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function gs(n,e){return Nr(n)?n:e}function ft(n,e){return typeof n>"u"?e:n}const qq=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,zR=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function ln(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Gt(n,e,t,i){let r,s,o;if(zn(n))for(s=n.length,r=0;r<s;r++)e.call(t,n[r],r);else if(bt(n))for(o=Object.keys(n),s=o.length,r=0;r<s;r++)e.call(t,n[o[r]],o[r])}function Fm(n,e){let t,i,r,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(r=n[t],s=e[t],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function Lm(n){if(zn(n))return n.map(Lm);if(bt(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let r=0;for(;r<i;++r)e[t[r]]=Lm(n[t[r]]);return e}return n}function jR(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Gq(n,e,t,i){if(!jR(n))return;const r=e[n],s=t[n];bt(r)&&bt(s)?_f(r,s,i):e[n]=Lm(s)}function _f(n,e,t){const i=zn(e)?e:[e],r=i.length;if(!bt(n))return n;t=t||{};const s=t.merger||Gq;let o;for(let c=0;c<r;++c){if(o=i[c],!bt(o))continue;const h=Object.keys(o);for(let f=0,m=h.length;f<m;++f)s(h[f],n,o,t)}return n}function Yh(n,e){return _f(n,e,{merger:Wq})}function Wq(n,e,t){if(!jR(n))return;const i=e[n],r=t[n];bt(i)&&bt(r)?Yh(i,r):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Lm(r))}const ib={"":n=>n,x:n=>n.x,y:n=>n.y};function Yq(n){const e=n.split("."),t=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function Xq(n){const e=Yq(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function Dl(n,e){return(ib[e]||(ib[e]=Xq(e)))(n)}function Sy(n){return n.charAt(0).toUpperCase()+n.slice(1)}const vf=n=>typeof n<"u",Mo=n=>typeof n=="function",rb=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function $q(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Wt=Math.PI,xn=2*Wt,Kq=xn+Wt,Bm=Number.POSITIVE_INFINITY,Qq=Wt/180,Hn=Wt/2,cl=Wt/4,sb=Wt*2/3,HR=Math.log10,Rs=Math.sign;function Xh(n,e,t){return Math.abs(n-e)<t}function ab(n){const e=Math.round(n);n=Xh(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(HR(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function Zq(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((r,s)=>r-s).pop(),e}function Jq(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function yf(n){return!Jq(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function eG(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function tG(n,e,t){let i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function la(n){return n*(Wt/180)}function nG(n){return n*(180/Wt)}function ob(n){if(!Nr(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function qR(n,e){const t=e.x-n.x,i=e.y-n.y,r=Math.sqrt(t*t+i*i);let s=Math.atan2(i,t);return s<-.5*Wt&&(s+=xn),{angle:s,distance:r}}function W_(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function iG(n,e){return(n-e+Kq)%xn-Wt}function Xr(n){return(n%xn+xn)%xn}function xf(n,e,t,i){const r=Xr(n),s=Xr(e),o=Xr(t),c=Xr(s-r),h=Xr(o-r),f=Xr(r-s),m=Xr(r-o);return r===s||r===o||i&&s===o||c>h&&f<m}function wi(n,e,t){return Math.max(e,Math.min(t,n))}function rG(n){return wi(n,-32768,32767)}function go(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function wy(n,e,t){t=t||(o=>n[o]<e);let i=n.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,t(s)?r=s:i=s;return{lo:r,hi:i}}const _l=(n,e,t,i)=>wy(n,t,i?r=>{const s=n[r][e];return s<t||s===t&&n[r+1][e]===t}:r=>n[r][e]<t),sG=(n,e,t)=>wy(n,t,i=>n[i][e]>=t);function aG(n,e,t){let i=0,r=n.length;for(;i<r&&n[i]<e;)i++;for(;r>i&&n[r-1]>t;)r--;return i>0||r<n.length?n.slice(i,r):n}const GR=["push","pop","shift","splice","unshift"];function oG(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),GR.forEach(t=>{const i="_onData"+Sy(t),r=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return n._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...s)}),o}})})}function lb(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(GR.forEach(s=>{delete n[s]}),delete n._chartjs)}function WR(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const YR=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function XR(n,e){let t=[],i=!1;return function(...r){t=r,i||(i=!0,YR.call(window,()=>{i=!1,n.apply(e,t)}))}}function lG(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const by=n=>n==="start"?"left":n==="end"?"right":"center",Ei=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,cG=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e;function uG(n,e,t){const i=e.length;let r=0,s=i;if(n._sorted){const{iScale:o,vScale:c,_parsed:h}=n,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,m=o.axis,{min:p,max:v,minDefined:x,maxDefined:T}=o.getUserBounds();if(x){if(r=Math.min(_l(h,m,p).lo,t?i:_l(e,m,o.getPixelForValue(p)).lo),f){const E=h.slice(0,r+1).reverse().findIndex(S=>!Ft(S[c.axis]));r-=Math.max(0,E)}r=wi(r,0,i-1)}if(T){let E=Math.max(_l(h,o.axis,v,!0).hi+1,t?0:_l(e,m,o.getPixelForValue(v),!0).hi+1);if(f){const S=h.slice(E-1).findIndex(C=>!Ft(C[c.axis]));E+=Math.max(0,S)}s=wi(E,r,i)-r}else s=i-r}return{start:r,count:s}}function hG(n){const{xScale:e,yScale:t,_scaleRanges:i}=n,r={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,r),s}const I0=n=>n===0||n===1,cb=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*xn/t)),ub=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*xn/t)+1,$h={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Hn)+1,easeOutSine:n=>Math.sin(n*Hn),easeInOutSine:n=>-.5*(Math.cos(Wt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>I0(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>I0(n)?n:cb(n,.075,.3),easeOutElastic:n=>I0(n)?n:ub(n,.075,.3),easeInOutElastic(n){return I0(n)?n:n<.5?.5*cb(n*2,.1125,.45):.5+.5*ub(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-$h.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?$h.easeInBounce(n*2)*.5:$h.easeOutBounce(n*2-1)*.5+.5};function Ay(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function hb(n){return Ay(n)?n:new pf(n)}function J1(n){return Ay(n)?n:new pf(n).saturate(.5).darken(.1).hexString()}const fG=["x","y","borderWidth","radius","tension"],dG=["color","borderColor","backgroundColor"];function mG(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:dG},numbers:{type:"number",properties:fG}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function gG(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const fb=new Map;function pG(n,e){e=e||{};const t=n+JSON.stringify(e);let i=fb.get(t);return i||(i=new Intl.NumberFormat(n,e),fb.set(t,i)),i}function Cy(n,e,t){return pG(e,t).format(n)}const _G={values(n){return zn(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const i=this.chart.options.locale;let r,s=n;if(t.length>1){const f=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(f<1e-4||f>1e15)&&(r="scientific"),s=vG(n,t)}const o=HR(Math.abs(s)),c=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),h={notation:r,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(h,this.options.ticks.format),Cy(n,i,h)}};function vG(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var $R={formatters:_G};function yG(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:$R.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Ol=Object.create(null),Y_=Object.create(null);function Kh(n,e){if(!e)return n;const t=e.split(".");for(let i=0,r=t.length;i<r;++i){const s=t[i];n=n[s]||(n[s]=Object.create(null))}return n}function e_(n,e,t){return typeof e=="string"?_f(Kh(n,e),t):_f(Kh(n,""),e)}class xG{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>J1(r.backgroundColor),this.hoverBorderColor=(i,r)=>J1(r.borderColor),this.hoverColor=(i,r)=>J1(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return e_(this,e,t)}get(e){return Kh(this,e)}describe(e,t){return e_(Y_,e,t)}override(e,t){return e_(Ol,e,t)}route(e,t,i,r){const s=Kh(this,e),o=Kh(this,i),c="_"+t;Object.defineProperties(s,{[c]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const h=this[c],f=o[r];return bt(h)?Object.assign({},f,h):ft(h,f)},set(h){this[c]=h}}})}apply(e){e.forEach(t=>t(this))}}var An=new xG({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[mG,gG,yG]);function EG(n){return!n||Ft(n.size)||Ft(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function db(n,e,t,i,r){let s=e[r];return s||(s=e[r]=n.measureText(r).width,t.push(r)),s>i&&(i=s),i}function ul(n,e,t){const i=n.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*i)/i+r}function mb(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function X_(n,e,t,i){KR(n,e,t,i,null)}function KR(n,e,t,i,r){let s,o,c,h,f,m,p,v;const x=e.pointStyle,T=e.rotation,E=e.radius;let S=(T||0)*Qq;if(x&&typeof x=="object"&&(s=x.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(S),n.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),n.restore();return}if(!(isNaN(E)||E<=0)){switch(n.beginPath(),x){default:r?n.ellipse(t,i,r/2,E,0,0,xn):n.arc(t,i,E,0,xn),n.closePath();break;case"triangle":m=r?r/2:E,n.moveTo(t+Math.sin(S)*m,i-Math.cos(S)*E),S+=sb,n.lineTo(t+Math.sin(S)*m,i-Math.cos(S)*E),S+=sb,n.lineTo(t+Math.sin(S)*m,i-Math.cos(S)*E),n.closePath();break;case"rectRounded":f=E*.516,h=E-f,o=Math.cos(S+cl)*h,p=Math.cos(S+cl)*(r?r/2-f:h),c=Math.sin(S+cl)*h,v=Math.sin(S+cl)*(r?r/2-f:h),n.arc(t-p,i-c,f,S-Wt,S-Hn),n.arc(t+v,i-o,f,S-Hn,S),n.arc(t+p,i+c,f,S,S+Hn),n.arc(t-v,i+o,f,S+Hn,S+Wt),n.closePath();break;case"rect":if(!T){h=Math.SQRT1_2*E,m=r?r/2:h,n.rect(t-m,i-h,2*m,2*h);break}S+=cl;case"rectRot":p=Math.cos(S)*(r?r/2:E),o=Math.cos(S)*E,c=Math.sin(S)*E,v=Math.sin(S)*(r?r/2:E),n.moveTo(t-p,i-c),n.lineTo(t+v,i-o),n.lineTo(t+p,i+c),n.lineTo(t-v,i+o),n.closePath();break;case"crossRot":S+=cl;case"cross":p=Math.cos(S)*(r?r/2:E),o=Math.cos(S)*E,c=Math.sin(S)*E,v=Math.sin(S)*(r?r/2:E),n.moveTo(t-p,i-c),n.lineTo(t+p,i+c),n.moveTo(t+v,i-o),n.lineTo(t-v,i+o);break;case"star":p=Math.cos(S)*(r?r/2:E),o=Math.cos(S)*E,c=Math.sin(S)*E,v=Math.sin(S)*(r?r/2:E),n.moveTo(t-p,i-c),n.lineTo(t+p,i+c),n.moveTo(t+v,i-o),n.lineTo(t-v,i+o),S+=cl,p=Math.cos(S)*(r?r/2:E),o=Math.cos(S)*E,c=Math.sin(S)*E,v=Math.sin(S)*(r?r/2:E),n.moveTo(t-p,i-c),n.lineTo(t+p,i+c),n.moveTo(t+v,i-o),n.lineTo(t-v,i+o);break;case"line":o=r?r/2:Math.cos(S)*E,c=Math.sin(S)*E,n.moveTo(t-o,i-c),n.lineTo(t+o,i+c);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(S)*(r?r/2:E),i+Math.sin(S)*E);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function Ef(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function Ry(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Iy(n){n.restore()}function TG(n,e,t,i,r){if(!e)return n.lineTo(t.x,t.y);if(r==="middle"){const s=(e.x+t.x)/2;n.lineTo(s,e.y),n.lineTo(s,t.y)}else r==="after"!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function SG(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function wG(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Ft(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function bG(n,e,t,i,r){if(r.strikethrough||r.underline){const s=n.measureText(i),o=e-s.actualBoundingBoxLeft,c=e+s.actualBoundingBoxRight,h=t-s.actualBoundingBoxAscent,f=t+s.actualBoundingBoxDescent,m=r.strikethrough?(h+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(o,m),n.lineTo(c,m),n.stroke()}}function AG(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Tf(n,e,t,i,r,s={}){const o=zn(e)?e:[e],c=s.strokeWidth>0&&s.strokeColor!=="";let h,f;for(n.save(),n.font=r.string,wG(n,s),h=0;h<o.length;++h)f=o[h],s.backdrop&&AG(n,s.backdrop),c&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),Ft(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(f,t,i,s.maxWidth)),n.fillText(f,t,i,s.maxWidth),bG(n,t,i,f,s),i+=Number(r.lineHeight);n.restore()}function Vm(n,e){const{x:t,y:i,w:r,h:s,radius:o}=e;n.arc(t+o.topLeft,i+o.topLeft,o.topLeft,1.5*Wt,Wt,!0),n.lineTo(t,i+s-o.bottomLeft),n.arc(t+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,Wt,Hn,!0),n.lineTo(t+r-o.bottomRight,i+s),n.arc(t+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,Hn,0,!0),n.lineTo(t+r,i+o.topRight),n.arc(t+r-o.topRight,i+o.topRight,o.topRight,0,-Hn,!0),n.lineTo(t+o.topLeft,i)}const CG=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,RG=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function IG(n,e){const t=(""+n).match(CG);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const DG=n=>+n||0;function Dy(n,e){const t={},i=bt(e),r=i?Object.keys(e):e,s=bt(n)?i?o=>ft(n[o],n[e[o]]):o=>n[o]:()=>n;for(const o of r)t[o]=DG(s(o));return t}function QR(n){return Dy(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Qc(n){return Dy(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Mr(n){const e=QR(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function bi(n,e){n=n||{},e=e||An.font;let t=ft(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=ft(n.style,e.style);i&&!(""+i).match(RG)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:ft(n.family,e.family),lineHeight:IG(ft(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:ft(n.weight,e.weight),string:""};return r.string=EG(r),r}function D0(n,e,t,i){let r,s,o;for(r=0,s=n.length;r<s;++r)if(o=n[r],o!==void 0&&o!==void 0)return o}function OG(n,e,t){const{min:i,max:r}=n,s=zR(e,(r-i)/2),o=(c,h)=>t&&c===0?0:c+h;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function jl(n,e){return Object.assign(Object.create(n),e)}function Oy(n,e=[""],t,i,r=()=>n[0]){const s=t||n;typeof i>"u"&&(i=tI("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:i,_getTarget:r,override:c=>Oy([c,...n],e,s,i)};return new Proxy(o,{deleteProperty(c,h){return delete c[h],delete c._keys,delete n[0][h],!0},get(c,h){return JR(c,h,()=>VG(h,e,n,c))},getOwnPropertyDescriptor(c,h){return Reflect.getOwnPropertyDescriptor(c._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(c,h){return pb(c).includes(h)},ownKeys(c){return pb(c)},set(c,h,f){const m=c._storage||(c._storage=r());return c[h]=m[h]=f,delete c._keys,!0}})}function lu(n,e,t,i){const r={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:ZR(n,i),setContext:s=>lu(n,s,t,i),override:s=>lu(n.override(s),e,t,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete n[o],!0},get(s,o,c){return JR(s,o,()=>MG(s,o,c))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(s,o,c){return n[o]=c,delete s[o],!0}})}function ZR(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=n;return{allKeys:r,scriptable:t,indexable:i,isScriptable:Mo(t)?t:()=>t,isIndexable:Mo(i)?i:()=>i}}const NG=(n,e)=>n?n+Sy(e):e,Ny=(n,e)=>bt(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function JR(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function MG(n,e,t){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=n;let c=i[e];return Mo(c)&&o.isScriptable(e)&&(c=kG(e,c,n,t)),zn(c)&&c.length&&(c=PG(e,c,n,o.isIndexable)),Ny(e,c)&&(c=lu(c,r,s&&s[e],o)),c}function kG(n,e,t,i){const{_proxy:r,_context:s,_subProxy:o,_stack:c}=t;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);c.add(n);let h=e(s,o||i);return c.delete(n),Ny(n,h)&&(h=My(r._scopes,r,n,h)),h}function PG(n,e,t,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:c}=t;if(typeof s.index<"u"&&i(n))return e[s.index%e.length];if(bt(e[0])){const h=e,f=r._scopes.filter(m=>m!==h);e=[];for(const m of h){const p=My(f,r,n,m);e.push(lu(p,s,o&&o[n],c))}}return e}function eI(n,e,t){return Mo(n)?n(e,t):n}const FG=(n,e)=>n===!0?e:typeof n=="string"?Dl(e,n):void 0;function LG(n,e,t,i,r){for(const s of e){const o=FG(t,s);if(o){n.add(o);const c=eI(o._fallback,t,r);if(typeof c<"u"&&c!==t&&c!==i)return c}else if(o===!1&&typeof i<"u"&&t!==i)return null}return!1}function My(n,e,t,i){const r=e._rootScopes,s=eI(e._fallback,t,i),o=[...n,...r],c=new Set;c.add(i);let h=gb(c,o,t,s||t,i);return h===null||typeof s<"u"&&s!==t&&(h=gb(c,o,s,h,i),h===null)?!1:Oy(Array.from(c),[""],r,s,()=>BG(e,t,i))}function gb(n,e,t,i,r){for(;t;)t=LG(n,e,t,i,r);return t}function BG(n,e,t){const i=n._getTarget();e in i||(i[e]={});const r=i[e];return zn(r)&&bt(t)?t:r||{}}function VG(n,e,t,i){let r;for(const s of e)if(r=tI(NG(s,n),t),typeof r<"u")return Ny(n,r)?My(t,i,n,r):r}function tI(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function pb(n){let e=n._keys;return e||(e=n._keys=UG(n._scopes)),e}function UG(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}const zG=Number.EPSILON||1e-14,cu=(n,e)=>e<n.length&&!n[e].skip&&n[e],nI=n=>n==="x"?"y":"x";function jG(n,e,t,i){const r=n.skip?e:n,s=e,o=t.skip?e:t,c=W_(s,r),h=W_(o,s);let f=c/(c+h),m=h/(c+h);f=isNaN(f)?0:f,m=isNaN(m)?0:m;const p=i*f,v=i*m;return{previous:{x:s.x-p*(o.x-r.x),y:s.y-p*(o.y-r.y)},next:{x:s.x+v*(o.x-r.x),y:s.y+v*(o.y-r.y)}}}function HG(n,e,t){const i=n.length;let r,s,o,c,h,f=cu(n,0);for(let m=0;m<i-1;++m)if(h=f,f=cu(n,m+1),!(!h||!f)){if(Xh(e[m],0,zG)){t[m]=t[m+1]=0;continue}r=t[m]/e[m],s=t[m+1]/e[m],c=Math.pow(r,2)+Math.pow(s,2),!(c<=9)&&(o=3/Math.sqrt(c),t[m]=r*o*e[m],t[m+1]=s*o*e[m])}}function qG(n,e,t="x"){const i=nI(t),r=n.length;let s,o,c,h=cu(n,0);for(let f=0;f<r;++f){if(o=c,c=h,h=cu(n,f+1),!c)continue;const m=c[t],p=c[i];o&&(s=(m-o[t])/3,c[`cp1${t}`]=m-s,c[`cp1${i}`]=p-s*e[f]),h&&(s=(h[t]-m)/3,c[`cp2${t}`]=m+s,c[`cp2${i}`]=p+s*e[f])}}function GG(n,e="x"){const t=nI(e),i=n.length,r=Array(i).fill(0),s=Array(i);let o,c,h,f=cu(n,0);for(o=0;o<i;++o)if(c=h,h=f,f=cu(n,o+1),!!h){if(f){const m=f[e]-h[e];r[o]=m!==0?(f[t]-h[t])/m:0}s[o]=c?f?Rs(r[o-1])!==Rs(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}HG(n,r,s),qG(n,s,e)}function O0(n,e,t){return Math.max(Math.min(n,t),e)}function WG(n,e){let t,i,r,s,o,c=Ef(n[0],e);for(t=0,i=n.length;t<i;++t)o=s,s=c,c=t<i-1&&Ef(n[t+1],e),s&&(r=n[t],o&&(r.cp1x=O0(r.cp1x,e.left,e.right),r.cp1y=O0(r.cp1y,e.top,e.bottom)),c&&(r.cp2x=O0(r.cp2x,e.left,e.right),r.cp2y=O0(r.cp2y,e.top,e.bottom)))}function YG(n,e,t,i,r){let s,o,c,h;if(e.spanGaps&&(n=n.filter(f=>!f.skip)),e.cubicInterpolationMode==="monotone")GG(n,r);else{let f=i?n[n.length-1]:n[0];for(s=0,o=n.length;s<o;++s)c=n[s],h=jG(f,c,n[Math.min(s+1,o-(i?0:1))%o],e.tension),c.cp1x=h.previous.x,c.cp1y=h.previous.y,c.cp2x=h.next.x,c.cp2y=h.next.y,f=c}e.capBezierPoints&&WG(n,t)}function ky(){return typeof window<"u"&&typeof document<"u"}function Py(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Um(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const xg=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function XG(n,e){return xg(n).getPropertyValue(e)}const $G=["top","right","bottom","left"];function xl(n,e,t){const i={};t=t?"-"+t:"";for(let r=0;r<4;r++){const s=$G[r];i[s]=parseFloat(n[e+"-"+s+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const KG=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function QG(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:r,offsetY:s}=i;let o=!1,c,h;if(KG(r,s,n.target))c=r,h=s;else{const f=e.getBoundingClientRect();c=i.clientX-f.left,h=i.clientY-f.top,o=!0}return{x:c,y:h,box:o}}function dl(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,r=xg(t),s=r.boxSizing==="border-box",o=xl(r,"padding"),c=xl(r,"border","width"),{x:h,y:f,box:m}=QG(n,t),p=o.left+(m&&c.left),v=o.top+(m&&c.top);let{width:x,height:T}=e;return s&&(x-=o.width+c.width,T-=o.height+c.height),{x:Math.round((h-p)/x*t.width/i),y:Math.round((f-v)/T*t.height/i)}}function ZG(n,e,t){let i,r;if(e===void 0||t===void 0){const s=n&&Py(n);if(!s)e=n.clientWidth,t=n.clientHeight;else{const o=s.getBoundingClientRect(),c=xg(s),h=xl(c,"border","width"),f=xl(c,"padding");e=o.width-f.width-h.width,t=o.height-f.height-h.height,i=Um(c.maxWidth,s,"clientWidth"),r=Um(c.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:i||Bm,maxHeight:r||Bm}}const N0=n=>Math.round(n*10)/10;function JG(n,e,t,i){const r=xg(n),s=xl(r,"margin"),o=Um(r.maxWidth,n,"clientWidth")||Bm,c=Um(r.maxHeight,n,"clientHeight")||Bm,h=ZG(n,e,t);let{width:f,height:m}=h;if(r.boxSizing==="content-box"){const v=xl(r,"border","width"),x=xl(r,"padding");f-=x.width+v.width,m-=x.height+v.height}return f=Math.max(0,f-s.width),m=Math.max(0,i?f/i:m-s.height),f=N0(Math.min(f,o,h.maxWidth)),m=N0(Math.min(m,c,h.maxHeight)),f&&!m&&(m=N0(f/2)),(e!==void 0||t!==void 0)&&i&&h.height&&m>h.height&&(m=h.height,f=N0(Math.floor(m*i))),{width:f,height:m}}function _b(n,e,t){const i=e||1,r=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const o=n.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(n.currentDevicePixelRatio=i,o.height=r,o.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const eW=(function(){let n=!1;try{const e={get passive(){return n=!0,!1}};ky()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n})();function vb(n,e){const t=XG(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function ml(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function tW(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:i==="middle"?t<.5?n.y:e.y:i==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function nW(n,e,t,i){const r={x:n.cp2x,y:n.cp2y},s={x:e.cp1x,y:e.cp1y},o=ml(n,r,t),c=ml(r,s,t),h=ml(s,e,t),f=ml(o,c,t),m=ml(c,h,t);return ml(f,m,t)}const iW=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},rW=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Zc(n,e,t){return n?iW(e,t):rW()}function iI(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function rI(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function sI(n){return n==="angle"?{between:xf,compare:iG,normalize:Xr}:{between:go,compare:(e,t)=>e-t,normalize:e=>e}}function yb({start:n,end:e,count:t,loop:i,style:r}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t===0,style:r}}function sW(n,e,t){const{property:i,start:r,end:s}=t,{between:o,normalize:c}=sI(i),h=e.length;let{start:f,end:m,loop:p}=n,v,x;if(p){for(f+=h,m+=h,v=0,x=h;v<x&&o(c(e[f%h][i]),r,s);++v)f--,m--;f%=h,m%=h}return m<f&&(m+=h),{start:f,end:m,loop:p,style:n.style}}function aW(n,e,t){if(!t)return[n];const{property:i,start:r,end:s}=t,o=e.length,{compare:c,between:h,normalize:f}=sI(i),{start:m,end:p,loop:v,style:x}=sW(n,e,t),T=[];let E=!1,S=null,C,O,N;const H=()=>h(r,N,C)&&c(r,N)!==0,Y=()=>c(s,C)===0||h(s,N,C),te=()=>E||H(),A=()=>!E||Y();for(let D=m,I=m;D<=p;++D)O=e[D%o],!O.skip&&(C=f(O[i]),C!==N&&(E=h(C,r,s),S===null&&te()&&(S=c(C,r)===0?D:I),S!==null&&A()&&(T.push(yb({start:S,end:D,loop:v,count:o,style:x})),S=null),I=D,N=C));return S!==null&&T.push(yb({start:S,end:p,loop:v,count:o,style:x})),T}function oW(n,e){const t=[],i=n.segments;for(let r=0;r<i.length;r++){const s=aW(i[r],n.points,e);s.length&&t.push(...s)}return t}function lW(n,e,t,i){let r=0,s=e-1;if(t&&!i)for(;r<e&&!n[r].skip;)r++;for(;r<e&&n[r].skip;)r++;for(r%=e,t&&(s+=r);s>r&&n[s%e].skip;)s--;return s%=e,{start:r,end:s}}function cW(n,e,t,i){const r=n.length,s=[];let o=e,c=n[e],h;for(h=e+1;h<=t;++h){const f=n[h%r];f.skip||f.stop?c.skip||(i=!1,s.push({start:e%r,end:(h-1)%r,loop:i}),e=o=f.stop?h:null):(o=h,c.skip&&(e=h)),c=f}return o!==null&&s.push({start:e%r,end:o%r,loop:i}),s}function uW(n,e){const t=n.points,i=n.options.spanGaps,r=t.length;if(!r)return[];const s=!!n._loop,{start:o,end:c}=lW(t,r,s,i);if(i===!0)return xb(n,[{start:o,end:c,loop:s}],t,e);const h=c<o?c+r:c,f=!!n._fullLoop&&o===0&&c===r-1;return xb(n,cW(t,o,h,f),t,e)}function xb(n,e,t,i){return!i||!i.setContext||!t?e:hW(n,e,t,i)}function hW(n,e,t,i){const r=n._chart.getContext(),s=Eb(n.options),{_datasetIndex:o,options:{spanGaps:c}}=n,h=t.length,f=[];let m=s,p=e[0].start,v=p;function x(T,E,S,C){const O=c?-1:1;if(T!==E){for(T+=h;t[T%h].skip;)T-=O;for(;t[E%h].skip;)E+=O;T%h!==E%h&&(f.push({start:T%h,end:E%h,loop:S,style:C}),m=C,p=E%h)}}for(const T of e){p=c?p:T.start;let E=t[p%h],S;for(v=p+1;v<=T.end;v++){const C=t[v%h];S=Eb(i.setContext(jl(r,{type:"segment",p0:E,p1:C,p0DataIndex:(v-1)%h,p1DataIndex:v%h,datasetIndex:o}))),fW(S,m)&&x(p,v-1,T.loop,m),E=C,m=S}p<v-1&&x(p,v-1,T.loop,m)}return f}function Eb(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function fW(n,e){if(!e)return!1;const t=[],i=function(r,s){return Ay(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(n,i)!==JSON.stringify(e,i)}function M0(n,e,t){return n.options.clip?n[t]:e[t]}function dW(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:M0(t,e,"left"),right:M0(t,e,"right"),top:M0(i,e,"top"),bottom:M0(i,e,"bottom")}:e}function mW(n,e){const t=e._clip;if(t.disabled)return!1;const i=dW(e,n.chartArea);return{left:t.left===!1?0:i.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:i.right+(t.right===!0?0:t.right),top:t.top===!1?0:i.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:i.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class gW{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,r){const s=t.listeners[r],o=t.duration;s.forEach(c=>c({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(i-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=YR.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,c=!1,h;for(;o>=0;--o)h=s[o],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(e),c=!0):(s[o]=s[s.length-1],s.pop());c&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ia=new gW;const Tb="transparent",pW={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=hb(n||Tb),r=i.valid&&hb(e||Tb);return r&&r.valid?r.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class _W{constructor(e,t,i,r){const s=t[i];r=D0([e.to,r,s,e.from]);const o=D0([e.from,s,r]);this._active=!0,this._fn=e.fn||pW[e.type||typeof o],this._easing=$h[e.easing]||$h.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=D0([e.to,t,r,e.from]),this._from=D0([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,c=this._to;let h;if(this._active=s!==c&&(o||t<i),!this._active){this._target[r]=c,this._notify(!0);return}if(t<0){this._target[r]=s;return}h=t/i%2,h=o&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[r]=this._fn(s,c,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][t]()}}class aI{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!bt(e))return;const t=Object.keys(An.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!bt(s))return;const o={};for(const c of t)o[c]=s[c];(zn(s.properties)&&s.properties||[r]).forEach(c=>{(c===r||!i.has(c))&&i.set(c,o)})})}_animateOptions(e,t){const i=t.options,r=yW(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&vW(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,t){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(t),c=Date.now();let h;for(h=o.length-1;h>=0;--h){const f=o[h];if(f.charAt(0)==="$")continue;if(f==="options"){r.push(...this._animateOptions(e,t));continue}const m=t[f];let p=s[f];const v=i.get(f);if(p)if(v&&p.active()){p.update(v,m,c);continue}else p.cancel();if(!v||!v.duration){e[f]=m;continue}s[f]=p=new _W(v,e,f,m),r.push(p)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return ia.add(this._chart,i),!0}}function vW(n,e){const t=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=n[i[r]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function yW(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Sb(n,e){const t=n&&n.options||{},i=t.reverse,r=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function xW(n,e,t){if(t===!1)return!1;const i=Sb(n,t),r=Sb(e,t);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function EW(n){let e,t,i,r;return bt(n)?(e=n.top,t=n.right,i=n.bottom,r=n.left):e=t=i=r=n,{top:e,right:t,bottom:i,left:r,disabled:n===!1}}function oI(n,e){const t=[],i=n._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)t.push(i[r].index);return t}function wb(n,e,t,i={}){const r=n.keys,s=i.mode==="single";let o,c,h,f;if(e===null)return;let m=!1;for(o=0,c=r.length;o<c;++o){if(h=+r[o],h===t){if(m=!0,i.all)continue;break}f=n.values[h],Nr(f)&&(s||e===0||Rs(e)===Rs(f))&&(e+=f)}return!m&&!i.all?0:e}function TW(n,e){const{iScale:t,vScale:i}=e,r=t.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(n),c=new Array(o.length);let h,f,m;for(h=0,f=o.length;h<f;++h)m=o[h],c[h]={[r]:m,[s]:n[m]};return c}function t_(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function SW(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function wW(n){const{min:e,max:t,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function bW(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function bb(n,e,t,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=n[r.index];if(t&&s>0||!t&&s<0)return r.index}return null}function Ab(n,e){const{chart:t,_cachedMeta:i}=n,r=t._stacks||(t._stacks={}),{iScale:s,vScale:o,index:c}=i,h=s.axis,f=o.axis,m=SW(s,o,i),p=e.length;let v;for(let x=0;x<p;++x){const T=e[x],{[h]:E,[f]:S}=T,C=T._stacks||(T._stacks={});v=C[f]=bW(r,m,E),v[c]=S,v._top=bb(v,o,!0,i.type),v._bottom=bb(v,o,!1,i.type);const O=v._visualValues||(v._visualValues={});O[c]=S}}function n_(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function AW(n,e){return jl(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function CW(n,e,t){return jl(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Th(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][t]===void 0)return;delete s[i][t],s[i]._visualValues!==void 0&&s[i]._visualValues[t]!==void 0&&delete s[i]._visualValues[t]}}}const i_=n=>n==="reset"||n==="none",Cb=(n,e)=>e?n:Object.assign({},n),RW=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:oI(t,!0),values:null};class Eg{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=t_(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Th(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),r=(p,v,x,T)=>p==="x"?v:p==="r"?T:x,s=t.xAxisID=ft(i.xAxisID,n_(e,"x")),o=t.yAxisID=ft(i.yAxisID,n_(e,"y")),c=t.rAxisID=ft(i.rAxisID,n_(e,"r")),h=t.indexAxis,f=t.iAxisID=r(h,s,o,c),m=t.vAxisID=r(h,o,s,c);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(c),t.iScale=this.getScaleForId(f),t.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&lb(this._data,this),e._stacked&&Th(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(bt(t)){const r=this._cachedMeta;this._data=TW(t,r)}else if(i!==t){if(i){lb(i,this);const r=this._cachedMeta;Th(r),r._parsed=[]}t&&Object.isExtensible(t)&&oG(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=t._stacked;t._stacked=t_(t.vScale,t),t.stack!==i.stack&&(r=!0,Th(t),t.stack=i.stack),this._resyncElements(e),(r||s!==t._stacked)&&(Ab(this,t._parsed),t._stacked=t_(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,c=s.axis;let h=e===0&&t===r.length?!0:i._sorted,f=e>0&&i._parsed[e-1],m,p,v;if(this._parsing===!1)i._parsed=r,i._sorted=!0,v=r;else{zn(r[e])?v=this.parseArrayData(i,r,e,t):bt(r[e])?v=this.parseObjectData(i,r,e,t):v=this.parsePrimitiveData(i,r,e,t);const x=()=>p[c]===null||f&&p[c]<f[c];for(m=0;m<t;++m)i._parsed[m+e]=p=v[m],h&&(x()&&(h=!1),f=p);i._sorted=h}o&&Ab(this,v)}parsePrimitiveData(e,t,i,r){const{iScale:s,vScale:o}=e,c=s.axis,h=o.axis,f=s.getLabels(),m=s===o,p=new Array(r);let v,x,T;for(v=0,x=r;v<x;++v)T=v+i,p[v]={[c]:m||s.parse(f[T],T),[h]:o.parse(t[T],T)};return p}parseArrayData(e,t,i,r){const{xScale:s,yScale:o}=e,c=new Array(r);let h,f,m,p;for(h=0,f=r;h<f;++h)m=h+i,p=t[m],c[h]={x:s.parse(p[0],m),y:o.parse(p[1],m)};return c}parseObjectData(e,t,i,r){const{xScale:s,yScale:o}=e,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,f=new Array(r);let m,p,v,x;for(m=0,p=r;m<p;++m)v=m+i,x=t[v],f[m]={x:s.parse(Dl(x,c),v),y:o.parse(Dl(x,h),v)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const r=this.chart,s=this._cachedMeta,o=t[e.axis],c={keys:oI(r,!0),values:t._stacks[e.axis]._visualValues};return wb(c,o,s.index,{mode:i})}updateRangeFromParsed(e,t,i,r){const s=i[t.axis];let o=s===null?NaN:s;const c=r&&i._stacks[t.axis];r&&c&&(r.values=c,o=wb(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,o=r.length,c=this._getOtherScale(e),h=RW(t,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:p}=wW(c);let v,x;function T(){x=r[v];const E=x[c.axis];return!Nr(x[e.axis])||m>E||p<E}for(v=0;v<o&&!(!T()&&(this.updateRangeFromParsed(f,e,x,h),s));++v);if(s){for(v=o-1;v>=0;--v)if(!T()){this.updateRangeFromParsed(f,e,x,h);break}}return f}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=t.length;r<s;++r)o=t[r][e.axis],Nr(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,r=t.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=EW(ft(this.options.clip,xW(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,r=i.data||[],s=t.chartArea,o=[],c=this._drawStart||0,h=this._drawCount||r.length-c,f=this.options.drawActiveElementsOnTop;let m;for(i.dataset&&i.dataset.draw(e,s,c,h),m=c;m<c+h;++m){const p=r[m];p.hidden||(p.active&&f?o.push(p):p.draw(e,s))}for(m=0;m<o.length;++m)o[m].draw(e,s)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=CW(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=AW(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const r=t==="active",s=this._cachedDataOpts,o=e+"-"+t,c=s[o],h=this.enableOptionSharing&&vf(i);if(c)return Cb(c,h);const f=this.chart.config,m=f.datasetElementScopeKeys(this._type,e),p=r?[`${e}Hover`,"hover",e,""]:[e,""],v=f.getOptionScopes(this.getDataset(),m),x=Object.keys(An.elements[e]),T=()=>this.getContext(i,r,t),E=f.resolveNamedOptions(v,x,T,p);return E.$shared&&(E.$shared=h,s[o]=Object.freeze(Cb(E,h))),E}_resolveAnimations(e,t,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${t}`,c=s[o];if(c)return c;let h;if(r.options.animation!==!1){const m=this.chart.config,p=m.datasetAnimationScopeKeys(this._type,t),v=m.getOptionScopes(this.getDataset(),p);h=m.createResolver(v,this.getContext(e,i,t))}const f=new aI(r,h&&h.animations);return h&&h._cacheable&&(s[o]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||i_(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(t,s)||s!==r;return this.updateSharedOptions(s,t,i),{sharedOptions:s,includeOptions:o}}updateElement(e,t,i,r){i_(r)?Object.assign(e,i):this._resolveAnimations(t,r).update(e,i)}updateSharedOptions(e,t,i){e&&!i_(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,r){e.active=r;const s=this.getStyle(t,r);this._resolveAnimations(t,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[c,h,f]of this._syncList)this[c](h,f);this._syncList=[];const r=i.length,s=t.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,t,i=!0){const r=this._cachedMeta,s=r.data,o=e+t;let c;const h=f=>{for(f.length+=t,c=f.length-1;c>=o;c--)f[c]=f[c-t]};for(h(s),c=e;c<o;++c)s[c]=new this.dataElementType;this._parsing&&h(r._parsed),this.parse(e,t),i&&this.updateElements(s,e,t,"reset")}updateElements(e,t,i,r){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,t);i._stacked&&Th(i,r)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,r]=e;this[t](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function IW(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let i=[];for(let r=0,s=t.length;r<s;r++)i=i.concat(t[r].controller.getAllParsedValues(n));n._cache.$bar=WR(i.sort((r,s)=>r-s))}return n._cache.$bar}function DW(n){const e=n.iScale,t=IW(e,n.type);let i=e._length,r,s,o,c;const h=()=>{o===32767||o===-32768||(vf(c)&&(i=Math.min(i,Math.abs(o-c)||i)),c=o)};for(r=0,s=t.length;r<s;++r)o=e.getPixelForValue(t[r]),h();for(c=void 0,r=0,s=e.ticks.length;r<s;++r)o=e.getPixelForTick(r),h();return i}function OW(n,e,t,i){const r=t.barThickness;let s,o;return Ft(r)?(s=e.min*t.categoryPercentage,o=t.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[n]-s/2}}function NW(n,e,t,i){const r=e.pixels,s=r[n];let o=n>0?r[n-1]:null,c=n<r.length-1?r[n+1]:null;const h=t.categoryPercentage;o===null&&(o=s-(c===null?e.end-e.start:c-s)),c===null&&(c=s+s-o);const f=s-(s-Math.min(o,c))/2*h;return{chunk:Math.abs(c-o)/2*h/i,ratio:t.barPercentage,start:f}}function MW(n,e,t,i){const r=t.parse(n[0],i),s=t.parse(n[1],i),o=Math.min(r,s),c=Math.max(r,s);let h=o,f=c;Math.abs(o)>Math.abs(c)&&(h=c,f=o),e[t.axis]=f,e._custom={barStart:h,barEnd:f,start:r,end:s,min:o,max:c}}function lI(n,e,t,i){return zn(n)?MW(n,e,t,i):e[t.axis]=t.parse(n,i),e}function Rb(n,e,t,i){const r=n.iScale,s=n.vScale,o=r.getLabels(),c=r===s,h=[];let f,m,p,v;for(f=t,m=t+i;f<m;++f)v=e[f],p={},p[r.axis]=c||r.parse(o[f],f),h.push(lI(v,p,s,f));return h}function r_(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function kW(n,e,t){return n!==0?Rs(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function PW(n){let e,t,i,r,s;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:t,end:i,reverse:e,top:r,bottom:s}}function FW(n,e,t,i){let r=e.borderSkipped;const s={};if(!r){n.borderSkipped=s;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:c,reverse:h,top:f,bottom:m}=PW(n);r==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?r=f:(t._bottom||0)===i?r=m:(s[Ib(m,o,c,h)]=!0,r=f)),s[Ib(r,o,c,h)]=!0,n.borderSkipped=s}function Ib(n,e,t,i){return i?(n=LW(n,e,t),n=Db(n,t,e)):n=Db(n,e,t),n}function LW(n,e,t){return n===e?t:n===t?e:n}function Db(n,e,t){return n==="start"?e:n==="end"?t:n}function BW(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class VW extends Eg{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,i,r){return Rb(e,t,i,r)}parseArrayData(e,t,i,r){return Rb(e,t,i,r)}parseObjectData(e,t,i,r){const{iScale:s,vScale:o}=e,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,f=s.axis==="x"?c:h,m=o.axis==="x"?c:h,p=[];let v,x,T,E;for(v=i,x=i+r;v<x;++v)E=t[v],T={},T[s.axis]=s.parse(Dl(E,f),v),p.push(lI(Dl(E,m),T,o,v));return p}updateRangeFromParsed(e,t,i,r){super.updateRangeFromParsed(e,t,i,r);const s=i._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:r}=t,s=this.getParsed(e),o=s._custom,c=r_(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:c}}=this,h=c.getBasePixel(),f=c.isHorizontal(),m=this._getRuler(),{sharedOptions:p,includeOptions:v}=this._getSharedOptions(t,r);for(let x=t;x<t+i;x++){const T=this.getParsed(x),E=s||Ft(T[c.axis])?{base:h,head:h}:this._calculateBarValuePixels(x),S=this._calculateBarIndexPixels(x,m),C=(T._stacks||{})[c.axis],O={horizontal:f,base:E.base,enableBorderRadius:!C||r_(T._custom)||o===C._top||o===C._bottom,x:f?E.head:S.center,y:f?S.center:E.head,height:f?S.size:Math.abs(E.size),width:f?Math.abs(E.size):S.size};v&&(O.options=p||this.resolveDataElementOptions(x,e[x].active?"active":r));const N=O.options||e[x].options;FW(O,N,C,o),BW(O,N,m.ratio),this.updateElement(e[x],x,O,r)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(m=>m.controller.options.grouped),s=i.options.stacked,o=[],c=this._cachedMeta.controller.getParsed(t),h=c&&c[i.axis],f=m=>{const p=m._parsed.find(x=>x[i.axis]===h),v=p&&p[m.vScale.axis];if(Ft(v)||isNaN(v))return!0};for(const m of r)if(!(t!==void 0&&f(m))&&((s===!1||o.indexOf(m.stack)===-1||s===void 0&&m.stack===void 0)&&o.push(m.stack),m.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[ft(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,i){const r=this._getStacks(e,i),s=t!==void 0?r.indexOf(t):-1;return s===-1?r.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,r=[];let s,o;for(s=0,o=t.data.length;s<o;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const c=e.barThickness;return{min:c||DW(t),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i,index:r},options:{base:s,minBarLength:o}}=this,c=s||0,h=this.getParsed(e),f=h._custom,m=r_(f);let p=h[t.axis],v=0,x=i?this.applyStack(t,h,i):p,T,E;x!==p&&(v=x-p,x=p),m&&(p=f.barStart,x=f.barEnd-f.barStart,p!==0&&Rs(p)!==Rs(f.barEnd)&&(v=0),v+=p);const S=!Ft(s)&&!m?s:v;let C=t.getPixelForValue(S);if(this.chart.getDataVisibility(e)?T=t.getPixelForValue(v+x):T=C,E=T-C,Math.abs(E)<o){E=kW(E,t,c)*o,p===c&&(C-=E/2);const O=t.getPixelForDecimal(0),N=t.getPixelForDecimal(1),H=Math.min(O,N),Y=Math.max(O,N);C=Math.max(Math.min(C,Y),H),T=C+E,i&&!m&&(h._stacks[t.axis]._visualValues[r]=t.getValueForPixel(T)-t.getValueForPixel(C))}if(C===t.getPixelForValue(c)){const O=Rs(E)*t.getLineWidthForValue(c)/2;C+=O,E-=O}return{size:E,base:C,head:T,center:T+E/2}}_calculateBarIndexPixels(e,t){const i=t.scale,r=this.options,s=r.skipNull,o=ft(r.maxBarThickness,1/0);let c,h;const f=this._getAxisCount();if(t.grouped){const m=s?this._getStackCount(e):t.stackCount,p=r.barThickness==="flex"?NW(e,t,r,m*f):OW(e,t,r,m*f),v=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,x=this._getAxis().indexOf(ft(v,this.getFirstScaleIdForIndexAxis())),T=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+x;c=p.start+p.chunk*T+p.chunk/2,h=Math.min(o,p.chunk*p.ratio)}else c=i.getPixelForValue(this.getParsed(e)[i.axis],e),h=Math.min(o,t.min*t.ratio);return{base:c-h/2,head:c+h/2,center:c,size:h}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[t.axis]!==null&&!i[s].hidden&&i[s].draw(this._ctx)}}function UW(n,e,t){let i=1,r=1,s=0,o=0;if(e<xn){const c=n,h=c+e,f=Math.cos(c),m=Math.sin(c),p=Math.cos(h),v=Math.sin(h),x=(N,H,Y)=>xf(N,c,h,!0)?1:Math.max(H,H*t,Y,Y*t),T=(N,H,Y)=>xf(N,c,h,!0)?-1:Math.min(H,H*t,Y,Y*t),E=x(0,f,p),S=x(Hn,m,v),C=T(Wt,f,p),O=T(Wt+Hn,m,v);i=(E-C)/2,r=(S-O)/2,s=-(E+C)/2,o=-(S+O)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}class zW extends Eg{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return t.labels.map((s,o)=>{const h=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:r,lineWidth:h.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=h=>+i[h];if(bt(i[e])){const{key:h="value"}=this._parsing;s=f=>+Dl(i[f],h)}let o,c;for(o=e,c=e+t;o<c;++o)r._parsed[o]=s(o)}}_getRotation(){return la(this.options.rotation-90)}_getCircumference(){return la(this.options.circumference)}_getRotationExtents(){let e=xn,t=-xn;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),o=r._getCircumference();e=Math.min(e,s),t=Math.max(t,s+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,r=this._cachedMeta,s=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-o)/2,0),h=Math.min(qq(this.options.cutout,c),1),f=this._getRingWeight(this.index),{circumference:m,rotation:p}=this._getRotationExtents(),{ratioX:v,ratioY:x,offsetX:T,offsetY:E}=UW(p,m,h),S=(i.width-o)/v,C=(i.height-o)/x,O=Math.max(Math.min(S,C)/2,0),N=zR(this.options.radius,O),H=Math.max(N*h,0),Y=(N-H)/this._getVisibleDatasetWeightTotal();this.offsetX=T*N,this.offsetY=E*N,r.total=this.calculateTotal(),this.outerRadius=N-Y*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Y*f,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/xn)}updateElements(e,t,i,r){const s=r==="reset",o=this.chart,c=o.chartArea,f=o.options.animation,m=(c.left+c.right)/2,p=(c.top+c.bottom)/2,v=s&&f.animateScale,x=v?0:this.innerRadius,T=v?0:this.outerRadius,{sharedOptions:E,includeOptions:S}=this._getSharedOptions(t,r);let C=this._getRotation(),O;for(O=0;O<t;++O)C+=this._circumference(O,s);for(O=t;O<t+i;++O){const N=this._circumference(O,s),H=e[O],Y={x:m+this.offsetX,y:p+this.offsetY,startAngle:C,endAngle:C+N,circumference:N,outerRadius:T,innerRadius:x};S&&(Y.options=E||this.resolveDataElementOptions(O,H.active?"active":r)),C+=N,this.updateElement(H,O,Y,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i=0,r;for(r=0;r<t.length;r++){const s=e._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!t[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?xn*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=Cy(t._parsed[e],i.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const i=this.chart;let r,s,o,c,h;if(!e){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){o=i.getDatasetMeta(r),e=o.data,c=o.controller;break}}if(!e)return 0;for(r=0,s=e.length;r<s;++r)h=c.resolveDataElementOptions(r),h.borderAlign!=="inner"&&(t=Math.max(t,h.borderWidth||0,h.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,r=e.length;i<r;++i){const s=this.resolveDataElementOptions(i);t=Math.max(t,s.offset||0,s.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(ft(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class jW extends Eg{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=t,o=this.chart._animationsDisabled;let{start:c,count:h}=uG(t,r,o);this._drawStart=c,this._drawCount=h,hG(t)&&(c=0,h=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const f=this.resolveDatasetElementOptions(e);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:f},e),this.updateElements(r,c,h,e)}updateElements(e,t,i,r){const s=r==="reset",{iScale:o,vScale:c,_stacked:h,_dataset:f}=this._cachedMeta,{sharedOptions:m,includeOptions:p}=this._getSharedOptions(t,r),v=o.axis,x=c.axis,{spanGaps:T,segment:E}=this.options,S=yf(T)?T:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||s||r==="none",O=t+i,N=e.length;let H=t>0&&this.getParsed(t-1);for(let Y=0;Y<N;++Y){const te=e[Y],A=C?te:{};if(Y<t||Y>=O){A.skip=!0;continue}const D=this.getParsed(Y),I=Ft(D[x]),P=A[v]=o.getPixelForValue(D[v],Y),M=A[x]=s||I?c.getBasePixel():c.getPixelForValue(h?this.applyStack(c,D,h):D[x],Y);A.skip=isNaN(P)||isNaN(M)||I,A.stop=Y>0&&Math.abs(D[v]-H[v])>S,E&&(A.parsed=D,A.raw=f.data[Y]),p&&(A.options=m||this.resolveDataElementOptions(Y,te.active?"active":r)),C||this.updateElement(te,Y,A,r),H=D}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class HW extends zW{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function hl(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Fy{static override(e){Object.assign(Fy.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return hl()}parse(){return hl()}format(){return hl()}add(){return hl()}diff(){return hl()}startOf(){return hl()}endOf(){return hl()}}var qW={_date:Fy};function GW(n,e,t,i){const{controller:r,data:s,_sorted:o}=n,c=r._cachedMeta.iScale,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&o&&s.length){const f=c._reversePixels?sG:_l;if(i){if(r._sharedOptions){const m=s[0],p=typeof m.getRange=="function"&&m.getRange(e);if(p){const v=f(s,e,t-p),x=f(s,e,t+p);return{lo:v.lo,hi:x.hi}}}}else{const m=f(s,e,t);if(h){const{vScale:p}=r._cachedMeta,{_parsed:v}=n,x=v.slice(0,m.lo+1).reverse().findIndex(E=>!Ft(E[p.axis]));m.lo-=Math.max(0,x);const T=v.slice(m.hi).findIndex(E=>!Ft(E[p.axis]));m.hi+=Math.max(0,T)}return m}}return{lo:0,hi:s.length-1}}function Tg(n,e,t,i,r){const s=n.getSortedVisibleDatasetMetas(),o=t[e];for(let c=0,h=s.length;c<h;++c){const{index:f,data:m}=s[c],{lo:p,hi:v}=GW(s[c],e,o,r);for(let x=p;x<=v;++x){const T=m[x];T.skip||i(T,f,x)}}}function WW(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,o=t?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function s_(n,e,t,i,r){const s=[];return!r&&!n.isPointInArea(e)||Tg(n,t,e,function(c,h,f){!r&&!Ef(c,n.chartArea,0)||c.inRange(e.x,e.y,i)&&s.push({element:c,datasetIndex:h,index:f})},!0),s}function YW(n,e,t,i){let r=[];function s(o,c,h){const{startAngle:f,endAngle:m}=o.getProps(["startAngle","endAngle"],i),{angle:p}=qR(o,{x:e.x,y:e.y});xf(p,f,m)&&r.push({element:o,datasetIndex:c,index:h})}return Tg(n,t,e,s),r}function XW(n,e,t,i,r,s){let o=[];const c=WW(t);let h=Number.POSITIVE_INFINITY;function f(m,p,v){const x=m.inRange(e.x,e.y,r);if(i&&!x)return;const T=m.getCenterPoint(r);if(!(!!s||n.isPointInArea(T))&&!x)return;const S=c(e,T);S<h?(o=[{element:m,datasetIndex:p,index:v}],h=S):S===h&&o.push({element:m,datasetIndex:p,index:v})}return Tg(n,t,e,f),o}function a_(n,e,t,i,r,s){return!s&&!n.isPointInArea(e)?[]:t==="r"&&!i?YW(n,e,t,r):XW(n,e,t,i,r,s)}function Ob(n,e,t,i,r){const s=[],o=t==="x"?"inXRange":"inYRange";let c=!1;return Tg(n,t,e,(h,f,m)=>{h[o]&&h[o](e[t],r)&&(s.push({element:h,datasetIndex:f,index:m}),c=c||h.inRange(e.x,e.y,r))}),i&&!c?[]:s}var $W={modes:{index(n,e,t,i){const r=dl(e,n),s=t.axis||"x",o=t.includeInvisible||!1,c=t.intersect?s_(n,r,s,i,o):a_(n,r,s,!1,i,o),h=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const m=c[0].index,p=f.data[m];p&&!p.skip&&h.push({element:p,datasetIndex:f.index,index:m})}),h):[]},dataset(n,e,t,i){const r=dl(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;let c=t.intersect?s_(n,r,s,i,o):a_(n,r,s,!1,i,o);if(c.length>0){const h=c[0].datasetIndex,f=n.getDatasetMeta(h).data;c=[];for(let m=0;m<f.length;++m)c.push({element:f[m],datasetIndex:h,index:m})}return c},point(n,e,t,i){const r=dl(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return s_(n,r,s,i,o)},nearest(n,e,t,i){const r=dl(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return a_(n,r,s,t.intersect,i,o)},x(n,e,t,i){const r=dl(e,n);return Ob(n,r,"x",t.intersect,i)},y(n,e,t,i){const r=dl(e,n);return Ob(n,r,"y",t.intersect,i)}}};const cI=["left","top","right","bottom"];function Sh(n,e){return n.filter(t=>t.pos===e)}function Nb(n,e){return n.filter(t=>cI.indexOf(t.pos)===-1&&t.box.axis===e)}function wh(n,e){return n.sort((t,i)=>{const r=e?i:t,s=e?t:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function KW(n){const e=[];let t,i,r,s,o,c;for(t=0,i=(n||[]).length;t<i;++t)r=n[t],{position:s,options:{stack:o,stackWeight:c=1}}=r,e.push({index:t,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:c});return e}function QW(n){const e={};for(const t of n){const{stack:i,pos:r,stackWeight:s}=t;if(!i||!cI.includes(r))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function ZW(n,e){const t=QW(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,c;for(s=0,o=n.length;s<o;++s){c=n[s];const{fullSize:h}=c.box,f=t[c.stack],m=f&&c.stackWeight/f.weight;c.horizontal?(c.width=m?m*i:h&&e.availableWidth,c.height=r):(c.width=i,c.height=m?m*r:h&&e.availableHeight)}return t}function JW(n){const e=KW(n),t=wh(e.filter(f=>f.box.fullSize),!0),i=wh(Sh(e,"left"),!0),r=wh(Sh(e,"right")),s=wh(Sh(e,"top"),!0),o=wh(Sh(e,"bottom")),c=Nb(e,"x"),h=Nb(e,"y");return{fullSize:t,leftAndTop:i.concat(s),rightAndBottom:r.concat(h).concat(o).concat(c),chartArea:Sh(e,"chartArea"),vertical:i.concat(r).concat(h),horizontal:s.concat(o).concat(c)}}function Mb(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function uI(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function eY(n,e,t,i){const{pos:r,box:s}=t,o=n.maxPadding;if(!bt(r)){t.size&&(n[r]-=t.size);const p=i[t.stack]||{size:0,count:1};p.size=Math.max(p.size,t.horizontal?s.height:s.width),t.size=p.size/p.count,n[r]+=t.size}s.getPadding&&uI(o,s.getPadding());const c=Math.max(0,e.outerWidth-Mb(o,n,"left","right")),h=Math.max(0,e.outerHeight-Mb(o,n,"top","bottom")),f=c!==n.w,m=h!==n.h;return n.w=c,n.h=h,t.horizontal?{same:f,other:m}:{same:m,other:f}}function tY(n){const e=n.maxPadding;function t(i){const r=Math.max(e[i]-n[i],0);return n[i]+=r,r}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function nY(n,e){const t=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],t[o])}),s}return i(n?["left","right"]:["top","bottom"])}function Nh(n,e,t,i){const r=[];let s,o,c,h,f,m;for(s=0,o=n.length,f=0;s<o;++s){c=n[s],h=c.box,h.update(c.width||e.w,c.height||e.h,nY(c.horizontal,e));const{same:p,other:v}=eY(e,t,c,i);f|=p&&r.length,m=m||v,h.fullSize||r.push(c)}return f&&Nh(r,e,t,i)||m}function k0(n,e,t,i,r){n.top=t,n.left=e,n.right=e+i,n.bottom=t+r,n.width=i,n.height=r}function kb(n,e,t,i){const r=t.padding;let{x:s,y:o}=e;for(const c of n){const h=c.box,f=i[c.stack]||{placed:0,weight:1},m=c.stackWeight/f.weight||1;if(c.horizontal){const p=e.w*m,v=f.size||h.height;vf(f.start)&&(o=f.start),h.fullSize?k0(h,r.left,o,t.outerWidth-r.right-r.left,v):k0(h,e.left+f.placed,o,p,v),f.start=o,f.placed+=p,o=h.bottom}else{const p=e.h*m,v=f.size||h.width;vf(f.start)&&(s=f.start),h.fullSize?k0(h,s,r.top,v,t.outerHeight-r.bottom-r.top):k0(h,s,e.top+f.placed,v,p),f.start=s,f.placed+=p,s=h.right}}e.x=s,e.y=o}var Or={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const r=Mr(n.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(t-r.height,0),c=JW(n.boxes),h=c.vertical,f=c.horizontal;Gt(n.boxes,E=>{typeof E.beforeLayout=="function"&&E.beforeLayout()});const m=h.reduce((E,S)=>S.box.options&&S.box.options.display===!1?E:E+1,0)||1,p=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/m,hBoxMaxHeight:o/2}),v=Object.assign({},r);uI(v,Mr(i));const x=Object.assign({maxPadding:v,w:s,h:o,x:r.left,y:r.top},r),T=ZW(h.concat(f),p);Nh(c.fullSize,x,p,T),Nh(h,x,p,T),Nh(f,x,p,T)&&Nh(h,x,p,T),tY(x),kb(c.leftAndTop,x,p,T),x.x+=x.w,x.y+=x.h,kb(c.rightAndBottom,x,p,T),n.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},Gt(c.chartArea,E=>{const S=E.box;Object.assign(S,n.chartArea),S.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class hI{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,r){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):i)}}isAttached(e){return!0}updateConfig(e){}}class iY extends hI{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const J0="$chartjs",rY={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Pb=n=>n===null||n==="";function sY(n,e){const t=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[J0]={initial:{height:i,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Pb(r)){const s=vb(n,"width");s!==void 0&&(n.width=s)}if(Pb(i))if(n.style.height==="")n.height=n.width/(e||2);else{const s=vb(n,"height");s!==void 0&&(n.height=s)}return n}const fI=eW?{passive:!0}:!1;function aY(n,e,t){n&&n.addEventListener(e,t,fI)}function oY(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,fI)}function lY(n,e){const t=rY[n.type]||n.type,{x:i,y:r}=dl(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function zm(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function cY(n,e,t){const i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(const c of s)o=o||zm(c.addedNodes,i),o=o&&!zm(c.removedNodes,i);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function uY(n,e,t){const i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(const c of s)o=o||zm(c.removedNodes,i),o=o&&!zm(c.addedNodes,i);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const Sf=new Map;let Fb=0;function dI(){const n=window.devicePixelRatio;n!==Fb&&(Fb=n,Sf.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function hY(n,e){Sf.size||window.addEventListener("resize",dI),Sf.set(n,e)}function fY(n){Sf.delete(n),Sf.size||window.removeEventListener("resize",dI)}function dY(n,e,t){const i=n.canvas,r=i&&Py(i);if(!r)return;const s=XR((c,h)=>{const f=r.clientWidth;t(c,h),f<r.clientWidth&&t()},window),o=new ResizeObserver(c=>{const h=c[0],f=h.contentRect.width,m=h.contentRect.height;f===0&&m===0||s(f,m)});return o.observe(r),hY(n,s),o}function o_(n,e,t){t&&t.disconnect(),e==="resize"&&fY(n)}function mY(n,e,t){const i=n.canvas,r=XR(s=>{n.ctx!==null&&t(lY(s,n))},n);return aY(i,e,r),r}class gY extends hI{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(sY(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[J0])return!1;const i=t[J0].initial;["height","width"].forEach(s=>{const o=i[s];Ft(o)?t.removeAttribute(s):t.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{t.style[s]=r[s]}),t.width=t.width,delete t[J0],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),o={attach:cY,detach:uY,resize:dY}[t]||mY;r[t]=o(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),r=i[t];if(!r)return;({attach:o_,detach:o_,resize:o_}[t]||oY)(e,t,r),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,r){return JG(e,t,i,r)}isAttached(e){const t=e&&Py(e);return!!(t&&t.isConnected)}}function pY(n){return!ky()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?iY:gY}class wa{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return yf(this.x)&&yf(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}function _Y(n,e){const t=n.options.ticks,i=vY(n),r=Math.min(t.maxTicksLimit||i,i),s=t.major.enabled?xY(e):[],o=s.length,c=s[0],h=s[o-1],f=[];if(o>r)return EY(e,f,s,o/r),f;const m=yY(s,e,r);if(o>0){let p,v;const x=o>1?Math.round((h-c)/(o-1)):null;for(P0(e,f,m,Ft(x)?0:c-x,c),p=0,v=o-1;p<v;p++)P0(e,f,m,s[p],s[p+1]);return P0(e,f,m,h,Ft(x)?e.length:h+x),f}return P0(e,f,m),f}function vY(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),r=n._maxLength/t;return Math.floor(Math.min(i,r))}function yY(n,e,t){const i=TY(n),r=e.length/t;if(!i)return Math.max(r,1);const s=Zq(i);for(let o=0,c=s.length-1;o<c;o++){const h=s[o];if(h>r)return h}return Math.max(r,1)}function xY(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function EY(n,e,t,i){let r=0,s=t[0],o;for(i=Math.ceil(i),o=0;o<n.length;o++)o===s&&(e.push(n[o]),r++,s=t[r*i])}function P0(n,e,t,i,r){const s=ft(i,0),o=Math.min(ft(r,n.length),n.length);let c=0,h,f,m;for(t=Math.ceil(t),r&&(h=r-i,t=h/Math.floor(h/t)),m=s;m<0;)c++,m=Math.round(s+c*t);for(f=Math.max(s,0);f<o;f++)f===m&&(e.push(n[f]),c++,m=Math.round(s+c*t))}function TY(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const SY=n=>n==="left"?"right":n==="right"?"left":n,Lb=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,Bb=(n,e)=>Math.min(e||n,n);function Vb(n,e){const t=[],i=n.length/e,r=n.length;let s=0;for(;s<r;s+=i)t.push(n[Math.floor(s)]);return t}function wY(n,e,t){const i=n.ticks.length,r=Math.min(e,i-1),s=n._startPixel,o=n._endPixel,c=1e-6;let h=n.getPixelForTick(r),f;if(!(t&&(i===1?f=Math.max(h-s,o-h):e===0?f=(n.getPixelForTick(1)-h)/2:f=(h-n.getPixelForTick(r-1))/2,h+=r<e?f:-f,h<s-c||h>o+c)))return h}function bY(n,e){Gt(n,t=>{const i=t.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete t.data[i[s]];i.splice(0,r)}})}function bh(n){return n.drawTicks?n.tickLength:0}function Ub(n,e){if(!n.display)return 0;const t=bi(n.font,e),i=Mr(n.padding);return(zn(n.text)?n.text.length:1)*t.lineHeight+i.height}function AY(n,e){return jl(n,{scale:e,type:"scale"})}function CY(n,e,t){return jl(n,{tick:t,index:e,type:"tick"})}function RY(n,e,t){let i=by(n);return(t&&e!=="right"||!t&&e==="right")&&(i=SY(i)),i}function IY(n,e,t,i){const{top:r,left:s,bottom:o,right:c,chart:h}=n,{chartArea:f,scales:m}=h;let p=0,v,x,T;const E=o-r,S=c-s;if(n.isHorizontal()){if(x=Ei(i,s,c),bt(t)){const C=Object.keys(t)[0],O=t[C];T=m[C].getPixelForValue(O)+E-e}else t==="center"?T=(f.bottom+f.top)/2+E-e:T=Lb(n,t,e);v=c-s}else{if(bt(t)){const C=Object.keys(t)[0],O=t[C];x=m[C].getPixelForValue(O)-S+e}else t==="center"?x=(f.left+f.right)/2-S+e:x=Lb(n,t,e);T=Ei(i,o,r),p=t==="left"?-Hn:Hn}return{titleX:x,titleY:T,maxWidth:v,rotation:p}}class Su extends wa{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:r}=this;return e=gs(e,Number.POSITIVE_INFINITY),t=gs(t,Number.NEGATIVE_INFINITY),i=gs(i,Number.POSITIVE_INFINITY),r=gs(r,Number.NEGATIVE_INFINITY),{min:gs(e,i),max:gs(t,r),minDefined:Nr(e),maxDefined:Nr(t)}}getMinMax(e){let{min:t,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:t,max:i};const c=this.getMatchingVisibleMetas();for(let h=0,f=c.length;h<f;++h)o=c[h].controller.getMinMax(this,e),r||(t=Math.min(t,o.min)),s||(i=Math.max(i,o.max));return t=s&&t>i?i:t,i=r&&t>i?t:i,{min:gs(t,gs(i,t)),max:gs(i,gs(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ln(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,c=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=OG(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=c<this.ticks.length;this._convertTicksToLabels(h?Vb(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=_Y(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ln(this.options.afterUpdate,[this])}beforeSetDimensions(){ln(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ln(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ln(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ln(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=ln(t.callback,[s.value,i,e],this)}afterTickToLabelConversion(){ln(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ln(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=Bb(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,s=t.maxRotation;let o=r,c,h,f;if(!this._isVisible()||!t.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const m=this._getLabelSizes(),p=m.widest.width,v=m.highest.height,x=wi(this.chart.width-p,0,this.maxWidth);c=e.offset?this.maxWidth/i:x/(i-1),p+6>c&&(c=x/(i-(e.offset?.5:1)),h=this.maxHeight-bh(e.grid)-t.padding-Ub(e.title,this.chart.options.font),f=Math.sqrt(p*p+v*v),o=nG(Math.min(Math.asin(wi((m.highest.height+6)/c,-1,1)),Math.asin(wi(h/f,-1,1))-Math.asin(wi(v/f,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){ln(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ln(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),c=this.isHorizontal();if(o){const h=Ub(r,t.options.font);if(c?(e.width=this.maxWidth,e.height=bh(s)+h):(e.height=this.maxHeight,e.width=bh(s)+h),i.display&&this.ticks.length){const{first:f,last:m,widest:p,highest:v}=this._getLabelSizes(),x=i.padding*2,T=la(this.labelRotation),E=Math.cos(T),S=Math.sin(T);if(c){const C=i.mirror?0:S*p.width+E*v.height;e.height=Math.min(this.maxHeight,e.height+C+x)}else{const C=i.mirror?0:E*p.width+S*v.height;e.width=Math.min(this.maxWidth,e.width+C+x)}this._calculatePadding(f,m,S,E)}}this._handleMargins(),c?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,r){const{ticks:{align:s,padding:o},position:c}=this.options,h=this.labelRotation!==0,f=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,x=0;h?f?(v=r*e.width,x=i*t.height):(v=i*e.height,x=r*t.width):s==="start"?x=t.width:s==="end"?v=e.width:s!=="inner"&&(v=e.width/2,x=t.width/2),this.paddingLeft=Math.max((v-m+o)*this.width/(this.width-m),0),this.paddingRight=Math.max((x-p+o)*this.width/(this.width-p),0)}else{let m=t.height/2,p=e.height/2;s==="start"?(m=0,p=e.height):s==="end"&&(m=t.height,p=0),this.paddingTop=m+o,this.paddingBottom=p+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ln(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)Ft(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=Vb(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:r,_longestTextCache:s}=this,o=[],c=[],h=Math.floor(t/Bb(t,i));let f=0,m=0,p,v,x,T,E,S,C,O,N,H,Y;for(p=0;p<t;p+=h){if(T=e[p].label,E=this._resolveTickFontOptions(p),r.font=S=E.string,C=s[S]=s[S]||{data:{},gc:[]},O=E.lineHeight,N=H=0,!Ft(T)&&!zn(T))N=db(r,C.data,C.gc,N,T),H=O;else if(zn(T))for(v=0,x=T.length;v<x;++v)Y=T[v],!Ft(Y)&&!zn(Y)&&(N=db(r,C.data,C.gc,N,Y),H+=O);o.push(N),c.push(H),f=Math.max(N,f),m=Math.max(H,m)}bY(s,t);const te=o.indexOf(f),A=c.indexOf(m),D=I=>({width:o[I]||0,height:c[I]||0});return{first:D(0),last:D(t-1),widest:D(te),highest:D(A),widths:o,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return rG(this._alignToPixels?ul(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=CY(this.getContext(),e,i))}return this.$context||(this.$context=AY(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=la(this.labelRotation),i=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,c=s?s.widest.width+o:0,h=s?s.highest.height+o:0;return this.isHorizontal()?h*i>c*r?c/i:h/r:h*r<c*i?h/i:c/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:c}=r,h=s.offset,f=this.isHorizontal(),p=this.ticks.length+(h?1:0),v=bh(s),x=[],T=c.setContext(this.getContext()),E=T.display?T.width:0,S=E/2,C=function(se){return ul(i,se,E)};let O,N,H,Y,te,A,D,I,P,M,B,F;if(o==="top")O=C(this.bottom),A=this.bottom-v,I=O-S,M=C(e.top)+S,F=e.bottom;else if(o==="bottom")O=C(this.top),M=e.top,F=C(e.bottom)-S,A=O+S,I=this.top+v;else if(o==="left")O=C(this.right),te=this.right-v,D=O-S,P=C(e.left)+S,B=e.right;else if(o==="right")O=C(this.left),P=e.left,B=C(e.right)-S,te=O+S,D=this.left+v;else if(t==="x"){if(o==="center")O=C((e.top+e.bottom)/2+.5);else if(bt(o)){const se=Object.keys(o)[0],Ee=o[se];O=C(this.chart.scales[se].getPixelForValue(Ee))}M=e.top,F=e.bottom,A=O+S,I=A+v}else if(t==="y"){if(o==="center")O=C((e.left+e.right)/2);else if(bt(o)){const se=Object.keys(o)[0],Ee=o[se];O=C(this.chart.scales[se].getPixelForValue(Ee))}te=O-S,D=te-v,P=e.left,B=e.right}const Te=ft(r.ticks.maxTicksLimit,p),Oe=Math.max(1,Math.ceil(p/Te));for(N=0;N<p;N+=Oe){const se=this.getContext(N),Ee=s.setContext(se),Ue=c.setContext(se),He=Ee.lineWidth,Je=Ee.color,ee=Ue.dash||[],V=Ue.dashOffset,Z=Ee.tickWidth,K=Ee.tickColor,Q=Ee.tickBorderDash||[],fe=Ee.tickBorderDashOffset;H=wY(this,N,h),H!==void 0&&(Y=ul(i,H,He),f?te=D=P=B=Y:A=I=M=F=Y,x.push({tx1:te,ty1:A,tx2:D,ty2:I,x1:P,y1:M,x2:B,y2:F,width:He,color:Je,borderDash:ee,borderDashOffset:V,tickWidth:Z,tickColor:K,tickBorderDash:Q,tickBorderDashOffset:fe}))}return this._ticksLength=p,this._borderValue=O,x}_computeLabelItems(e){const t=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),c=this.ticks,{align:h,crossAlign:f,padding:m,mirror:p}=s,v=bh(i.grid),x=v+m,T=p?-m:x,E=-la(this.labelRotation),S=[];let C,O,N,H,Y,te,A,D,I,P,M,B,F="middle";if(r==="top")te=this.bottom-T,A=this._getXAxisLabelAlignment();else if(r==="bottom")te=this.top+T,A=this._getXAxisLabelAlignment();else if(r==="left"){const Oe=this._getYAxisLabelAlignment(v);A=Oe.textAlign,Y=Oe.x}else if(r==="right"){const Oe=this._getYAxisLabelAlignment(v);A=Oe.textAlign,Y=Oe.x}else if(t==="x"){if(r==="center")te=(e.top+e.bottom)/2+x;else if(bt(r)){const Oe=Object.keys(r)[0],se=r[Oe];te=this.chart.scales[Oe].getPixelForValue(se)+x}A=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")Y=(e.left+e.right)/2-x;else if(bt(r)){const Oe=Object.keys(r)[0],se=r[Oe];Y=this.chart.scales[Oe].getPixelForValue(se)}A=this._getYAxisLabelAlignment(v).textAlign}t==="y"&&(h==="start"?F="top":h==="end"&&(F="bottom"));const Te=this._getLabelSizes();for(C=0,O=c.length;C<O;++C){N=c[C],H=N.label;const Oe=s.setContext(this.getContext(C));D=this.getPixelForTick(C)+s.labelOffset,I=this._resolveTickFontOptions(C),P=I.lineHeight,M=zn(H)?H.length:1;const se=M/2,Ee=Oe.color,Ue=Oe.textStrokeColor,He=Oe.textStrokeWidth;let Je=A;o?(Y=D,A==="inner"&&(C===O-1?Je=this.options.reverse?"left":"right":C===0?Je=this.options.reverse?"right":"left":Je="center"),r==="top"?f==="near"||E!==0?B=-M*P+P/2:f==="center"?B=-Te.highest.height/2-se*P+P:B=-Te.highest.height+P/2:f==="near"||E!==0?B=P/2:f==="center"?B=Te.highest.height/2-se*P:B=Te.highest.height-M*P,p&&(B*=-1),E!==0&&!Oe.showLabelBackdrop&&(Y+=P/2*Math.sin(E))):(te=D,B=(1-M)*P/2);let ee;if(Oe.showLabelBackdrop){const V=Mr(Oe.backdropPadding),Z=Te.heights[C],K=Te.widths[C];let Q=B-V.top,fe=0-V.left;switch(F){case"middle":Q-=Z/2;break;case"bottom":Q-=Z;break}switch(A){case"center":fe-=K/2;break;case"right":fe-=K;break;case"inner":C===O-1?fe-=K:C>0&&(fe-=K/2);break}ee={left:fe,top:Q,width:K+V.width,height:Z+V.height,color:Oe.backdropColor}}S.push({label:H,font:I,textOffset:B,options:{rotation:E,color:Ee,strokeColor:Ue,strokeWidth:He,textAlign:Je,textBaseline:F,translation:[Y,te],backdrop:ee}})}return S}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-la(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),c=e+s,h=o.widest.width;let f,m;return t==="left"?r?(m=this.right+s,i==="near"?f="left":i==="center"?(f="center",m+=h/2):(f="right",m+=h)):(m=this.right-c,i==="near"?f="right":i==="center"?(f="center",m-=h/2):(f="left",m=this.left)):t==="right"?r?(m=this.left+s,i==="near"?f="right":i==="center"?(f="center",m-=h/2):(f="left",m-=h)):(m=this.left+c,i==="near"?f="left":i==="center"?(f="center",m+=h/2):(f="right",m=this.right)):f="right",{textAlign:f,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:r,width:s,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const c=(h,f,m)=>{!m.width||!m.color||(i.save(),i.lineWidth=m.width,i.strokeStyle=m.color,i.setLineDash(m.borderDash||[]),i.lineDashOffset=m.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(t.display)for(s=0,o=r.length;s<o;++s){const h=r[s];t.drawOnChartArea&&c({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),t.drawTicks&&c({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const c=r.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,m,p,v;this.isHorizontal()?(f=ul(e,this.left,o)-o/2,m=ul(e,this.right,c)+c/2,p=v=h):(p=ul(e,this.top,o)-o/2,v=ul(e,this.bottom,c)+c/2,f=m=h),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(f,p),t.lineTo(m,v),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Ry(i,r);const s=this.getLabelItems(e);for(const o of s){const c=o.options,h=o.font,f=o.label,m=o.textOffset;Tf(i,f,0,m,h,c)}r&&Iy(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:r}}=this;if(!i.display)return;const s=bi(i.font),o=Mr(i.padding),c=i.align;let h=s.lineHeight/2;t==="bottom"||t==="center"||bt(t)?(h+=o.bottom,zn(i.text)&&(h+=s.lineHeight*(i.text.length-1))):h+=o.top;const{titleX:f,titleY:m,maxWidth:p,rotation:v}=IY(this,h,t,c);Tf(e,i.text,0,0,s,{color:i.color,maxWidth:p,rotation:v,textAlign:RY(c,t,r),textBaseline:"middle",translation:[f,m]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=ft(e.grid&&e.grid.z,-1),r=ft(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Su.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=t.length;s<o;++s){const c=t[s];c[i]===this.id&&(!e||c.type===e)&&r.push(c)}return r}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return bi(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class F0{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;NY(t)&&(i=this.register(t));const r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,DY(e,o,i),this.override&&An.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,r=this.scope;i in t&&delete t[i],r&&i in An[r]&&(delete An[r][i],this.override&&delete Ol[i])}}function DY(n,e,t){const i=_f(Object.create(null),[t?An.get(t):{},An.get(e),n.defaults]);An.set(e,i),n.defaultRoutes&&OY(e,n.defaultRoutes),n.descriptors&&An.describe(e,n.descriptors)}function OY(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),r=i.pop(),s=[n].concat(i).join("."),o=e[t].split("."),c=o.pop(),h=o.join(".");An.route(s,r,h,c)})}function NY(n){return"id"in n&&"defaults"in n}class MY{constructor(){this.controllers=new F0(Eg,"datasets",!0),this.elements=new F0(wa,"elements"),this.plugins=new F0(Object,"plugins"),this.scales=new F0(Su,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):Gt(r,o=>{const c=i||this._getRegistryForType(o);this._exec(e,c,o)})})}_exec(e,t,i){const r=Sy(e);ln(i["before"+r],[],i),t[e](i),ln(i["after"+r],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var ys=new MY;class kY{constructor(){this._init=[]}notify(e,t,i,r){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,t,i);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,i,r){r=r||{};for(const s of e){const o=s.plugin,c=o[i],h=[t,r,s.options];if(ln(c,h,o)===!1&&r.cancelable)return!1}return!0}invalidate(){Ft(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,r=ft(i.options&&i.options.plugins,{}),s=PY(i);return r===!1&&!t?[]:LY(e,s,r,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(c=>!o.some(h=>c.plugin.id===h.plugin.id));this._notify(r(t,i),e,"stop"),this._notify(r(i,t),e,"start")}}function PY(n){const e={},t=[],i=Object.keys(ys.plugins.items);for(let s=0;s<i.length;s++)t.push(ys.getPlugin(i[s]));const r=n.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function FY(n,e){return!e&&n===!1?null:n===!0?{}:n}function LY(n,{plugins:e,localIds:t},i,r){const s=[],o=n.getContext();for(const c of e){const h=c.id,f=FY(i[h],r);f!==null&&s.push({plugin:c,options:BY(n.config,{plugin:c,local:t[h]},f,o)})}return s}function BY(n,{plugin:e,local:t},i,r){const s=n.pluginScopeKeys(e),o=n.getOptionScopes(i,s);return t&&e.defaults&&o.push(e.defaults),n.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function $_(n,e){const t=An.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function VY(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function UY(n,e){return n===e?"_index_":"_value_"}function zb(n){if(n==="x"||n==="y"||n==="r")return n}function zY(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function K_(n,...e){if(zb(n))return n;for(const t of e){const i=t.axis||zY(t.position)||n.length>1&&zb(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function jb(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function jY(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return jb(n,"x",t[0])||jb(n,"y",t[0])}return{}}function HY(n,e){const t=Ol[n.type]||{scales:{}},i=e.scales||{},r=$_(n.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{const c=i[o];if(!bt(c))return console.error(`Invalid scale configuration for scale: ${o}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const h=K_(o,c,jY(o,n),An.scales[c.type]),f=UY(h,r),m=t.scales||{};s[o]=Yh(Object.create(null),[{axis:h},c,m[h],m[f]])}),n.data.datasets.forEach(o=>{const c=o.type||n.type,h=o.indexAxis||$_(c,e),m=(Ol[c]||{}).scales||{};Object.keys(m).forEach(p=>{const v=VY(p,h),x=o[v+"AxisID"]||v;s[x]=s[x]||Object.create(null),Yh(s[x],[{axis:v},i[x],m[p]])})}),Object.keys(s).forEach(o=>{const c=s[o];Yh(c,[An.scales[c.type],An.scale])}),s}function mI(n){const e=n.options||(n.options={});e.plugins=ft(e.plugins,{}),e.scales=HY(n,e)}function gI(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function qY(n){return n=n||{},n.data=gI(n.data),mI(n),n}const Hb=new Map,pI=new Set;function L0(n,e){let t=Hb.get(n);return t||(t=e(),Hb.set(n,t),pI.add(t)),t}const Ah=(n,e,t)=>{const i=Dl(e,t);i!==void 0&&n.add(i)};class GY{constructor(e){this._config=qY(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=gI(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),mI(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return L0(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return L0(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return L0(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return L0(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let r=i.get(e);return(!r||t)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,t,i){const{options:r,type:s}=this,o=this._cachedScopes(e,i),c=o.get(t);if(c)return c;const h=new Set;t.forEach(m=>{e&&(h.add(e),m.forEach(p=>Ah(h,e,p))),m.forEach(p=>Ah(h,r,p)),m.forEach(p=>Ah(h,Ol[s]||{},p)),m.forEach(p=>Ah(h,An,p)),m.forEach(p=>Ah(h,Y_,p))});const f=Array.from(h);return f.length===0&&f.push(Object.create(null)),pI.has(t)&&o.set(t,f),f}chartOptionScopes(){const{options:e,type:t}=this;return[e,Ol[t]||{},An.datasets[t]||{},{type:t},An,Y_]}resolveNamedOptions(e,t,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:c}=qb(this._resolverCache,e,r);let h=o;if(YY(o,t)){s.$shared=!1,i=Mo(i)?i():i;const f=this.createResolver(e,i,c);h=lu(o,i,f)}for(const f of t)s[f]=h[f];return s}createResolver(e,t,i=[""],r){const{resolver:s}=qb(this._resolverCache,e,i);return bt(t)?lu(s,t,void 0,r):s}}function qb(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const r=t.join();let s=i.get(r);return s||(s={resolver:Oy(e,t),subPrefixes:t.filter(c=>!c.toLowerCase().includes("hover"))},i.set(r,s)),s}const WY=n=>bt(n)&&Object.getOwnPropertyNames(n).some(e=>Mo(n[e]));function YY(n,e){const{isScriptable:t,isIndexable:i}=ZR(n);for(const r of e){const s=t(r),o=i(r),c=(o||s)&&n[r];if(s&&(Mo(c)||WY(c))||o&&zn(c))return!0}return!1}var XY="4.5.0";const $Y=["top","bottom","left","right","chartArea"];function Gb(n,e){return n==="top"||n==="bottom"||$Y.indexOf(n)===-1&&e==="x"}function Wb(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function Yb(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),ln(t&&t.onComplete,[n],e)}function KY(n){const e=n.chart,t=e.options.animation;ln(t&&t.onProgress,[n],e)}function _I(n){return ky()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const em={},Xb=n=>{const e=_I(n);return Object.values(em).filter(t=>t.canvas===e).pop()};function QY(n,e,t){const i=Object.keys(n);for(const r of i){const s=+r;if(s>=e){const o=n[r];delete n[r],(t>0||s>e)&&(n[s+t]=o)}}}function ZY(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}let Sg=class{static defaults=An;static instances=em;static overrides=Ol;static registry=ys;static version=XY;static getChart=Xb;static register(...e){ys.add(...e),$b()}static unregister(...e){ys.remove(...e),$b()}constructor(e,t){const i=this.config=new GY(t),r=_I(e),s=Xb(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||pY(r)),this.platform.updateConfig(i);const c=this.platform.acquireContext(r,o.aspectRatio),h=c&&c.canvas,f=h&&h.height,m=h&&h.width;if(this.id=Hq(),this.ctx=c,this.canvas=h,this.width=m,this.height=f,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new kY,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=lG(p=>this.update(p),o.resizeDelay||0),this._dataChanges=[],em[this.id]=this,!c||!h){console.error("Failed to create chart: can't acquire context from the given item");return}ia.listen(this,"complete",Yb),ia.listen(this,"progress",KY),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:r,_aspectRatio:s}=this;return Ft(e)?t&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ys}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():_b(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return mb(this.canvas,this.ctx),this}stop(){return ia.stop(this),this}resize(e,t){ia.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,t,s),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,_b(this,c,!0)&&(this.notifyPlugins("resize",{size:o}),ln(i.onResize,[this,o],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Gt(t,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,r=Object.keys(i).reduce((o,c)=>(o[c]=!1,o),{});let s=[];t&&(s=s.concat(Object.keys(t).map(o=>{const c=t[o],h=K_(o,c),f=h==="r",m=h==="x";return{options:c,dposition:f?"chartArea":m?"bottom":"left",dtype:f?"radialLinear":m?"category":"linear"}}))),Gt(s,o=>{const c=o.options,h=c.id,f=K_(h,c),m=ft(c.type,o.dtype);(c.position===void 0||Gb(c.position,f)!==Gb(o.dposition))&&(c.position=o.dposition),r[h]=!0;let p=null;if(h in i&&i[h].type===m)p=i[h];else{const v=ys.getScale(m);p=new v({id:h,type:m,ctx:this.ctx,chart:this}),i[p.id]=p}p.init(c,e)}),Gt(r,(o,c)=>{o||delete i[c]}),Gt(i,o=>{Or.configure(this,o,o.options),Or.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>t){for(let r=t;r<i;++r)this._destroyDatasetMeta(r);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(Wb("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,r)=>{t.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=t.length;i<r;i++){const s=t[i];let o=this.getDatasetMeta(i);const c=s.type||this.config.type;if(o.type&&o.type!==c&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=c,o.indexAxis=s.indexAxis||$_(c,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const h=ys.getController(c),{datasetElementType:f,dataElementType:m}=An.datasets[c];Object.assign(h,{dataElementType:ys.getElement(m),datasetElementType:f&&ys.getElement(f)}),o.controller=new h(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Gt(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let f=0,m=this.data.datasets.length;f<m;f++){const{controller:p}=this.getDatasetMeta(f),v=!r&&s.indexOf(p)===-1;p.buildOrUpdateElements(v),o=Math.max(+p.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||Gt(s,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Wb("z","_idx"));const{_active:c,_lastEvent:h}=this;h?this._eventHandler(h,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Gt(this.scales,e=>{Or.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!rb(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of t){const o=i==="_removeElements"?-s:s;QY(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=s=>new Set(e.filter(o=>o[0]===s).map((o,c)=>c+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<t;s++)if(!rb(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Or.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],Gt(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,Mo(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ia.has(this)?this.attached&&!ia.running(this)&&ia.start(this):(this.draw(),Yb({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let r,s;for(r=0,s=t.length;r<s;++r){const o=t[r];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i={meta:e,index:e.index,cancelable:!0},r=mW(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&Ry(t,r),e.controller.draw(),r&&Iy(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Ef(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,r){const s=$W.modes[t];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=jl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,r);vf(t)?(s.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(s,{visible:i}),this.update(c=>c.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),ia.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),mb(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete em[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(s,o)=>{t.addEventListener(this,s,o),e[s]=o},r=(s,o,c)=>{s.offsetX=o,s.offsetY=c,this._eventHandler(s)};Gt(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(h,f)=>{t.addEventListener(this,h,f),e[h]=f},r=(h,f)=>{e[h]&&(t.removeEventListener(this,h,f),delete e[h])},s=(h,f)=>{this.canvas&&this.resize(h,f)};let o;const c=()=>{r("attach",c),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",c)},t.isAttached(this.canvas)?c():o()}unbindEvents(){Gt(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Gt(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const r=i?"set":"remove";let s,o,c,h;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),c=0,h=e.length;c<h;++c){o=e[c];const f=o&&this.getDatasetMeta(o.datasetIndex).controller;f&&f[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:s,index:o})=>{const c=this.getDatasetMeta(s);if(!c)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:c.data[o],index:o}});!Fm(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const r=this.options.hover,s=(h,f)=>h.filter(m=>!f.some(p=>m.datasetIndex===p.datasetIndex&&m.index===p.index)),o=s(t,e),c=i?e:s(e,t);o.length&&this.updateHoverStyle(o,r.mode,!1),c.length&&r.mode&&this.updateHoverStyle(c,r.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:r=[],options:s}=this,o=t,c=this._getActiveElements(e,r,i,o),h=$q(e),f=ZY(e,this._lastEvent,i,h);i&&(this._lastEvent=null,ln(s.onHover,[e,c,this],this),h&&ln(s.onClick,[e,c,this],this));const m=!Fm(c,r);return(m||t)&&(this._active=c,this._updateHoverStyles(c,r,t)),this._lastEvent=f,m}_getActiveElements(e,t,i,r){if(e.type==="mouseout")return[];if(!i)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}};function $b(){return Gt(Sg.instances,n=>n._plugins.invalidate())}function JY(n,e,t){const{startAngle:i,x:r,y:s,outerRadius:o,innerRadius:c,options:h}=e,{borderWidth:f,borderJoinStyle:m}=h,p=Math.min(f/o,Xr(i-t));if(n.beginPath(),n.arc(r,s,o-f/2,i+p/2,t-p/2),c>0){const v=Math.min(f/c,Xr(i-t));n.arc(r,s,c+f/2,t-v/2,i+v/2,!0)}else{const v=Math.min(f/2,o*Xr(i-t));if(m==="round")n.arc(r,s,v,t-Wt/2,i+Wt/2,!0);else if(m==="bevel"){const x=2*v*v,T=-x*Math.cos(t+Wt/2)+r,E=-x*Math.sin(t+Wt/2)+s,S=x*Math.cos(i+Wt/2)+r,C=x*Math.sin(i+Wt/2)+s;n.lineTo(T,E),n.lineTo(S,C)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function eX(n,e,t){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:c,innerRadius:h}=e;let f=r/c;n.beginPath(),n.arc(s,o,c,i-f,t+f),h>r?(f=r/h,n.arc(s,o,h,t+f,i-f,!0)):n.arc(s,o,r,t+Hn,i-Hn),n.closePath(),n.clip()}function tX(n){return Dy(n,["outerStart","outerEnd","innerStart","innerEnd"])}function nX(n,e,t,i){const r=tX(n.options.borderRadius),s=(t-e)/2,o=Math.min(s,i*e/2),c=h=>{const f=(t-Math.min(s,h))*i/2;return wi(h,0,Math.min(s,f))};return{outerStart:c(r.outerStart),outerEnd:c(r.outerEnd),innerStart:wi(r.innerStart,0,o),innerEnd:wi(r.innerEnd,0,o)}}function Nc(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function jm(n,e,t,i,r,s){const{x:o,y:c,startAngle:h,pixelMargin:f,innerRadius:m}=e,p=Math.max(e.outerRadius+i+t-f,0),v=m>0?m+i+t+f:0;let x=0;const T=r-h;if(i){const Oe=m>0?m-i:0,se=p>0?p-i:0,Ee=(Oe+se)/2,Ue=Ee!==0?T*Ee/(Ee+i):T;x=(T-Ue)/2}const E=Math.max(.001,T*p-t/Wt)/p,S=(T-E)/2,C=h+S+x,O=r-S-x,{outerStart:N,outerEnd:H,innerStart:Y,innerEnd:te}=nX(e,v,p,O-C),A=p-N,D=p-H,I=C+N/A,P=O-H/D,M=v+Y,B=v+te,F=C+Y/M,Te=O-te/B;if(n.beginPath(),s){const Oe=(I+P)/2;if(n.arc(o,c,p,I,Oe),n.arc(o,c,p,Oe,P),H>0){const He=Nc(D,P,o,c);n.arc(He.x,He.y,H,P,O+Hn)}const se=Nc(B,O,o,c);if(n.lineTo(se.x,se.y),te>0){const He=Nc(B,Te,o,c);n.arc(He.x,He.y,te,O+Hn,Te+Math.PI)}const Ee=(O-te/v+(C+Y/v))/2;if(n.arc(o,c,v,O-te/v,Ee,!0),n.arc(o,c,v,Ee,C+Y/v,!0),Y>0){const He=Nc(M,F,o,c);n.arc(He.x,He.y,Y,F+Math.PI,C-Hn)}const Ue=Nc(A,C,o,c);if(n.lineTo(Ue.x,Ue.y),N>0){const He=Nc(A,I,o,c);n.arc(He.x,He.y,N,C-Hn,I)}}else{n.moveTo(o,c);const Oe=Math.cos(I)*p+o,se=Math.sin(I)*p+c;n.lineTo(Oe,se);const Ee=Math.cos(P)*p+o,Ue=Math.sin(P)*p+c;n.lineTo(Ee,Ue)}n.closePath()}function iX(n,e,t,i,r){const{fullCircles:s,startAngle:o,circumference:c}=e;let h=e.endAngle;if(s){jm(n,e,t,i,h,r);for(let f=0;f<s;++f)n.fill();isNaN(c)||(h=o+(c%xn||xn))}return jm(n,e,t,i,h,r),n.fill(),h}function rX(n,e,t,i,r){const{fullCircles:s,startAngle:o,circumference:c,options:h}=e,{borderWidth:f,borderJoinStyle:m,borderDash:p,borderDashOffset:v,borderRadius:x}=h,T=h.borderAlign==="inner";if(!f)return;n.setLineDash(p||[]),n.lineDashOffset=v,T?(n.lineWidth=f*2,n.lineJoin=m||"round"):(n.lineWidth=f,n.lineJoin=m||"bevel");let E=e.endAngle;if(s){jm(n,e,t,i,E,r);for(let S=0;S<s;++S)n.stroke();isNaN(c)||(E=o+(c%xn||xn))}T&&eX(n,e,E),h.selfJoin&&E-o>=Wt&&x===0&&m!=="miter"&&JY(n,e,E),s||(jm(n,e,t,i,E,r),n.stroke())}class sX extends wa{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,i){const r=this.getProps(["x","y"],i),{angle:s,distance:o}=qR(r,{x:e,y:t}),{startAngle:c,endAngle:h,innerRadius:f,outerRadius:m,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),v=(this.options.spacing+this.options.borderWidth)/2,x=ft(p,h-c),T=xf(s,c,h)&&c!==h,E=x>=xn||T,S=go(o,f+v,m+v);return E&&S}getCenterPoint(e){const{x:t,y:i,startAngle:r,endAngle:s,innerRadius:o,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:h,spacing:f}=this.options,m=(r+s)/2,p=(o+c+f+h)/2;return{x:t+Math.cos(m)*p,y:i+Math.sin(m)*p}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:i}=this,r=(t.offset||0)/4,s=(t.spacing||0)/2,o=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=i>xn?Math.floor(i/xn):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const c=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(c)*r,Math.sin(c)*r);const h=1-Math.sin(Math.min(Wt,i||0)),f=r*h;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,iX(e,this,f,s,o),rX(e,this,f,s,o),e.restore()}}function vI(n,e,t=e){n.lineCap=ft(t.borderCapStyle,e.borderCapStyle),n.setLineDash(ft(t.borderDash,e.borderDash)),n.lineDashOffset=ft(t.borderDashOffset,e.borderDashOffset),n.lineJoin=ft(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=ft(t.borderWidth,e.borderWidth),n.strokeStyle=ft(t.borderColor,e.borderColor)}function aX(n,e,t){n.lineTo(t.x,t.y)}function oX(n){return n.stepped?TG:n.tension||n.cubicInterpolationMode==="monotone"?SG:aX}function yI(n,e,t={}){const i=n.length,{start:r=0,end:s=i-1}=t,{start:o,end:c}=e,h=Math.max(r,o),f=Math.min(s,c),m=r<o&&s<o||r>c&&s>c;return{count:i,start:h,loop:e.loop,ilen:f<h&&!m?i+f-h:f-h}}function lX(n,e,t,i){const{points:r,options:s}=e,{count:o,start:c,loop:h,ilen:f}=yI(r,t,i),m=oX(s);let{move:p=!0,reverse:v}=i||{},x,T,E;for(x=0;x<=f;++x)T=r[(c+(v?f-x:x))%o],!T.skip&&(p?(n.moveTo(T.x,T.y),p=!1):m(n,E,T,v,s.stepped),E=T);return h&&(T=r[(c+(v?f:0))%o],m(n,E,T,v,s.stepped)),!!h}function cX(n,e,t,i){const r=e.points,{count:s,start:o,ilen:c}=yI(r,t,i),{move:h=!0,reverse:f}=i||{};let m=0,p=0,v,x,T,E,S,C;const O=H=>(o+(f?c-H:H))%s,N=()=>{E!==S&&(n.lineTo(m,S),n.lineTo(m,E),n.lineTo(m,C))};for(h&&(x=r[O(0)],n.moveTo(x.x,x.y)),v=0;v<=c;++v){if(x=r[O(v)],x.skip)continue;const H=x.x,Y=x.y,te=H|0;te===T?(Y<E?E=Y:Y>S&&(S=Y),m=(p*m+H)/++p):(N(),n.lineTo(H,Y),T=te,p=0,E=S=Y),C=Y}N()}function Q_(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?cX:lX}function uX(n){return n.stepped?tW:n.tension||n.cubicInterpolationMode==="monotone"?nW:ml}function hX(n,e,t,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,t,i)&&r.closePath()),vI(n,e.options),n.stroke(r)}function fX(n,e,t,i){const{segments:r,options:s}=e,o=Q_(e);for(const c of r)vI(n,s,c.style),n.beginPath(),o(n,e,c,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}const dX=typeof Path2D=="function";function mX(n,e,t,i){dX&&!e.options.segment?hX(n,e,t,i):fX(n,e,t,i)}class gX extends wa{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;YG(this._points,i,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=uW(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){const i=this.options,r=e[t],s=this.points,o=oW(this,{property:t,start:r,end:r});if(!o.length)return;const c=[],h=uX(i);let f,m;for(f=0,m=o.length;f<m;++f){const{start:p,end:v}=o[f],x=s[p],T=s[v];if(x===T){c.push(x);continue}const E=Math.abs((r-x[t])/(T[t]-x[t])),S=h(x,T,E,i.stepped);S[t]=e[t],c.push(S)}return c.length===1?c[0]:c}pathSegment(e,t,i){return Q_(this)(e,this,t,i)}path(e,t,i){const r=this.segments,s=Q_(this);let o=this._loop;t=t||0,i=i||this.points.length-t;for(const c of r)o&=s(e,this,c,{start:t,end:t+i-1});return!!o}draw(e,t,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),mX(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Kb(n,e,t,i){const r=n.options,{[t]:s}=n.getProps([t],i);return Math.abs(e-s)<r.radius+r.hitRadius}class pX extends wa{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,i){const r=this.options,{x:s,y:o}=this.getProps(["x","y"],i);return Math.pow(e-s,2)+Math.pow(t-o,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return Kb(this,e,"x",t)}inYRange(e,t){return Kb(this,e,"y",t)}getCenterPoint(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const i=t&&e.borderWidth||0;return(t+i)*2}draw(e,t){const i=this.options;this.skip||i.radius<.1||!Ef(this,t,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,X_(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function xI(n,e){const{x:t,y:i,base:r,width:s,height:o}=n.getProps(["x","y","base","width","height"],e);let c,h,f,m,p;return n.horizontal?(p=o/2,c=Math.min(t,r),h=Math.max(t,r),f=i-p,m=i+p):(p=s/2,c=t-p,h=t+p,f=Math.min(i,r),m=Math.max(i,r)),{left:c,top:f,right:h,bottom:m}}function po(n,e,t,i){return n?0:wi(e,t,i)}function _X(n,e,t){const i=n.options.borderWidth,r=n.borderSkipped,s=QR(i);return{t:po(r.top,s.top,0,t),r:po(r.right,s.right,0,e),b:po(r.bottom,s.bottom,0,t),l:po(r.left,s.left,0,e)}}function vX(n,e,t){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,s=Qc(r),o=Math.min(e,t),c=n.borderSkipped,h=i||bt(r);return{topLeft:po(!h||c.top||c.left,s.topLeft,0,o),topRight:po(!h||c.top||c.right,s.topRight,0,o),bottomLeft:po(!h||c.bottom||c.left,s.bottomLeft,0,o),bottomRight:po(!h||c.bottom||c.right,s.bottomRight,0,o)}}function yX(n){const e=xI(n),t=e.right-e.left,i=e.bottom-e.top,r=_X(n,t/2,i/2),s=vX(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:t-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function l_(n,e,t,i){const r=e===null,s=t===null,c=n&&!(r&&s)&&xI(n,i);return c&&(r||go(e,c.left,c.right))&&(s||go(t,c.top,c.bottom))}function xX(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function EX(n,e){n.rect(e.x,e.y,e.w,e.h)}function c_(n,e,t={}){const i=n.x!==t.x?-e:0,r=n.y!==t.y?-e:0,s=(n.x+n.w!==t.x+t.w?e:0)-i,o=(n.y+n.h!==t.y+t.h?e:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+s,h:n.h+o,radius:n.radius}}class TX extends wa{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=yX(this),c=xX(o.radius)?Vm:EX;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),c(e,c_(o,t,s)),e.clip(),c(e,c_(s,-t,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),c(e,c_(s,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,i){return l_(this,e,t,i)}inXRange(e,t){return l_(this,e,null,t)}inYRange(e,t){return l_(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+r)/2:t,y:s?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}const Qb=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},SX=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class Zb extends wa{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=ln(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=bi(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:c,itemHeight:h}=Qb(i,s);let f,m;t.font=r.string,this.isHorizontal()?(f=this.maxWidth,m=this._fitRows(o,s,c,h)+10):(m=this.maxHeight,f=this._fitCols(o,r,c,h)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(m,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],f=this.lineWidths=[0],m=r+c;let p=e;s.textAlign="left",s.textBaseline="middle";let v=-1,x=-m;return this.legendItems.forEach((T,E)=>{const S=i+t/2+s.measureText(T.text).width;(E===0||f[f.length-1]+S+2*c>o)&&(p+=m,f[f.length-(E>0?0:1)]=0,x+=m,v++),h[E]={left:0,top:x,row:v,width:S,height:r},f[f.length-1]+=S+c}),p}_fitCols(e,t,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],f=this.columnSizes=[],m=o-e;let p=c,v=0,x=0,T=0,E=0;return this.legendItems.forEach((S,C)=>{const{itemWidth:O,itemHeight:N}=wX(i,t,s,S,r);C>0&&x+N+2*c>m&&(p+=v+c,f.push({width:v,height:x}),T+=v+c,E++,v=x=0),h[C]={left:T,top:x,col:E,width:O,height:N},v=Math.max(v,O),x+=N+c}),p+=v,f.push({width:v,height:x}),p}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:r},rtl:s}}=this,o=Zc(s,this.left,this.width);if(this.isHorizontal()){let c=0,h=Ei(i,this.left+r,this.right-this.lineWidths[c]);for(const f of t)c!==f.row&&(c=f.row,h=Ei(i,this.left+r,this.right-this.lineWidths[c])),f.top+=this.top+e+r,f.left=o.leftForLtr(o.x(h),f.width),h+=f.width+r}else{let c=0,h=Ei(i,this.top+e+r,this.bottom-this.columnSizes[c].height);for(const f of t)f.col!==c&&(c=f.col,h=Ei(i,this.top+e+r,this.bottom-this.columnSizes[c].height)),f.top=h,f.left+=this.left+r,f.left=o.leftForLtr(o.x(f.left),f.width),h+=f.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Ry(e,this),this._draw(),Iy(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,c=An.color,h=Zc(e.rtl,this.left,this.width),f=bi(o.font),{padding:m}=o,p=f.size,v=p/2;let x;this.drawTitle(),r.textAlign=h.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=f.string;const{boxWidth:T,boxHeight:E,itemHeight:S}=Qb(o,p),C=function(te,A,D){if(isNaN(T)||T<=0||isNaN(E)||E<0)return;r.save();const I=ft(D.lineWidth,1);if(r.fillStyle=ft(D.fillStyle,c),r.lineCap=ft(D.lineCap,"butt"),r.lineDashOffset=ft(D.lineDashOffset,0),r.lineJoin=ft(D.lineJoin,"miter"),r.lineWidth=I,r.strokeStyle=ft(D.strokeStyle,c),r.setLineDash(ft(D.lineDash,[])),o.usePointStyle){const P={radius:E*Math.SQRT2/2,pointStyle:D.pointStyle,rotation:D.rotation,borderWidth:I},M=h.xPlus(te,T/2),B=A+v;KR(r,P,M,B,o.pointStyleWidth&&T)}else{const P=A+Math.max((p-E)/2,0),M=h.leftForLtr(te,T),B=Qc(D.borderRadius);r.beginPath(),Object.values(B).some(F=>F!==0)?Vm(r,{x:M,y:P,w:T,h:E,radius:B}):r.rect(M,P,T,E),r.fill(),I!==0&&r.stroke()}r.restore()},O=function(te,A,D){Tf(r,D.text,te,A+S/2,f,{strikethrough:D.hidden,textAlign:h.textAlign(D.textAlign)})},N=this.isHorizontal(),H=this._computeTitleHeight();N?x={x:Ei(s,this.left+m,this.right-i[0]),y:this.top+m+H,line:0}:x={x:this.left+m,y:Ei(s,this.top+H+m,this.bottom-t[0].height),line:0},iI(this.ctx,e.textDirection);const Y=S+m;this.legendItems.forEach((te,A)=>{r.strokeStyle=te.fontColor,r.fillStyle=te.fontColor;const D=r.measureText(te.text).width,I=h.textAlign(te.textAlign||(te.textAlign=o.textAlign)),P=T+v+D;let M=x.x,B=x.y;h.setWidth(this.width),N?A>0&&M+P+m>this.right&&(B=x.y+=Y,x.line++,M=x.x=Ei(s,this.left+m,this.right-i[x.line])):A>0&&B+Y>this.bottom&&(M=x.x=M+t[x.line].width+m,x.line++,B=x.y=Ei(s,this.top+H+m,this.bottom-t[x.line].height));const F=h.x(M);if(C(F,B,te),M=cG(I,M+T+v,N?M+P:this.right,e.rtl),O(h.x(M),B,te),N)x.x+=P+m;else if(typeof te.text!="string"){const Te=f.lineHeight;x.y+=EI(te,Te)+m}else x.y+=Y}),rI(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=bi(t.font),r=Mr(t.padding);if(!t.display)return;const s=Zc(e.rtl,this.left,this.width),o=this.ctx,c=t.position,h=i.size/2,f=r.top+h;let m,p=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),m=this.top+f,p=Ei(e.align,p,this.right-v);else{const T=this.columnSizes.reduce((E,S)=>Math.max(E,S.height),0);m=f+Ei(e.align,this.top,this.bottom-T-e.labels.padding-this._computeTitleHeight())}const x=Ei(c,p,p+v);o.textAlign=s.textAlign(by(c)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=i.string,Tf(o,t.text,x,m,i)}_computeTitleHeight(){const e=this.options.title,t=bi(e.font),i=Mr(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,r,s;if(go(e,this.left,this.right)&&go(t,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],go(e,r.left,r.left+r.width)&&go(t,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!CX(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=SX(r,i);r&&!s&&ln(t.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&ln(t.onHover,[e,i,this],this)}else i&&ln(t.onClick,[e,i,this],this)}}function wX(n,e,t,i,r){const s=bX(i,n,e,t),o=AX(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}function bX(n,e,t,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+t.size/2+i.measureText(r).width}function AX(n,e,t){let i=n;return typeof e.text!="string"&&(i=EI(e,t)),i}function EI(n,e){const t=n.text?n.text.length:0;return e*t}function CX(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var RX={id:"legend",_element:Zb,start(n,e,t){const i=n.legend=new Zb({ctx:n.ctx,options:t,chart:n});Or.configure(n,i,t),Or.addBox(n,i)},stop(n){Or.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;Or.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,r=t.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:c}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const f=h.controller.getStyle(t?0:void 0),m=Mr(f.borderWidth);return{text:e[h.index].label,fillStyle:f.backgroundColor,fontColor:s,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:r||f.textAlign,borderRadius:o&&(c||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class TI extends wa{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const r=zn(i.text)?i.text.length:1;this._padding=Mr(i.padding);const s=r*bi(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:i,bottom:r,right:s,options:o}=this,c=o.align;let h=0,f,m,p;return this.isHorizontal()?(m=Ei(c,i,s),p=t+e,f=s-i):(o.position==="left"?(m=i+e,p=Ei(c,r,t),h=Wt*-.5):(m=s-e,p=Ei(c,t,r),h=Wt*.5),f=r-t),{titleX:m,titleY:p,maxWidth:f,rotation:h}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=bi(t.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:c,maxWidth:h,rotation:f}=this._drawArgs(s);Tf(e,t.text,0,0,i,{color:t.color,maxWidth:h,rotation:f,textAlign:by(t.align),textBaseline:"middle",translation:[o,c]})}}function IX(n,e){const t=new TI({ctx:n.ctx,options:e,chart:n});Or.configure(n,t,e),Or.addBox(n,t),n.titleBlock=t}var DX={id:"title",_element:TI,start(n,e,t){IX(n,t)},stop(n){const e=n.titleBlock;Or.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const i=n.titleBlock;Or.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Mh={average(n){if(!n.length)return!1;let e,t,i=new Set,r=0,s=0;for(e=0,t=n.length;e<t;++e){const c=n[e].element;if(c&&c.hasValue()){const h=c.tooltipPosition();i.add(h.x),r+=h.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((c,h)=>c+h)/i.size,y:r/s}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,o,c;for(s=0,o=n.length;s<o;++s){const h=n[s].element;if(h&&h.hasValue()){const f=h.getCenterPoint(),m=W_(e,f);m<r&&(r=m,c=h)}}if(c){const h=c.tooltipPosition();t=h.x,i=h.y}return{x:t,y:i}}};function vs(n,e){return e&&(zn(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function ra(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function OX(n,e){const{element:t,datasetIndex:i,index:r}=e,s=n.getDatasetMeta(i).controller,{label:o,value:c}=s.getLabelAndValue(r);return{chart:n,label:o,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:c,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:t}}function Jb(n,e){const t=n.chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:o,boxHeight:c}=e,h=bi(e.bodyFont),f=bi(e.titleFont),m=bi(e.footerFont),p=s.length,v=r.length,x=i.length,T=Mr(e.padding);let E=T.height,S=0,C=i.reduce((H,Y)=>H+Y.before.length+Y.lines.length+Y.after.length,0);if(C+=n.beforeBody.length+n.afterBody.length,p&&(E+=p*f.lineHeight+(p-1)*e.titleSpacing+e.titleMarginBottom),C){const H=e.displayColors?Math.max(c,h.lineHeight):h.lineHeight;E+=x*H+(C-x)*h.lineHeight+(C-1)*e.bodySpacing}v&&(E+=e.footerMarginTop+v*m.lineHeight+(v-1)*e.footerSpacing);let O=0;const N=function(H){S=Math.max(S,t.measureText(H).width+O)};return t.save(),t.font=f.string,Gt(n.title,N),t.font=h.string,Gt(n.beforeBody.concat(n.afterBody),N),O=e.displayColors?o+2+e.boxPadding:0,Gt(i,H=>{Gt(H.before,N),Gt(H.lines,N),Gt(H.after,N)}),O=0,t.font=m.string,Gt(n.footer,N),t.restore(),S+=T.width,{width:S,height:E}}function NX(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function MX(n,e,t,i){const{x:r,width:s}=i,o=t.caretSize+t.caretPadding;if(n==="left"&&r+s+o>e.width||n==="right"&&r-s-o<0)return!0}function kX(n,e,t,i){const{x:r,width:s}=t,{width:o,chartArea:{left:c,right:h}}=n;let f="center";return i==="center"?f=r<=(c+h)/2?"left":"right":r<=s/2?f="left":r>=o-s/2&&(f="right"),MX(f,n,e,t)&&(f="center"),f}function eA(n,e,t){const i=t.yAlign||e.yAlign||NX(n,t);return{xAlign:t.xAlign||e.xAlign||kX(n,e,t,i),yAlign:i}}function PX(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function FX(n,e,t){let{y:i,height:r}=n;return e==="top"?i+=t:e==="bottom"?i-=r+t:i-=r/2,i}function tA(n,e,t,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=n,{xAlign:c,yAlign:h}=t,f=r+s,{topLeft:m,topRight:p,bottomLeft:v,bottomRight:x}=Qc(o);let T=PX(e,c);const E=FX(e,h,f);return h==="center"?c==="left"?T+=f:c==="right"&&(T-=f):c==="left"?T-=Math.max(m,v)+r:c==="right"&&(T+=Math.max(p,x)+r),{x:wi(T,0,i.width-e.width),y:wi(E,0,i.height-e.height)}}function B0(n,e,t){const i=Mr(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function nA(n){return vs([],ra(n))}function LX(n,e,t){return jl(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function iA(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const SI={beforeTitle:na,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:na,beforeBody:na,beforeLabel:na,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Ft(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:na,afterBody:na,beforeFooter:na,footer:na,afterFooter:na};function qi(n,e,t,i){const r=n[e].call(t,i);return typeof r>"u"?SI[e].call(t,i):r}class rA extends wa{static positioners=Mh;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&t.options.animation&&i.animations,s=new aI(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=LX(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,r=qi(i,"beforeTitle",this,e),s=qi(i,"title",this,e),o=qi(i,"afterTitle",this,e);let c=[];return c=vs(c,ra(r)),c=vs(c,ra(s)),c=vs(c,ra(o)),c}getBeforeBody(e,t){return nA(qi(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,r=[];return Gt(e,s=>{const o={before:[],lines:[],after:[]},c=iA(i,s);vs(o.before,ra(qi(c,"beforeLabel",this,s))),vs(o.lines,qi(c,"label",this,s)),vs(o.after,ra(qi(c,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(e,t){return nA(qi(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,r=qi(i,"beforeFooter",this,e),s=qi(i,"footer",this,e),o=qi(i,"afterFooter",this,e);let c=[];return c=vs(c,ra(r)),c=vs(c,ra(s)),c=vs(c,ra(o)),c}_createItems(e){const t=this._active,i=this.chart.data,r=[],s=[],o=[];let c=[],h,f;for(h=0,f=t.length;h<f;++h)c.push(OX(this.chart,t[h]));return e.filter&&(c=c.filter((m,p,v)=>e.filter(m,p,v,i))),e.itemSort&&(c=c.sort((m,p)=>e.itemSort(m,p,i))),Gt(c,m=>{const p=iA(e.callbacks,m);r.push(qi(p,"labelColor",this,m)),s.push(qi(p,"labelPointStyle",this,m)),o.push(qi(p,"labelTextColor",this,m))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=c,c}update(e,t){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const c=Mh[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const h=this._size=Jb(this,i),f=Object.assign({},c,h),m=eA(this.chart,i,f),p=tA(i,f,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,s={opacity:1,x:p.x,y:p.y,width:h.width,height:h.height,caretX:c.x,caretY:c.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,r){const s=this.getCaretPosition(e,i,r);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:c}=i,{topLeft:h,topRight:f,bottomLeft:m,bottomRight:p}=Qc(c),{x:v,y:x}=e,{width:T,height:E}=t;let S,C,O,N,H,Y;return s==="center"?(H=x+E/2,r==="left"?(S=v,C=S-o,N=H+o,Y=H-o):(S=v+T,C=S+o,N=H-o,Y=H+o),O=S):(r==="left"?C=v+Math.max(h,m)+o:r==="right"?C=v+T-Math.max(f,p)-o:C=this.caretX,s==="top"?(N=x,H=N-o,S=C-o,O=C+o):(N=x+E,H=N+o,S=C+o,O=C-o),Y=N),{x1:S,x2:C,x3:O,y1:N,y2:H,y3:Y}}drawTitle(e,t,i){const r=this.title,s=r.length;let o,c,h;if(s){const f=Zc(i.rtl,this.x,this.width);for(e.x=B0(this,i.titleAlign,i),t.textAlign=f.textAlign(i.titleAlign),t.textBaseline="middle",o=bi(i.titleFont),c=i.titleSpacing,t.fillStyle=i.titleColor,t.font=o.string,h=0;h<s;++h)t.fillText(r[h],f.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+c,h+1===s&&(e.y+=i.titleMarginBottom-c)}}_drawColorBox(e,t,i,r,s){const o=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:h,boxWidth:f}=s,m=bi(s.bodyFont),p=B0(this,"left",s),v=r.x(p),x=h<m.lineHeight?(m.lineHeight-h)/2:0,T=t.y+x;if(s.usePointStyle){const E={radius:Math.min(f,h)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},S=r.leftForLtr(v,f)+f/2,C=T+h/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,X_(e,E,S,C),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,X_(e,E,S,C)}else{e.lineWidth=bt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const E=r.leftForLtr(v,f),S=r.leftForLtr(r.xPlus(v,1),f-2),C=Qc(o.borderRadius);Object.values(C).some(O=>O!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Vm(e,{x:E,y:T,w:f,h,radius:C}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Vm(e,{x:S,y:T+1,w:f-2,h:h-2,radius:C}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(E,T,f,h),e.strokeRect(E,T,f,h),e.fillStyle=o.backgroundColor,e.fillRect(S,T+1,f-2,h-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:c,boxHeight:h,boxWidth:f,boxPadding:m}=i,p=bi(i.bodyFont);let v=p.lineHeight,x=0;const T=Zc(i.rtl,this.x,this.width),E=function(D){t.fillText(D,T.x(e.x+x),e.y+v/2),e.y+=v+s},S=T.textAlign(o);let C,O,N,H,Y,te,A;for(t.textAlign=o,t.textBaseline="middle",t.font=p.string,e.x=B0(this,S,i),t.fillStyle=i.bodyColor,Gt(this.beforeBody,E),x=c&&S!=="right"?o==="center"?f/2+m:f+2+m:0,H=0,te=r.length;H<te;++H){for(C=r[H],O=this.labelTextColors[H],t.fillStyle=O,Gt(C.before,E),N=C.lines,c&&N.length&&(this._drawColorBox(t,e,H,T,i),v=Math.max(p.lineHeight,h)),Y=0,A=N.length;Y<A;++Y)E(N[Y]),v=p.lineHeight;Gt(C.after,E)}x=0,v=p.lineHeight,Gt(this.afterBody,E),e.y-=s}drawFooter(e,t,i){const r=this.footer,s=r.length;let o,c;if(s){const h=Zc(i.rtl,this.x,this.width);for(e.x=B0(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=h.textAlign(i.footerAlign),t.textBaseline="middle",o=bi(i.footerFont),t.fillStyle=i.footerColor,t.font=o.string,c=0;c<s;++c)t.fillText(r[c],h.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,t,i,r){const{xAlign:s,yAlign:o}=this,{x:c,y:h}=e,{width:f,height:m}=i,{topLeft:p,topRight:v,bottomLeft:x,bottomRight:T}=Qc(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(c+p,h),o==="top"&&this.drawCaret(e,t,i,r),t.lineTo(c+f-v,h),t.quadraticCurveTo(c+f,h,c+f,h+v),o==="center"&&s==="right"&&this.drawCaret(e,t,i,r),t.lineTo(c+f,h+m-T),t.quadraticCurveTo(c+f,h+m,c+f-T,h+m),o==="bottom"&&this.drawCaret(e,t,i,r),t.lineTo(c+x,h+m),t.quadraticCurveTo(c,h+m,c,h+m-x),o==="center"&&s==="left"&&this.drawCaret(e,t,i,r),t.lineTo(c,h+p),t.quadraticCurveTo(c,h,c+p,h),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=Mh[e.position].call(this,this._active,this._eventPosition);if(!o)return;const c=this._size=Jb(this,e),h=Object.assign({},o,this._size),f=eA(t,e,h),m=tA(e,h,f,t);(r._to!==m.x||s._to!==m.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=c.width,this.height=c.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Mr(t.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&c&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,t),iI(e,t.textDirection),s.y+=o.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),rI(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,r=e.map(({datasetIndex:c,index:h})=>{const f=this.chart.getDatasetMeta(c);if(!f)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:f.data[h],index:h}}),s=!Fm(i,r),o=this._positionChanged(r,t);(s||o)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(e,s,t,i),c=this._positionChanged(o,e),h=t||!Fm(o,s)||c;return h&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),h}_getActiveElements(e,t,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return t.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:i,caretY:r,options:s}=this,o=Mh[s.position].call(this,e,t);return o!==!1&&(i!==o.x||r!==o.y)}}var BX={id:"tooltip",_element:rA,positioners:Mh,afterInit(n,e,t){t&&(n.tooltip=new rA({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:SI},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const VX=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function UX(n,e,t,i){const r=n.indexOf(e);if(r===-1)return VX(n,e,t,i);const s=n.lastIndexOf(e);return r!==s?t:r}const zX=(n,e)=>n===null?null:wi(Math.round(n),0,e);function sA(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class jX extends Su{static id="category";static defaults={ticks:{callback:sA}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:r,label:s}of t)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Ft(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:UX(i,e,ft(t,e),this._addedLabels),zX(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=t;o++)r.push({value:o});return r}getLabelForValue(e){return sA.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function HX(n,e){const t=[],{bounds:r,step:s,min:o,max:c,precision:h,count:f,maxTicks:m,maxDigits:p,includeBounds:v}=n,x=s||1,T=m-1,{min:E,max:S}=e,C=!Ft(o),O=!Ft(c),N=!Ft(f),H=(S-E)/(p+1);let Y=ab((S-E)/T/x)*x,te,A,D,I;if(Y<1e-14&&!C&&!O)return[{value:E},{value:S}];I=Math.ceil(S/Y)-Math.floor(E/Y),I>T&&(Y=ab(I*Y/T/x)*x),Ft(h)||(te=Math.pow(10,h),Y=Math.ceil(Y*te)/te),r==="ticks"?(A=Math.floor(E/Y)*Y,D=Math.ceil(S/Y)*Y):(A=E,D=S),C&&O&&s&&eG((c-o)/s,Y/1e3)?(I=Math.round(Math.min((c-o)/Y,m)),Y=(c-o)/I,A=o,D=c):N?(A=C?o:A,D=O?c:D,I=f-1,Y=(D-A)/I):(I=(D-A)/Y,Xh(I,Math.round(I),Y/1e3)?I=Math.round(I):I=Math.ceil(I));const P=Math.max(ob(Y),ob(A));te=Math.pow(10,Ft(h)?P:h),A=Math.round(A*te)/te,D=Math.round(D*te)/te;let M=0;for(C&&(v&&A!==o?(t.push({value:o}),A<o&&M++,Xh(Math.round((A+M*Y)*te)/te,o,aA(o,H,n))&&M++):A<o&&M++);M<I;++M){const B=Math.round((A+M*Y)*te)/te;if(O&&B>c)break;t.push({value:B})}return O&&v&&D!==c?t.length&&Xh(t[t.length-1].value,c,aA(c,H,n))?t[t.length-1].value=c:t.push({value:c}):(!O||D===c)&&t.push({value:D}),t}function aA(n,e,{horizontal:t,minRotation:i}){const r=la(i),s=(t?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+n).length;return Math.min(e/s,o)}class qX extends Su{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Ft(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=h=>r=t?r:h,c=h=>s=i?s:h;if(e){const h=Rs(r),f=Rs(s);h<0&&f<0?c(0):h>0&&f>0&&o(0)}if(r===s){let h=s===0?1:Math.abs(s*.05);c(s+h),e||o(r-h)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,o=HX(r,s);return e.bounds==="ticks"&&tG(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-t)/Math.max(e.length-1,1)/2;t-=r,i+=r}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return Cy(e,this.chart.options.locale,this.options.ticks.format)}}class GX extends qX{static id="linear";static defaults={ticks:{callback:$R.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Nr(e)?e:0,this.max=Nr(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=la(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const wg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Yi=Object.keys(wg);function oA(n,e){return n-e}function lA(n,e){if(Ft(e))return null;const t=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),Nr(o)||(o=typeof i=="string"?t.parse(o,i):t.parse(o)),o===null?null:(r&&(o=r==="week"&&(yf(s)||s===!0)?t.startOf(o,"isoWeek",s):t.startOf(o,r)),+o)}function cA(n,e,t,i){const r=Yi.length;for(let s=Yi.indexOf(n);s<r-1;++s){const o=wg[Yi[s]],c=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(c*o.size))<=i)return Yi[s]}return Yi[r-1]}function WX(n,e,t,i,r){for(let s=Yi.length-1;s>=Yi.indexOf(t);s--){const o=Yi[s];if(wg[o].common&&n._adapter.diff(r,i,o)>=e-1)return o}return Yi[t?Yi.indexOf(t):0]}function YX(n){for(let e=Yi.indexOf(n)+1,t=Yi.length;e<t;++e)if(wg[Yi[e]].common)return Yi[e]}function uA(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:r}=wy(t,e),s=t[i]>=e?t[i]:t[r];n[s]=!0}}function XX(n,e,t,i){const r=n._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let c,h;for(c=s;c<=o;c=+r.add(c,1,i))h=t[c],h>=0&&(e[h].major=!0);return e}function hA(n,e,t){const i=[],r={},s=e.length;let o,c;for(o=0;o<s;++o)c=e[o],r[c]=o,i.push({value:c,major:!1});return s===0||!t?i:XX(n,i,r,t)}class fA extends Su{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),r=this._adapter=new qW._date(e.adapters.date);r.init(t),Yh(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:lA(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:c}=this.getUserBounds();function h(f){!o&&!isNaN(f.min)&&(r=Math.min(r,f.min)),!c&&!isNaN(f.max)&&(s=Math.max(s,f.max))}(!o||!c)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),r=Nr(r)&&!isNaN(r)?r:+t.startOf(Date.now(),i),s=Nr(s)&&!isNaN(s)?s:+t.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,c=aG(r,s,o);return this._unit=t.unit||(i.autoSkip?cA(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):WX(this,c.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:YX(this._unit),this.initOffsets(r),e.reverse&&c.reverse(),hA(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?t=1-r:t=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=wi(t,0,o),i=wi(i,0,o),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||cA(s.minUnit,t,i,this._getLabelCapacity(t)),c=ft(r.ticks.stepSize,1),h=o==="week"?s.isoWeekday:!1,f=yf(h)||h===!0,m={};let p=t,v,x;if(f&&(p=+e.startOf(p,"isoWeek",h)),p=+e.startOf(p,f?"day":o),e.diff(i,t,o)>1e5*c)throw new Error(t+" and "+i+" are too far apart with stepSize of "+c+" "+o);const T=r.ticks.source==="data"&&this.getDataTimestamps();for(v=p,x=0;v<i;v=+e.add(v,c,o),x++)uA(m,v,T);return(v===i||r.bounds==="ticks"||x===1)&&uA(m,v,T),Object.keys(m).sort(oA).map(E=>+E)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,s=this._unit,o=t||r[s];return this._adapter.format(e,o)}_tickFormatFunction(e,t,i,r){const s=this.options,o=s.ticks.callback;if(o)return ln(o,[e,t,i],this);const c=s.time.displayFormats,h=this._unit,f=this._majorUnit,m=h&&c[h],p=f&&c[f],v=i[t],x=f&&p&&v&&v.major;return this._adapter.format(e,r||(x?p:m))}generateTickLabels(e){let t,i,r;for(t=0,i=e.length;t<i;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,r=la(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(r),o=Math.sin(r),c=this._resolveTickFontOptions(0).size;return{w:i*s+c*o,h:i*o+c*s}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,r=i[t.unit]||i.millisecond,s=this._tickFormatFunction(e,0,hA(this,[e],this._majorUnit),r),o=this._getLabelSize(s),c=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,i=r.length;t<i;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const r=this.getLabels();for(t=0,i=r.length;t<i;++t)e.push(lA(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return WR(e.sort(oA))}}function V0(n,e,t){let i=0,r=n.length-1,s,o,c,h;t?(e>=n[i].pos&&e<=n[r].pos&&({lo:i,hi:r}=_l(n,"pos",e)),{pos:s,time:c}=n[i],{pos:o,time:h}=n[r]):(e>=n[i].time&&e<=n[r].time&&({lo:i,hi:r}=_l(n,"time",e)),{time:s,pos:c}=n[i],{time:o,pos:h}=n[r]);const f=o-s;return f?c+(h-c)*(e-s)/f:c}class a$ extends fA{static id="timeseries";static defaults=fA.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=V0(t,this.min),this._tableRange=V0(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,r=[],s=[];let o,c,h,f,m;for(o=0,c=e.length;o<c;++o)f=e[o],f>=t&&f<=i&&r.push(f);if(r.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(o=0,c=r.length;o<c;++o)m=r[o+1],h=r[o-1],f=r[o],Math.round((m+h)/2)!==f&&s.push({time:f,pos:o/(c-1)});return s}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(V0(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return V0(this._table,i*this._tableRange+this._minPos,!0)}}const wI="label";function dA(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function $X(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function bI(n,e){n.labels=e}function AI(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:wI;const i=[];n.datasets=e.map(r=>{const s=n.datasets.find(o=>o[t]===r[t]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function KX(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wI;const t={labels:[],datasets:[]};return bI(t,n.labels),AI(t,n.datasets,e),t}function QX(n,e){const{height:t=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:o,data:c,options:h,plugins:f=[],fallbackContent:m,updateMode:p,...v}=n,x=oe.useRef(null),T=oe.useRef(null),E=()=>{x.current&&(T.current=new Sg(x.current,{type:o,data:KX(c,s),options:h&&{...h},plugins:f}),dA(e,T.current))},S=()=>{dA(e,null),T.current&&(T.current.destroy(),T.current=null)};return oe.useEffect(()=>{!r&&T.current&&h&&$X(T.current,h)},[r,h]),oe.useEffect(()=>{!r&&T.current&&bI(T.current.config.data,c.labels)},[r,c.labels]),oe.useEffect(()=>{!r&&T.current&&c.datasets&&AI(T.current.config.data,c.datasets,s)},[r,c.datasets]),oe.useEffect(()=>{T.current&&(r?(S(),setTimeout(E)):T.current.update(p))},[r,h,c.labels,c.datasets,p]),oe.useEffect(()=>{T.current&&(S(),setTimeout(E))},[o]),oe.useEffect(()=>(E(),()=>S()),[]),mA.createElement("canvas",{ref:x,role:"img",height:t,width:i,...v},m)}const ZX=oe.forwardRef(QX);function Ly(n,e){return Sg.register(e),oe.forwardRef((t,i)=>mA.createElement(ZX,{...t,ref:i,type:n}))}const JX=Ly("line",jW),e$=Ly("bar",VW),t$=Ly("pie",HW);Sg.register(sX,jX,GX,TX,gX,pX,DX,BX,RX);const n$=({onLogout:n})=>{const[e,t]=oe.useState([]),[i,r]=oe.useState(!0),[s,o]=oe.useState({total:0,byBranch:{},byYear:{}}),[c,h]=oe.useState(""),[f,m]=oe.useState(""),[p,v]=oe.useState(""),[x,T]=oe.useState(""),[E,S]=oe.useState("firstName"),[C,O]=oe.useState("asc"),[N,H]=oe.useState(1),[Y,te]=oe.useState(25),[A,D]=oe.useState(new Set),[I,P]=oe.useState(null),[M,B]=oe.useState(null),[F,Te]=oe.useState(null),[Oe,se]=oe.useState(!1),[Ee,Ue]=oe.useState("csv"),[He,Je]=oe.useState(["firstName","middleName","surname","contactNumber","email","branch","year","division","rollNumber","zprnNumber"]),[ee,V]=oe.useState(!1);oe.useEffect(()=>{Z()},[]);const Z=async()=>{try{r(!0);const ie=y3(Nv(Vc,"students"),M8("submittedAt","desc")),Ce=await E3(ie),$e=[];Ce.forEach(Pt=>{$e.push({id:Pt.id,...Pt.data()})}),t($e),K($e)}catch(ie){console.error("Error fetching students:",ie),alert("Failed to fetch student data. Please check your Firebase configuration.")}finally{r(!1)}},K=ie=>{const Ce={},$e={};ie.forEach(Pt=>{Pt.branch&&(Ce[Pt.branch]=(Ce[Pt.branch]||0)+1),Pt.year&&($e[Pt.year]=($e[Pt.year]||0)+1)}),o({total:ie.length,byBranch:Ce,byYear:$e})},Q=oe.useMemo(()=>{const ie=Date.now(),Ce=ie-1440*60*1e3,$e=ie-10080*60*1e3,Pt={last24h:0,last7days:0},wt={},pi={},en={};return e.forEach(Wn=>{if(Wn.submittedAt){const ei=Wn.submittedAt.seconds?Wn.submittedAt.seconds*1e3:new Date(Wn.submittedAt).getTime();ei>Ce&&Pt.last24h++,ei>$e&&Pt.last7days++;const ti=new Date(ei).toLocaleDateString();en[ti]=(en[ti]||0)+1}if(Wn.division){const ei=Wn.division.toUpperCase();wt[ei]=(wt[ei]||0)+1}if(Wn.email){const ei=Wn.email.split("@")[1]||"unknown";pi[ei]=(pi[ei]||0)+1}}),{recentSubmissions:Pt,byDivision:wt,emailDomains:pi,submissionsByDate:en}},[e]),fe=async ie=>{if(window.confirm("Are you sure you want to delete this student record?"))try{await DS(Y0(Vc,"students",ie)),await Z(),D(new Set),alert("Student deleted successfully!")}catch(Ce){console.error("Error deleting student:",Ce),alert("Failed to delete student. Please try again.")}},Ne=async()=>{if(A.size===0){alert("Please select students to delete");return}if(window.confirm(`Are you sure you want to delete ${A.size} student(s)?`))try{const ie=Array.from(A).map(Ce=>DS(Y0(Vc,"students",Ce)));await Promise.all(ie),await Z(),D(new Set),alert(`${ie.length} student(s) deleted successfully!`)}catch(ie){console.error("Error deleting students:",ie),alert("Failed to delete some students. Please try again.")}},je=ie=>{P(ie.id),B(ie)},ke=()=>{P(null),B(null)},Le=async()=>{if(!(!I||!M))try{const ie=Y0(Vc,"students",I);await B8(ie,M),await Z(),P(null),B(null),alert("Student updated successfully!")}catch(ie){console.error("Error updating student:",ie),alert("Failed to update student. Please try again.")}},pt=ie=>{const Ce=new Set(A);Ce.has(ie)?Ce.delete(ie):Ce.add(ie),D(Ce)},ot=()=>{A.size===sn.length?D(new Set):D(new Set(sn.map(ie=>ie.id)))},At=oe.useMemo(()=>{let ie=[...e];if(c){const Ce=c.toLowerCase();ie=ie.filter($e=>$e.firstName.toLowerCase().includes(Ce)||$e.surname.toLowerCase().includes(Ce)||$e.email.toLowerCase().includes(Ce)||$e.rollNumber.toLowerCase().includes(Ce)||$e.zprnNumber.toLowerCase().includes(Ce)||$e.middleName&&$e.middleName.toLowerCase().includes(Ce))}return f&&(ie=ie.filter(Ce=>Ce.branch===f)),p&&(ie=ie.filter(Ce=>Ce.year===p)),x&&(ie=ie.filter(Ce=>Ce.division.toUpperCase()===x.toUpperCase())),ie.sort((Ce,$e)=>{const Pt=Ce[E]?.toString().toLowerCase()||"",wt=$e[E]?.toString().toLowerCase()||"";return C==="asc"?Pt.localeCompare(wt):wt.localeCompare(Pt)}),ie},[e,c,f,p,x,E,C]),rt=oe.useMemo(()=>[...new Set(e.map(ie=>ie.branch))].sort(),[e]),Gn=oe.useMemo(()=>[...new Set(e.map(ie=>ie.year))].sort(),[e]),Ct=oe.useMemo(()=>[...new Set(e.map(ie=>ie.division.toUpperCase()))].sort(),[e]),qe=Math.ceil(At.length/Y),sn=oe.useMemo(()=>{const ie=(N-1)*Y;return At.slice(ie,ie+Y)},[At,N,Y]),dt=ie=>{E===ie?O(C==="asc"?"desc":"asc"):(S(ie),O("asc"))};oe.useEffect(()=>{H(1)},[c,f,p,x]);const kt=()=>{const ie=At;if(ie.length===0){alert("No data to export!");return}const $e=[["First Name","Middle Name","Surname","Contact Number","Email","Branch","Year","Division","Roll Number","ZPRN Number","Submitted At"].join(","),...ie.map(en=>[en.firstName,en.middleName||"",en.surname,en.contactNumber,en.email,en.branch,en.year,en.division,en.rollNumber,en.zprnNumber,en.submittedAt?new Date(en.submittedAt).toLocaleString():""].join(","))].join(`
`),Pt=new Blob([$e],{type:"text/csv;charset=utf-8;"}),wt=document.createElement("a"),pi=URL.createObjectURL(Pt);wt.setAttribute("href",pi),wt.setAttribute("download",`students_data_${new Date().toISOString().split("T")[0]}.csv`),wt.style.visibility="hidden",document.body.appendChild(wt),wt.click(),document.body.removeChild(wt)},Jn=()=>{const ie=At;if(ie.length===0){alert("No data to export!");return}const Ce={firstName:"firstName",middleName:"middleName",surname:"surname",contactNumber:"contactNumber",email:"email",branch:"branch",year:"year",division:"division",rollNumber:"rollNumber",zprnNumber:"zprnNumber"},$e=[He.map(pi=>({firstName:"First Name",middleName:"Middle Name",surname:"Surname",contactNumber:"Contact Number",email:"Email",branch:"Branch",year:"Year",division:"Division",rollNumber:"Roll Number",zprnNumber:"ZPRN Number"})[pi]||pi),...ie.map(pi=>He.map(en=>{const Wn=Ce[en];return pi[Wn]||""}))],Pt=Q1.aoa_to_sheet($e),wt=Q1.book_new();Q1.book_append_sheet(wt,Pt,"Students"),lq(wt,`students_data_${new Date().toISOString().split("T")[0]}.xlsx`)},ba=()=>{Ee==="csv"?kt():Jn(),se(!1)},is=ie=>{He.includes(ie)?Je(He.filter(Ce=>Ce!==ie)):Je([...He,ie])};return q.jsxs("div",{className:"admin-panel",children:[q.jsx(Zv,{}),q.jsxs("header",{className:"admin-header",children:[q.jsx("h1",{children:"Admin Dashboard"}),q.jsx("button",{onClick:n,className:"logout-button",children:"Logout"})]}),i?q.jsx("div",{className:"loading",children:"Loading..."}):q.jsxs(q.Fragment,{children:[q.jsxs("section",{className:"stats-section",children:[q.jsxs("div",{className:"stat-card",children:[q.jsx("h3",{children:"Total Students"}),q.jsx("p",{className:"stat-number",children:s.total})]}),q.jsxs("div",{className:"stat-card",children:[q.jsx("h3",{children:"Branches"}),q.jsx("div",{className:"stat-details",children:Object.entries(s.byBranch).map(([ie,Ce])=>q.jsxs("div",{className:"stat-item",children:[q.jsxs("span",{children:[ie,":"]}),q.jsx("span",{className:"count",children:Ce})]},ie))})]}),q.jsxs("div",{className:"stat-card",children:[q.jsx("h3",{children:"Years"}),q.jsx("div",{className:"stat-details",children:Object.entries(s.byYear).map(([ie,Ce])=>q.jsxs("div",{className:"stat-item",children:[q.jsxs("span",{children:[ie,":"]}),q.jsx("span",{className:"count",children:Ce})]},ie))})]}),q.jsxs("div",{className:"stat-card",children:[q.jsx("h3",{children:"Recent Submissions"}),q.jsxs("div",{className:"stat-details",children:[q.jsxs("div",{className:"stat-item",children:[q.jsx("span",{children:"Last 24 hours:"}),q.jsx("span",{className:"count",children:Q.recentSubmissions.last24h})]}),q.jsxs("div",{className:"stat-item",children:[q.jsx("span",{children:"Last 7 days:"}),q.jsx("span",{className:"count",children:Q.recentSubmissions.last7days})]})]})]}),q.jsxs("div",{className:"stat-card",children:[q.jsx("h3",{children:"Divisions"}),q.jsx("div",{className:"stat-details",children:Object.entries(Q.byDivision).map(([ie,Ce])=>q.jsxs("div",{className:"stat-item",children:[q.jsxs("span",{children:["Division ",ie,":"]}),q.jsx("span",{className:"count",children:Ce})]},ie))})]}),q.jsxs("div",{className:"stat-card",children:[q.jsx("h3",{children:"Email Domains"}),q.jsx("div",{className:"stat-details",children:Object.entries(Q.emailDomains).sort((ie,Ce)=>Ce[1]-ie[1]).slice(0,5).map(([ie,Ce])=>q.jsxs("div",{className:"stat-item",children:[q.jsxs("span",{children:[ie,":"]}),q.jsx("span",{className:"count",children:Ce})]},ie))})]})]}),q.jsxs("section",{className:"export-section",children:[q.jsx("h2",{children:"Export Data"}),q.jsxs("div",{className:"export-buttons-group",children:[q.jsx("button",{onClick:kt,className:"export-button",children:" Quick Export (CSV)"}),q.jsx("button",{onClick:()=>se(!0),className:"export-button",children:" Advanced Export"}),q.jsx("button",{onClick:()=>V(!0),className:"export-button",children:" View Charts"})]})]}),q.jsxs("section",{className:"students-table-section",children:[q.jsx("div",{className:"table-header",children:q.jsxs("h2",{children:["Student Records (",At.length,")"]})}),q.jsxs("div",{className:"search-filter-controls",children:[q.jsx("div",{className:"search-bar",children:q.jsx("input",{type:"text",placeholder:"Search by name, email, roll no, or ZPRN...",value:c,onChange:ie=>h(ie.target.value),className:"search-input"})}),q.jsxs("div",{className:"filter-group",children:[q.jsxs("select",{value:f,onChange:ie=>m(ie.target.value),className:"filter-select",children:[q.jsx("option",{value:"",children:"All Branches"}),rt.map(ie=>q.jsx("option",{value:ie,children:ie},ie))]}),q.jsxs("select",{value:p,onChange:ie=>v(ie.target.value),className:"filter-select",children:[q.jsx("option",{value:"",children:"All Years"}),Gn.map(ie=>q.jsx("option",{value:ie,children:ie},ie))]}),q.jsxs("select",{value:x,onChange:ie=>T(ie.target.value),className:"filter-select",children:[q.jsx("option",{value:"",children:"All Divisions"}),Ct.map(ie=>q.jsx("option",{value:ie,children:ie},ie))]}),(c||f||p||x)&&q.jsx("button",{onClick:()=>{h(""),m(""),v(""),T("")},className:"clear-filters-button",children:"Clear Filters"})]})]}),A.size>0&&q.jsxs("div",{className:"bulk-actions-bar",children:[q.jsxs("span",{className:"bulk-selected-count",children:[A.size," student(s) selected"]}),q.jsx("button",{onClick:Ne,className:"bulk-delete-button",children:" Delete Selected"})]}),q.jsx("div",{className:"table-wrapper",children:q.jsxs("table",{className:"students-table",children:[q.jsx("thead",{children:q.jsxs("tr",{children:[q.jsx("th",{className:"checkbox-column",children:q.jsx("input",{type:"checkbox",checked:sn.length>0&&A.size===sn.length,onChange:ot,className:"student-checkbox"})}),q.jsxs("th",{onClick:()=>dt("firstName"),className:"sortable",children:["First Name ",E==="firstName"&&(C==="asc"?"":"")]}),q.jsx("th",{children:"Middle Name"}),q.jsxs("th",{onClick:()=>dt("surname"),className:"sortable",children:["Surname ",E==="surname"&&(C==="asc"?"":"")]}),q.jsx("th",{children:"Contact"}),q.jsxs("th",{onClick:()=>dt("email"),className:"sortable",children:["Email ",E==="email"&&(C==="asc"?"":"")]}),q.jsxs("th",{onClick:()=>dt("branch"),className:"sortable",children:["Branch ",E==="branch"&&(C==="asc"?"":"")]}),q.jsxs("th",{onClick:()=>dt("year"),className:"sortable",children:["Year ",E==="year"&&(C==="asc"?"":"")]}),q.jsxs("th",{onClick:()=>dt("division"),className:"sortable",children:["Division ",E==="division"&&(C==="asc"?"":"")]}),q.jsxs("th",{onClick:()=>dt("rollNumber"),className:"sortable",children:["Roll No ",E==="rollNumber"&&(C==="asc"?"":"")]}),q.jsx("th",{children:"ZPRN No"}),q.jsx("th",{className:"actions-column",children:"Actions"})]})}),q.jsx("tbody",{children:sn.length>0?sn.map(ie=>q.jsxs("tr",{className:I===ie.id?"editing-row":"",children:[q.jsx("td",{className:"checkbox-column",children:q.jsx("input",{type:"checkbox",checked:A.has(ie.id),onChange:()=>pt(ie.id),className:"student-checkbox"})}),q.jsx("td",{onClick:()=>Te(ie),className:"clickable-cell",children:I===ie.id?q.jsx("input",{type:"text",value:M?.firstName||"",onChange:Ce=>B($e=>$e?{...$e,firstName:Ce.target.value}:null),className:"edit-input",onClick:Ce=>Ce.stopPropagation()}):ie.firstName}),q.jsx("td",{onClick:()=>Te(ie),className:"clickable-cell",children:I===ie.id?q.jsx("input",{type:"text",value:M?.middleName||"",onChange:Ce=>B($e=>$e?{...$e,middleName:Ce.target.value}:null),className:"edit-input",onClick:Ce=>Ce.stopPropagation()}):ie.middleName||"-"}),q.jsx("td",{onClick:()=>Te(ie),className:"clickable-cell",children:I===ie.id?q.jsx("input",{type:"text",value:M?.surname||"",onChange:Ce=>B($e=>$e?{...$e,surname:Ce.target.value}:null),className:"edit-input",onClick:Ce=>Ce.stopPropagation()}):ie.surname}),q.jsx("td",{onClick:()=>Te(ie),className:"clickable-cell",children:I===ie.id?q.jsx("input",{type:"text",value:M?.contactNumber||"",onChange:Ce=>B($e=>$e?{...$e,contactNumber:Ce.target.value}:null),className:"edit-input",onClick:Ce=>Ce.stopPropagation()}):ie.contactNumber}),q.jsx("td",{onClick:()=>Te(ie),className:"clickable-cell",children:I===ie.id?q.jsx("input",{type:"email",value:M?.email||"",onChange:Ce=>B($e=>$e?{...$e,email:Ce.target.value}:null),className:"edit-input",onClick:Ce=>Ce.stopPropagation()}):ie.email}),q.jsx("td",{onClick:()=>Te(ie),className:"clickable-cell",children:I===ie.id?q.jsx("select",{value:M?.branch||"",onChange:Ce=>B($e=>$e?{...$e,branch:Ce.target.value}:null),className:"edit-select",onClick:Ce=>Ce.stopPropagation(),children:rt.map(Ce=>q.jsx("option",{value:Ce,children:Ce},Ce))}):ie.branch}),q.jsx("td",{onClick:()=>Te(ie),className:"clickable-cell",children:I===ie.id?q.jsx("select",{value:M?.year||"",onChange:Ce=>B($e=>$e?{...$e,year:Ce.target.value}:null),className:"edit-select",onClick:Ce=>Ce.stopPropagation(),children:Gn.map(Ce=>q.jsx("option",{value:Ce,children:Ce},Ce))}):ie.year}),q.jsx("td",{onClick:()=>Te(ie),className:"clickable-cell",children:I===ie.id?q.jsx("input",{type:"text",value:M?.division||"",onChange:Ce=>B($e=>$e?{...$e,division:Ce.target.value.toUpperCase()}:null),className:"edit-input",maxLength:1,onClick:Ce=>Ce.stopPropagation()}):ie.division}),q.jsx("td",{onClick:()=>Te(ie),className:"clickable-cell",children:I===ie.id?q.jsx("input",{type:"text",value:M?.rollNumber||"",onChange:Ce=>B($e=>$e?{...$e,rollNumber:Ce.target.value}:null),className:"edit-input",onClick:Ce=>Ce.stopPropagation()}):ie.rollNumber}),q.jsx("td",{onClick:()=>Te(ie),className:"clickable-cell",children:I===ie.id?q.jsx("input",{type:"text",value:M?.zprnNumber||"",onChange:Ce=>B($e=>$e?{...$e,zprnNumber:Ce.target.value}:null),className:"edit-input",onClick:Ce=>Ce.stopPropagation()}):ie.zprnNumber}),q.jsx("td",{className:"actions-column",children:I===ie.id?q.jsxs("div",{className:"action-buttons",children:[q.jsx("button",{onClick:Le,className:"save-button",title:"Save",children:""}),q.jsx("button",{onClick:ke,className:"cancel-button",title:"Cancel",children:""})]}):q.jsxs("div",{className:"action-buttons",children:[q.jsx("button",{onClick:()=>je(ie),className:"edit-button",title:"Edit",children:""}),q.jsx("button",{onClick:()=>fe(ie.id),className:"delete-button",title:"Delete",children:""})]})})]},ie.id)):q.jsx("tr",{children:q.jsx("td",{colSpan:12,className:"no-results",children:"No students found matching your filters"})})})]})}),At.length>0&&q.jsxs("div",{className:"pagination-controls",children:[q.jsxs("div",{className:"pagination-info",children:["Showing ",(N-1)*Y+1," to ",Math.min(N*Y,At.length)," of ",At.length," students"]}),q.jsxs("div",{className:"pagination-buttons",children:[q.jsx("button",{onClick:()=>H(1),disabled:N===1,className:"pagination-button",children:""}),q.jsx("button",{onClick:()=>H(ie=>Math.max(1,ie-1)),disabled:N===1,className:"pagination-button",children:""}),q.jsxs("span",{className:"page-indicator",children:["Page ",N," of ",qe]}),q.jsx("button",{onClick:()=>H(ie=>Math.min(qe,ie+1)),disabled:N===qe,className:"pagination-button",children:""}),q.jsx("button",{onClick:()=>H(qe),disabled:N===qe,className:"pagination-button",children:""})]}),q.jsxs("div",{className:"items-per-page",children:[q.jsx("label",{children:"Per page:"}),q.jsxs("select",{value:Y,onChange:ie=>{te(Number(ie.target.value)),H(1)},className:"items-select",children:[q.jsx("option",{value:10,children:"10"}),q.jsx("option",{value:25,children:"25"}),q.jsx("option",{value:50,children:"50"}),q.jsx("option",{value:100,children:"100"})]})]})]})]})]}),F&&q.jsx("div",{className:"modal-overlay",onClick:()=>Te(null),children:q.jsxs("div",{className:"modal-content",onClick:ie=>ie.stopPropagation(),children:[q.jsxs("div",{className:"modal-header",children:[q.jsx("h2",{children:"Student Details"}),q.jsx("button",{onClick:()=>Te(null),className:"modal-close",children:""})]}),q.jsxs("div",{className:"modal-body",children:[q.jsxs("div",{className:"detail-row",children:[q.jsx("strong",{children:"Full Name:"}),q.jsxs("span",{children:[F.firstName," ",F.middleName||""," ",F.surname]})]}),q.jsxs("div",{className:"detail-row",children:[q.jsx("strong",{children:"Contact Number:"}),q.jsxs("span",{className:"copyable",onClick:()=>navigator.clipboard.writeText(F.contactNumber),children:[" ",F.contactNumber]})]}),q.jsxs("div",{className:"detail-row",children:[q.jsx("strong",{children:"Email:"}),q.jsxs("span",{className:"copyable",onClick:()=>navigator.clipboard.writeText(F.email),children:[" ",F.email]})]}),q.jsxs("div",{className:"detail-row",children:[q.jsx("strong",{children:"Branch:"}),q.jsx("span",{children:F.branch})]}),q.jsxs("div",{className:"detail-row",children:[q.jsx("strong",{children:"Year:"}),q.jsx("span",{children:F.year})]}),q.jsxs("div",{className:"detail-row",children:[q.jsx("strong",{children:"Division:"}),q.jsx("span",{children:F.division})]}),q.jsxs("div",{className:"detail-row",children:[q.jsx("strong",{children:"Roll Number:"}),q.jsx("span",{children:F.rollNumber})]}),q.jsxs("div",{className:"detail-row",children:[q.jsx("strong",{children:"ZPRN Number:"}),q.jsx("span",{children:F.zprnNumber})]}),F.submittedAt&&q.jsxs("div",{className:"detail-row",children:[q.jsx("strong",{children:"Submitted At:"}),q.jsx("span",{children:new Date(F.submittedAt).toLocaleString()})]})]}),q.jsxs("div",{className:"modal-footer",children:[q.jsx("button",{onClick:()=>je(F),className:"modal-edit-button",children:" Edit Student"}),q.jsx("button",{onClick:()=>{Te(null),fe(F.id)},className:"modal-delete-button",children:" Delete Student"})]})]})}),Oe&&q.jsx("div",{className:"modal-overlay",onClick:()=>se(!1),children:q.jsxs("div",{className:"modal-content export-modal-content",onClick:ie=>ie.stopPropagation(),children:[q.jsxs("div",{className:"modal-header",children:[q.jsx("h2",{children:" Advanced Export"}),q.jsx("button",{className:"modal-close",onClick:()=>se(!1),children:""})]}),q.jsxs("div",{className:"modal-body",children:[q.jsxs("div",{className:"export-format-section",children:[q.jsx("h3",{children:"Export Format"}),q.jsxs("div",{className:"format-options",children:[q.jsxs("label",{className:"format-option",children:[q.jsx("input",{type:"radio",name:"exportFormat",value:"csv",checked:Ee==="csv",onChange:ie=>Ue(ie.target.value)}),q.jsx("span",{children:" CSV (Comma Separated)"})]}),q.jsxs("label",{className:"format-option",children:[q.jsx("input",{type:"radio",name:"exportFormat",value:"excel",checked:Ee==="excel",onChange:ie=>Ue(ie.target.value)}),q.jsx("span",{children:" Excel (XLSX)"})]})]})]}),q.jsxs("div",{className:"export-columns-section",children:[q.jsx("h3",{children:"Select Columns"}),q.jsx("div",{className:"columns-grid",children:[{key:"fullName",label:"Full Name"},{key:"rollNo",label:"Roll Number"},{key:"zprn",label:"ZPRN"},{key:"branch",label:"Branch"},{key:"year",label:"Year"},{key:"division",label:"Division"},{key:"email",label:"Email"},{key:"phoneNo",label:"Phone Number"},{key:"address",label:"Address"},{key:"createdAt",label:"Submission Date"}].map(ie=>q.jsxs("label",{className:"column-option",children:[q.jsx("input",{type:"checkbox",checked:He.includes(ie.key),onChange:()=>is(ie.key)}),q.jsx("span",{children:ie.label})]},ie.key))})]})]}),q.jsxs("div",{className:"modal-footer",children:[q.jsx("button",{onClick:()=>se(!1),className:"cancel-button",children:"Cancel"}),q.jsxs("button",{onClick:ba,className:"export-confirm-button",children:[" Export ",He.length," Columns"]})]})]})}),ee&&q.jsx("div",{className:"modal-overlay",onClick:()=>V(!1),children:q.jsxs("div",{className:"modal-content charts-modal-content",onClick:ie=>ie.stopPropagation(),children:[q.jsxs("div",{className:"modal-header",children:[q.jsx("h2",{children:" Data Analytics"}),q.jsx("button",{className:"modal-close",onClick:()=>V(!1),children:""})]}),q.jsxs("div",{className:"modal-body charts-body",children:[q.jsxs("div",{className:"chart-container",children:[q.jsx("h3",{children:"Branch Distribution"}),q.jsx(t$,{data:{labels:Object.keys(Q.byDivision),datasets:[{label:"Students by Division",data:Object.values(Q.byDivision),backgroundColor:["rgba(0, 245, 255, 0.7)","rgba(138, 43, 226, 0.7)","rgba(255, 20, 147, 0.7)","rgba(50, 205, 50, 0.7)","rgba(255, 165, 0, 0.7)","rgba(255, 215, 0, 0.7)"],borderColor:"rgba(255, 255, 255, 0.3)",borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!0,plugins:{legend:{position:"bottom",labels:{color:"#fff",font:{size:12}}}}}})]}),q.jsxs("div",{className:"chart-container",children:[q.jsx("h3",{children:"Year-wise Distribution"}),q.jsx(e$,{data:{labels:["FY","SY","TY","Final Year"],datasets:[{label:"Students Count",data:[e.filter(ie=>ie.year==="FY").length,e.filter(ie=>ie.year==="SY").length,e.filter(ie=>ie.year==="TY").length,e.filter(ie=>ie.year==="Final Year").length],backgroundColor:"rgba(0, 245, 255, 0.7)",borderColor:"rgba(0, 245, 255, 1)",borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{color:"#fff",stepSize:1},grid:{color:"rgba(255, 255, 255, 0.1)"}},x:{ticks:{color:"#fff"},grid:{color:"rgba(255, 255, 255, 0.1)"}}}}})]}),q.jsxs("div",{className:"chart-container",children:[q.jsx("h3",{children:"Submission Timeline"}),q.jsx(JX,{data:{labels:Object.keys(Q.submissionsByDate).sort(),datasets:[{label:"Daily Submissions",data:Object.keys(Q.submissionsByDate).sort().map(ie=>Q.submissionsByDate[ie]),borderColor:"rgba(138, 43, 226, 1)",backgroundColor:"rgba(138, 43, 226, 0.2)",borderWidth:3,tension:.4,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!0,plugins:{legend:{labels:{color:"#fff"}}},scales:{y:{beginAtZero:!0,ticks:{color:"#fff",stepSize:1},grid:{color:"rgba(255, 255, 255, 0.1)"}},x:{ticks:{color:"#fff",maxRotation:45,minRotation:45},grid:{color:"rgba(255, 255, 255, 0.1)"}}}}})]})]}),q.jsx("div",{className:"modal-footer",children:q.jsx("button",{onClick:()=>V(!1),className:"close-button",children:"Close"})})]})})]})};function i$(){const[n,e]=oe.useState(()=>localStorage.getItem("adminLoggedIn")==="true");oe.useEffect(()=>{n?(localStorage.setItem("adminLoggedIn","true"),localStorage.setItem("lastActivity",Date.now().toString())):(localStorage.removeItem("adminLoggedIn"),localStorage.removeItem("lastActivity"))},[n]),oe.useEffect(()=>{if(!n)return;const r=1800*1e3,s=()=>{const h=parseInt(localStorage.getItem("lastActivity")||"0");Date.now()-h>r&&(e(!1),alert("Session expired due to inactivity. Please login again."))},o=()=>{localStorage.setItem("lastActivity",Date.now().toString())},c=setInterval(s,6e4);return window.addEventListener("mousemove",o),window.addEventListener("keypress",o),window.addEventListener("click",o),window.addEventListener("scroll",o),()=>{clearInterval(c),window.removeEventListener("mousemove",o),window.removeEventListener("keypress",o),window.removeEventListener("click",o),window.removeEventListener("scroll",o)}},[n]);const t=oe.useCallback(()=>{e(!0),localStorage.setItem("lastActivity",Date.now().toString())},[]),i=oe.useCallback(()=>{e(!1)},[]);return q.jsx(CO,{children:q.jsxs(rO,{children:[q.jsx(h_,{path:"/",element:q.jsx(D9,{})}),q.jsx(h_,{path:"/admin",element:n?q.jsx(n$,{onLogout:i}):q.jsx(O9,{onLogin:t})})]})})}d6.createRoot(document.getElementById("root")).render(q.jsx(oe.StrictMode,{children:q.jsx(i$,{})}));
